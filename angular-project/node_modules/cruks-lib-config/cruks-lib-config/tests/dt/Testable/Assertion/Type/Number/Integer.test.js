/**
 * @license Copyright (c) 2014, Cruks
 * For licensing, see LICENSE
 */

"use strict";

/*global describe: false, it: false */

var assert = require("chai").assert,
    IntegerNumberTypeAssertion = require(process.env.PACKAGE_ROOT + "/cruks-lib-config/Testable/Assertion/Type/Number/Integer");

describe("cruks-lib-config/Testable/Assertion/Type/Number/Integer", function () {
    describe("#default()", function () {
        it("checks edge case", function () {
            assert.strictEqual(0, new IntegerNumberTypeAssertion().default(3).assert(0));
        });

        it("picks default value", function () {
            assert.strictEqual(5, new IntegerNumberTypeAssertion().default(5).assert(null));
        });
    });

    describe("#range()", function () {
        describe("#default()", function () {
            it("picks default value", function () {
                assert.strictEqual(6, new IntegerNumberTypeAssertion().range(0, 10).default(6).assert(null));
            });

            it("picks max range input value", function () {
                assert.strictEqual(0, new IntegerNumberTypeAssertion().range(0, 10).default(6).assert(0));
            });

            it("picks min range input value", function () {
                assert.strictEqual(10, new IntegerNumberTypeAssertion().range(0, 10).default(6).assert(10));
            });
        });

        it("validates input against a maximum offset", function () {
            assert.strictEqual(5, new IntegerNumberTypeAssertion().range(0, 10).assert(5));
        });
    });
});
