/**
 * @license Copyright (c) 2014, Cruks
 * For licensing, see LICENSE
 */

"use strict";

/*global describe: false, it: false */

var assert = require("chai").assert,
    AssertionFailureException = require(process.env.PACKAGE_ROOT + "/cruks-lib-config/Exception/AssertionFailure"),
    RegexpObjectTypeAssertion = require(process.env.PACKAGE_ROOT + "/cruks-lib-config/Testable/Assertion/Type/Object/RegExp");

describe("cruks-lib-config/Testable/Assertion/Array", function () {
    describe("#default()", function () {
        it("checks input type", function () {
            var input = /regexp/;

            assert.strictEqual(input, new RegexpObjectTypeAssertion().assert(input));
        });

        it("throws error if item is not a regular expression", function () {
            assert.throws(function () {
                new RegexpObjectTypeAssertion().assert("not-a-regular-expression");
            }, AssertionFailureException, "expected regular expression but got (string)\"not-a-regular-expression\"");
        });
    });
});
