/**
 * @license Copyright (c) 2013, CKSource - Frederico Knabben
 * @license Copyright (c) 2013-2014, Cruks
 * For licensing, see LICENSE
 */

"use strict";

/*global describe: false, it: false */

var AssertionFailure = require(process.env.PACKAGE_ROOT + "/cruks-lib-config/Exception/AssertionFailure"),
    TraverseTracker = require("cruks-lib-traverse-tracker").TraverseTracker,
    VerbosityIndicator = require("cruks-lib-verbosity-indicator").VerbosityIndicator,
    assert = require("assert");

describe("cruks-lib-config/Exception/AssertionFailure", function () {
    var tt = new TraverseTracker(),
        vi = new VerbosityIndicator();

    describe("#decorateMessage()", function () {
        /*eslint no-new: 0 */

        it("decorates boolean", function () {
            new AssertionFailure("test-message", true, vi, tt);
        });

        it("decorates null object", function () {
            new AssertionFailure("test-message", null, vi, tt);
        });

        it("decorates number", function () {
            new AssertionFailure("test-message", 1, vi, tt);
        });

        it("decorates object", function () {
            new AssertionFailure("test-message", {}, vi, tt);
        });
    });

    describe("#stack", function () {
        it("generates full stack trace", function () {
            var assertionFailureError = new AssertionFailure("test-message", {}, vi, tt);

            assert.ok(assertionFailureError.stack);
        });
    });
});
