/**
 * @license Copyright (c) 2014, Cruks
 * For licensing, see LICENSE
 */

"use strict";

var path = require("path"),
    Assertion = require(path.join(__dirname, "/../Assertion")),
    PrimitiveTypeAssertion = require(path.join(__dirname, "/../Assertion/Type/Primitive")),
    SomeAssertion = require(path.join(__dirname, "/../Assertion/Some")),
    SymbolTypeAssertion = require(path.join(__dirname, "/../Assertion/Type/Symbol"));

/**
 * @auguments cruks-lib-config/Testable/Assertion
 * @constructor
 */
function KeyAssertion() {
    Assertion.call(this);

    this.keyExpectation = new SomeAssertion([
        new SymbolTypeAssertion(),
        new PrimitiveTypeAssertion()
    ]);
}
KeyAssertion.prototype = Object.create(Assertion.prototype);

KeyAssertion.prototype.getExpectationBaseMessage = function (item, verbosity, isNegated) {
    return this.keyExpectation.getExpectationBaseMessage(item, verbosity, isNegated);
};

KeyAssertion.prototype.test = function (item, verbosity, tracker) {
    return this.keyExpectation.assert(item, verbosity, tracker);
};

module.exports = KeyAssertion;
