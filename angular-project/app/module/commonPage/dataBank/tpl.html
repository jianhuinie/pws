<div class="data-bank">
    <div class="data-header">
        <div class="title" ng-click="goToDir({path: '/personal/'})">
            我的资料库
        </div>
        <div class="crumbs">
            <div class="crumb-item" ng-repeat="crumb in crumbs"
                 ng-click="goToDir(crumb)">
                <span class="current-path" ng-show="crumb.path===currentPath"
                      ng-bind="crumb.name">
                    
                </span>
                <span ng-hide="crumb.path===currentPath"
                      ng-bind="crumb.name + ' >'">
                    
                </span>
            </div>
        </div>
        <div class="local-upload" ng-click="uploadFile()" ng-hide="hideUpload">
            +本地上传
        </div>
    </div>
    <div class="file-list">
        <div class="list-header">
            <div class="file-name">文件名称</div>
            <div class="file-size">文件大小</div>
            <div class="share-status">共享状态</div>
            <div class="upload-status">上传状态</div>
            <div class="options">操作</div>
        </div>
        <div class="list-body">
            <div ng-repeat="file in dataList" class="file-item" 
                 ng-class="{'first-item': $index===1}">
                <div class="select-item">
                    <input type="checkbox" name="" ng-model="file.selected"
                            ng-show="file.type==='file'">
                </div>
                <div class="file-name" ng-class="{'name-dir': file.type==='dir'}"
                     ng-click="goToDir(file)">
                    <span class="{{fileTypeClassMap[file.type]}}" ng-if="file.type==='dir'">
                        
                    </span>
                    <span class="{{fileTypeClassMap[file.file_type]}}" ng-if="file.type==='file'">
                        
                    </span>
                    <span ng-bind="file.name"></span>
                </div>
                <div class="file-size" ng-bind="file.size" ng-show="file.size"></div>
                <div class="file-size" ng-hide="file.size">---</div>
                <div class="share-status">---</div>
                <div class="upload-status" ng-hide="file.uploadStatus">---</div>
                <div class="upload-status muted" ng-show="file.uploadStatus==='uploading'">
                    上传中...
                </div>
                <div class="upload-status error" ng-show="file.uploadStatus==='uploadFail'">
                    上传失败
                </div>
                <div class="upload-status success" ng-show="file.uploadStatus==='uploaded'">
                    上传成功
                </div>
                <div class="options" ng-hide="file.uploadStatus==='uploadFail'">---</div>
                <div class="options" ng-show="file.uploadStatus==='uploadFail'"
                      ng-click="uploadAgain(file)">
                    重新上传
                </div>
                

                <div class="progress-bar" ng-show="file.uploadStatus==='uploading'" 
                     style="width:{{file.uploadRate}}">
                    
                </div>
            </div>
        </div>
    </div>
    <div class="data-settings" ng-hide="hideSettings" ng-hide="hideSettings">
        资料设置: 
        <label>
            <input type="checkbox" name="" ng-model="allowDownload">
            允许学生下载
        </label>
        <label>
            <input type="checkbox" name="" ng-model="publicData">
            公开资料
        </label>
    </div>
    <div class="data-footer">
        <div class="text">
            <i class="icon icon-ic_detail"></i>
            该类型文件无法在线观看，只能允许学生下载！
        </div>
        <div class="btn-confirm" ng-click="confirmSelect()">
            完成
        </div>
    </div>
</div>