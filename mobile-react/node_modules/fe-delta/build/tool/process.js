/**
 * 进程相关操作可以放这
 * @huangshiming
 * 2017-09-11
 */
const fork = require('child_process').fork;
const path = require('path');

/**
 * 启动进程
 * relativePath: 需要启动的进程的相对路径
 */
exports.initProcess = function (absolutePath) {
    return fork(absolutePath);
};

/**
 * 进程接收消息
 * process: 启动的进程
 * callback: 启动进程后的回调函数
 * msg: 监听的字符串
 */
exports.recieveMessage = function (process, msg, callback) {
    process.on(msg, function (message){
        callback(message);
    }) ;
};

/**
 * 进程发送消息
 * process: 启动的进程
 * params: 要发送的参数
 */
exports.sendMessage = function (process, params) {
    process.send(params);
};