<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>抽奖</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
        body {
            background: #D53E19 url(bg.jpg) repeat 50% 50%;
            background-size: 100%;
            background-size: cover;
        }
        html,
        body {
            height: 100%;
        }

        #main {
            background-color: rgba(255,255,255,1);
            position: absolute;
            left: 50%;
            top: 28%;
            transform: translate(-50%, 0);
            padding: 20px 60px;
            width: 460px;
            text-align: center;
            border-radius: 15px;
            box-shadow: 2px 2px 6px #7b2e30;
        }

        #names {
            text-align: center;
            font-size: 23px;
            color: #4C4C4C;
            margin-bottom: 1em;
            line-height: 44px;
            min-height: 308px;
            position: relative;
        }
        .content {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            font-size: 14px;
            color: #2d2d2e;
            line-height: 18px;
        }
        .employee-item {
            display: inline-block;
            width: 135px;
            margin-right: 25px;
        }
        .employee-item:nth-child(5n) {
            margin-right: 0;
        }
        .employee-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
        }
        #icon-close {
            display: none;
        }
        .prize-names {
            position: relative;
            animation: 1s prizeNames forwards;
        }
        .prize-names #icon-close {
            display: inline-block;
            position: absolute;
            right: 13px;
            top: 0px;
            line-height: initial;
            height: 25px;
            width: 25px;
        }
        .prize-names #icon-close img {
            width: 100%;
            height: 100%;
        }
        @keyframes prizeNames {
            from {
                width: 460px;
            }
            to {
                background-color: rgba(255,255,255,1);
                position: absolute;
                left: 50%;
                top: 0;
                transform: translate(-50%, 0);
                padding: 20px 60px;
                width: 775px;
                min-height: 404px;
                text-align: center;
                border-radius: 15px;
                font-size: 32px;
                margin: 0;
                color: #4C4C4C;
                line-height: 44px;
            }
        }

        #footer {
            margin-top: 20px;
            font-size: 22px;
            color: #DE0808;
        }

        input {
            outline: 0;
            border: 0;
            font-size: 18px;
            padding: 5px 10px;
            width: 14em;
            margin: 0 5px;
            border: 1px solid #DE0808;
            border-radius: 100px;
            text-align: center;
        }
        button {
            border: 1px solid #CE4242;
            background-color: #FF6C00;
            color: #FFF;
            cursor: pointer;
            font-size: 1.5em;
            padding: 10px 20px;
            margin-top: 20px;
            border-radius: 3px;
            outline: none;
        }

    </style>
    <script>
        /**
        1、用户输入抽奖个数，默认进入获取焦点，默认5；
        2、中奖之后不重复中奖；
        3、易用性：空格开始、空格结束；最大化，退出最大化；
        4、中奖名单放大；
        */
        (function () {
            // 存放所有同学信息
            var students = [
                'A1277---刘叶超',
                'A1278---高雨',
                'A1276---谢倩颖',
                'A1274---郭雅雪',
                'A1273---许有宁',
                'A1275---王博',
                'A1272---王佳玉',
                'A1271---屈汝南',
                'A1266---赵宏',
                'A1267---张崔霞',
                'A1268---张颖',
                'A1262---王颖悦',
                'B0105---夏志尧',
                'A1264---徐超民',
                'A1265---张保卫',
                'A1256---任国强',
                'A1253---薛震',
                'A1255---王晨晖',
                'A1252---王琪',
                'A1257---陈明欣',
                'A1260---高波',
                'A1263---白俊锋',
                'A1247---尹晓蓉',
                'A1248---程璐鑫',
                'A1246---刘萌萌',
                'B0101---曲喜洋',
                'A1235---陈文军',
                'A1237---王烜',
                'A1234---王静',
                'A1229---李利纳',
                'A1243---郭振全',
                'A1231---郝帅',
                'A1230---王斌',
                'A1242---于婧倩',
                'A1249---成环',
                'A1236---于洪涛',
                'A1240---王亚琦',
                'A1244---聂晴晴',
                'A1233---卢琪琪',
                'B0100---袁哲',
                'A1226---郝海圣',
                'A1228---李俊鹏',
                'A1225---王晶',
                'A1210---张冠宇',
                'A1220---曾晓希',
                'A1216---王钟玉',
                'A1218---冀佟伟',
                'B0098---李满堂',
                'A1211---张静',
                'B0097---刘爽',
                'A1217---吕宏伟',
                'A1209---顾克亭',
                'A1207---于云童',
                'A1205---吴俣',
                'A1204---高晓丽',
                'A1202---闫夏丽',
                'A1200---王慧鑫',
                'A1197---高天龙',
                'A1199---李浩楠',
                'A1203---刘梦亚',
                'A1191---严磊',
                'A1192---赵隆阳',
                'A1193---李娜',
                'A1194---李姝',
                'A1186---沈发',
                'A1183---贾文婷',
                'A1188---王俊华',
                'A1195---高小湲',
                'A1182---刘培财',
                'A1181---薛博',
                'A1175---马俊颖',
                'A1170---端木晗菡',
                'A1172---常明远',
                'A1174---霍冬婷',
                'A1176---周伟银',
                'A1168---陈青',
                'A1169---牛璐',
                'A1177---谭玉佳',
                'A1165---李进',
                'A1160---李琳',
                'A1161---唐永鹏',
                'A1163---张杰',
                'A1159---周欣',
                'A1157---李泽乾',
                'A1156---尹璐璐',
                'A1139---宋佳音',
                'A1152---杨露露',
                'A1154---王海燕',
                'B0094---刘可欣',
                'A1145---王小花',
                'A1143---罗丽娜',
                'A1146---柏光泽',
                'A1149---殷紫',
                'A1142---杜小芳',
                'A1140---李闪',
                'A1141---杜园园',
                'B0090---杨永强',
                'A1135---鲁欢',
                'B0086---王友琨',
                'A1130---潘江慧',
                'A1133---宋玉平',
                'A1128---张贯贺',
                'B0085---任茜格',
                'A1129---王艺颖',
                'A1123---韩彤',
                'A1124---孟于倩',
                'A1122---杨亚琴',
                'A1126---白远远',
                'A1125---窦炳丽',
                'A1120---赵欣宇',
                'B0084---宋陈彬',
                'A1121---豆丽媛',
                'A1118---王双林',
                'A1119---邹家敏',
                'A1117---史星亚',
                'A1109---梁小虎',
                'A1110---冯梅雪',
                'A1114---于国强',
                'A1106---许志武',
                'A1104---关家兴',
                'A1102---文化',
                'A1099---常雨',
                'A1097---马琳琅',
                'A1091---任雪婷',
                'A1089---张璐瑶',
                'A1095---王元魏',
                'A1088---刘芊阳',
                'A1087---冯雪娜',
                'A1092---孙玥',
                'A1079---郑雨琳',
                'A1077---景云龙',
                'A1081---冯彪',
                'A1078---许家家',
                'A1074---李亚文',
                'A1071---张玉茹',
                'A1070---郑艳苹',
                'A1066---安琪',
                'A1069---杨帆',
                'B0079---曹森泉',
                'A1060---刘福新',
                'A1061---马文兰',
                'A1063---顾瑶',
                'A1062---陈思奇',
                'A1053---常博文',
                'A1050---卢梅',
                'A1051---朱祎军',
                'A1047---李宛瑶',
                'A1046---吴辉',
                'A1044---梁浩',
                'A1039---王品杰',
                'A1041---贺晓燕',
                'A1042---李芳艳',
                'A1040---李听听',
                'A1028---徐浩',
                'A1027---于子焜',
                'A1024---郭艳飞',
                'A1023---路梦琪',
                'A1021---刘文旭',
                'A1020---张凯',
                'A1016---许苗',
                'A1014---魏健',
                'A1008---刘鹏辉',
                'A1001---秦振华',
                'A0999---范振强',
                'A0996---王雅',
                'A1000---李娟',
                'A0997---吕苑僮',
                'A0998---段庆宇',
                'A0995---郭磊',
                'A0991---崔博欣',
                'A0993---刘晓云',
                'A0988---于飞',
                'A0989---刘燕',
                'A0984---侯国治',
                'A0983---陈旭宁',
                'A0981---李淑根',
                'A0929---张琪',
                'A0976---孙宁',
                'A0980---张聪',
                'A0975---王建华',
                'A0974---庞博',
                'A0915---万丽丽',
                'A0913---刘方正',
                'A0972---杨晓玉',
                'A0912---彭云云',
                'A0970---李佳宇',
                'B0070---赵秀丹',
                'B0067---钱圣佳',
                'A0909---田丽娜',
                'A0969---张亮',
                'A0966---李佳微',
                'A0967---王琼',
                'A0899---张慧娟',
                'A0902---蒋婷婷',
                'A0901---陈思宇',
                'A0900---孙仁壮',
                'A0898---潘怡宁',
                'A0895---杨少华',
                'A0896---任凯舟',
                'A0890---刘京帅',
                'A0892---郑琳',
                'A0965---姚航',
                'A0887---朱晨玥',
                'A0885---彭琳',
                'A0882---耿焕豪',
                'A0883---石林涛',
                'A0870---王志来',
                'A0871---祁伟',
                'A0861---孙敬涛',
                'A0863---王晨',
                'A0858---董朋朋',
                'A0849---王倚芮',
                'A0846---吴飞',
                'A0857---刘瓒',
                'A0866---杨丰',
                'A0844---张荟鉴',
                'A0960---李金东',
                'A0962---周鑫鑫',
                'A0841---陈碧霞',
                'A0958---付静雪',
                'A0959---杨忠玉',
                'A0839---于洪武',
                'A0789---李晨光',
                'A0834---巴玉倩',
                'A0820---朱星滔',
                'A0818---和梅仙',
                'A0832---钟坤颖',
                'A0823---韩鹭',
                'A0817---郭琪琪',
                'A0821---邵正旺',
                'A0828---杨媛媛',
                'A0835---曹玉超',
                'A0836---李彤彤',
                'A0810---夏帅',
                'A0811---姚安妮',
                'A0809---杨晓雪',
                'A0790---闫明慧',
                'A0805---杨增海',
                'A0807---张楠楠',
                'A0791---杨慧杰',
                'A0788---赵康',
                'A0781---冯洁',
                'A0782---李月林',
                'A0775---张雨佳',
                'B0051---郑一川',
                'A0771---张旭东',
                'A0764---王腾',
                'A0957---孙玉霞',
                'A0956---裴玥璋',
                'A0732---杨俊',
                'A0745---邹佳荣',
                'A0955---徐茂娟',
                'A0744---杨巍',
                'A0733---刘炜华',
                'A0954---王志刚',
                'A0728---张志富',
                'A0952---黄建建',
                'A0953---张宇',
                'A0720---黄红',
                'A0725---袁顺利',
                'A0692---马登峰',
                'A0702---陈桂芳',
                'A0704---廖亿操',
                'A0686---朱贵杰',
                'A0951---孙孟杰',
                'A0680---张恩光',
                'A0684---刘跃',
                'A0676---韩艳超',
                'A0678---罗希旋',
                'A0948---曹文君',
                'A0674---田一廷',
                'A0949---张晓',
                'A0670---代红',
                'A0668---张龙',
                'A0661---马金娥',
                'A0662---李岩',
                'A0657---常小玉',
                'A0658---陈文杰',
                'A0659---曹海超',
                'A0650---高东泽',
                'A0646---石磊',
                'A0643---梁兵',
                'A0946---刘志文',
                'A0636---窦梦曦',
                'A0623---王超然',
                'A0621---王琴',
                'A0944---高维森',
                'A0943---于明月',
                'A0615---何兴飞',
                'A0614---左红燕',
                'A0612---赵芬',
                'A0610---孟萌',
                'A0942---王红燕',
                'A0599---孙晓彦',
                'A0940---王磊',
                'A0581---刘红红',
                'A0939---刘永梅',
                'A0566---李可',
                'A0565---黄露露',
                'A0564---李艳侠',
                'A0563---樊凯',
                'A0556---李凡',
                'A0554---高文辉',
                'A0548---顾艺蕾',
                'A0544---黄健',
                'A0539---梁贵星',
                'A0538---金春枝',
                'A0534---何凌',
                'A0535---王雪',
                'A0532---李重',
                'A0527---尚丹萍',
                'A0521---乔洁',
                'A0937---陈徽文',
                'A0512---丁鹏飞',
                'A0506---马斯珣',
                'A0507---王春雪',
                'A0502---周长飞',
                'A0494---汪鑫源',
                'A0496---朱琳',
                'A0499---周文超',
                'A0501---王磊',
                'A0491---蔡玉祥',
                'A0492---陆媚',
                'A0482---张其峰',
                'A0475---王艺璇',
                'A0459---张菲菲',
                'A0460---散宝峰',
                'A0464---付林玉',
                'A0465---陈文',
                'A0466---高媛',
                'A0469---聂建辉',
                'A0936---朱军',
                'A0016---胡钧洋',
                'A0444---侯凯',
                'A0934---甄学文',
                'A0933---孟蕊',
                'A0930---刘郎',
                'A0931---刘纪彬',
                'A0932---谢庭松',
                'A0423---郭晋',
                'A0421---常雪花',
                'A0422---王泽鸿',
                'A0420---黄诗铭',
                'A0416---邹水保',
                'A0414---郭芳敏',
                'A0415---王旭东',
                'A0413---冯雪楠',
                'A0411---张继承',
                'A0406---吴建斌',
                'A0407---张晓龙',
                'A0403---高丹',
                'A0404---史瑞茹',
                'A0401---孙康',
                'A0395---杨沛',
                'A0393---王峰',
                'A0391---胡文玉',
                'A0390---张照',
                'A0389---张丽',
                'A0388---赵少敏',
                'A0387---张鹏',
                'A0382---商震',
                'A0368---伍新春',
                'A0367---崔文杰',
                'A0361---丁爽',
                'A0359---王承德',
                'A0353---吴金志',
                'A0348---霍美亭',
                'A0347---李芳',
                'A0340---杨健',
                'A0341---刘威',
                'A0331---杜明明',
                'A0326---李闯',
                'A0320---何英杰',
                'A0319---王字良',
                'A0311---贺林峰',
                'A0307---高浩然',
                'A0079---黄添来',
                'A0305---贾利阳',
                'A0301---张晓雷',
                'A0300---王宏扬',
                'A0298---陈力',
                'A0297---王齐',
                'A0295---何兆意',
                'A0054---范浩彬',
                'A0084---张航',
                'A0293---刘雨',
                'A0292---刘彤',
                'A0287---王奕听',
                'A0286---李仕一',
                'A0285---占文芳',
                'A0284---金欣',
                'A0282---王兆才',
                'A0283---孟娟娟',
                'A0277---王成都',
                'A0275---邹运家',
                'A0272---王希涛',
                'A0274---段天宁',
                'A0270---王永',
                'A0258---罗彬',
                'A0253---哈森托娅',
                'A0245---高丽萍',
                'A0243---王瑶',
                'A0242---刘明磊',
                'A0240---柏越',
                'A0241---翁胜利',
                'A0237---郑涛',
                'A0236---孙琳娜',
                'A0234---徐新红',
                'A1007---周斌',
                'A0780---许翔',
                'A0231---郑好',
                'A0224---孙博',
                'A0223---张丽娜',
                'A1009---胡志军',
                'A0218---胡斌',
                'A0214---梁金宇',
                'A0215---陈黎倩',
                'A0196---周伟',
                'A0195---陶宏玉',
                'A0180---田应翔',
                'A0151---韩利豪',
                'A0156---韩瑞',
                'A0150---王志刚',
                'A0067---范一心',
                'A0107---裴龙辉',
                'A0028---李金霞',
                'A0113---周佳',
                'A0121---李剑翔',
                'A0110---万晶晶',
                'A0082---王小岗',
                'A0089---张丹峰',
                'A0080---雷雅娟',
                'A0069---唐文波',
                'A0029---安丽莎',
                'A0047---卢佳',
                'A0068---孙永',
                'A0037---冯自辉',
                'A0025---Wu Zhao',
                'A0059---钱杨',
                'A0045---曾红军',
                'A0051---程澄',
                'A0056---张弩',
                'A0022---刘兵',
                'A0003---苏伟',
                'A0005---王余洁',
                'A0011---马世吉',
                'A0012---刘妍',
                'A0024---王岩',
                'A0376---李艳男',
                'A0511---王磊',
                'A0252---张子龙',
                'A0235---王凯硕',
                'A0339---郑鹏飞',
                'A0225---龙虓',
                'A0616---陈鹏',
                'A0435---王文超',
                'A0327---游元智',
                'A0310---陈威',
                'A0254---洪文海',
                'A0354---李冠楠',
                'A0865---蒋高贤',
                'A0455---陈明民',
                'A0345---梁伟',
                'A0336---马志飚',
                'A0257---张豫',
                'A0343---殷龙雁',
                'A0570---余昊明',
                'A0230---林久鹏',
                'A0490---寇延洁',
                'A0228---蔡卫星',
                'A0308---王贺',
                'A0412---黄骁',
                'A0352---马大春',
                'A0518---徐梦滢',
                'A0453---茅川媛',
                'A0291---屈建民',
                'A0600---李世铭',
                'A0454---陈学良',
                'A0269---全娟',
                'A1179---王琛淏',
                'A0351---高福厚',
                'A0808---聂虹',
                'A0498---杨杭诺',
                'A0371---石志强',
                'A0314---张哲',
                'A0434---杜朝锋',
                'A1022---陈亮',
                'A0557---刘强',
                'A0268---胡玉娥',
                'A0210---王莉',
                'A0373---李莹',
                'A1090---张立英',
                'A0804---王静',
                'A0350---杨小运',
                'A0480---徐子龙',
                'A0321---许志浩',
                'A0458---周倩',
                'A0344---刘俊豪',
                'A0386---黄文锋',
                'A0027---邹洋',
                'A0440---王新虎',
                'A0568---张超'          
            ];
            var doc = document;
            var $ = function (id) {
                return doc.getElementById(id);
            }

            // 显示元素
            function show(ele) {
                ele.style.display = 'inline-block';
            }

            // 隐藏元素
            function hide(ele) {
                ele.style.display = 'none';
            }

            window.onload = function () {
                // 抽奖开关，true: 正在抽奖，false: 停止
                var isToggle = false;
                var btnFullScreen = $('btn-fullscreen');
                var body = doc.body;
                var timer;
                var prizeCount;
                // 开始抽奖
                function start() {
                    isToggle = true;
                    prizeCount = +$('prize-count').value.trim();
                    if (!prizeCount) {
                        return;
                    }
                    $('names').className = 'prize-names';
                    if (prizeCount > 8) {
                        $('content').className = '';
                    } else {
                        $('content').className = 'content';
                    }
                    timer = setInterval(function () {
                        getRandomStudents();
                    });
                }

                function getRandomStudents(isRemove) {
                    var result = [];
                    for (var i = 0; i < prizeCount; i++) {
                        var index = Math.floor(Math.random() * students.length);
                        var student = students[index];
                        result.push(student);
                        if (isRemove) {
                            students.splice(index, 1);
                        }
                    }
                    
                    // 添加照片
                    var htmlStr = '';
                    for(var j = 0; j < result.length; j++) {
                        var employee = result[j];
                        var employeeNumber = employee.substr(0, 5);
                        var employeeName = employee.substring(8);
                        var employeeAvatar = 'https://imgs.genshuixue.com//90512403_tb2yxlp7.jpeg@1e_222w_125h_1c_0i_1o_90Q_2x.jpg';
                        htmlStr +=  '<div class="employee-item">'
                                +       '<image class="employee-avatar" src="' + employeeAvatar + '">'
                                +       '<div class="employ-number">' + employeeNumber + '</div>'
                                +       '<div class="employ-nname">' + employeeName + '</div>'
                                +   '</div>';
                    }
                    $('content').innerHTML = htmlStr;
                }

                // 结束抽奖
                function stop() {
                    clearInterval(timer);
                    isToggle = false;
                    getRandomStudents(true);
                }

                doc.body.onkeydown = function (e) {
                    if (e.keyCode == 32) {
                        if (isToggle) {
                            stop();
                        } else {
                            start();
                        }
                        e.stopPropagation();
                        return false;
                    }
                };
                $('icon-close').onclick = function () {
                    $('names').className = '';
                };

                // 全屏
                btnFullScreen.onclick = function () {
                    document.documentElement.webkitRequestFullscreen();
                };

                // 监听全屏事件
                document.addEventListener(
                    'webkitfullscreenchange',
                    function () {
                        if (document.webkitIsFullScreen) {
                            hide(btnFullScreen);
                        }
                        else {
                            show(btnFullScreen);
                        }
                    }
                );
            };
        })();
    </script>
</head>
<body>
    <div id="main">
        <div id="names">
            <div id="prize-names">
                <div id="content" class="content">请等待...</div>
            </div>
            <span id="icon-close">
                <img src="icon-close.png"/>
            </span>
        </div>
        <div id="footer">
            抽 <input id="prize-count" type="text" placeholder="请输入本次要抽奖的人数" autofocus> 个
        </div>
        <button id="btn-fullscreen">全屏</button>
    </div>
</body>
</html>
