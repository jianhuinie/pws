{{ *

@file 填写学生信息
@author zhujialu

* }}

{{ strip }}

<div class="form form-student">

    {{ if !empty($profile.display_name) }}
        {{ $name = $profile.display_name }}
    {{ else }}
        {{ $name = "" }}
    {{ /if }}

    {{ if isset($profile.mobile) }}
        {{ $mobile = $profile.mobile }}
    {{ else }}
        {{ $mobile = "" }}
    {{ /if }}

    {{ if isset($profile.is_self) }}
        {{ $is_self = $profile.is_self }}
    {{ else }}
        {{ $is_self = "" }}
    {{ /if }}

    {{ if isset($profile.student_name) }}
        {{ $student_name = $profile.student_name }}
    {{ else }}
        {{ $student_name = "" }}
    {{ /if }}

    {{ if isset($profile.note) }}
        {{ $note = $profile.note }}
    {{ else }}
        {{ $note = "" }}
    {{ /if }}

    {{ if isset($profile.lesson_way) }}
        {{ $lessonWay = $profile.lesson_way }}
    {{ else }}
        {{ $lessonWay = "" }}
    {{ /if }}

    <div class="form-group">
        <label class="form-label">
            {{ if !$mobile }}
            <i class="form-required"></i>
            {{ /if }}
            手机号：
        </label>
        <div class="form-controls">
            {{ if $mobile }}
            <span class="form-static">{{ $mobile }}</span>
            <input type="hidden" name="mobile" value="{{ $mobile }}" />
            {{ else }}
            <input class="form-text input-mobile" type="mobile" name="mobile" required />
            <div class="form-inline">
                <button class="btn btn-info btn-send-code">获取验证码</button>
                <span class="login-guide">
                    该手机号已注册，请
                    <b class="btn-info btn-login">点击登录</b>
                </span>
                <span class="form-static">
                    <span class="text-success bind-success">该手机号绑定成功</span>
                </span>
            </div>
            {{ /if }}
            <span class="error"></span>
        </div>
    </div>

    <div class="form-group code">
        <label class="form-label">
            <i class="form-required"></i>
            验证码：
        </label>
        <div class="form-controls">
            <input class="form-text input-code" type="text" name="code" required />
            <span class="error"></span>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">
            <!--i class="form-required"></i-->
            姓名：
        </label>
        <div class="form-controls">

            {{ if $name }}

            <span class="form-static user-name-text">
                {{ $name }}
            </span>
            <input type="hidden" name="name" value="{{ $name }}" />

            {{ else }}

            <input class="form-text input-name" type="text" name="name" maxlength="30" minlength="2" pattern="^[\u4d00-\u9fa5\uf900-\ufa2da-zA-Z][\u4d00-\u9fa5\uf900-\ufa2da-zA-Z\s\.·]*$" />

            {{ /if }}

            <span class="error"></span>

            <div class="form-block">
                <button class="btn btn-info btn-register">注册</button>
            </div>
        </div>
    </div>

    <div class="form-group is-self">
        <label class="form-label">是否本人上课：</label>

        <div class="form-controls">
            {{ if $is_self === '1' }}
                <span class="form-static">是</span>
            {{ else if $is_self === '0' }}
                <span class="form-static">否</span>
            {{ else }}
                {{ include file="common/component/radio.html" name="self" value="1" text="是" checked=true }}

                {{ include file="common/component/radio.html" name="self" value="0" text="否" checked=false }}
            {{ /if }}
        </div>
    </div>

    <div class="form-group student-name" {{ if $is_self === '0' }}style="display: block;" {{ /if }}>
        <label class="form-label">
            <i class="form-required"></i>
            上课人姓名：
        </label>
        <div class="form-controls">
            {{ if $student_name && $is_self === '0' }}
                <span class="form-static">{{ $student_name }}</span>
            {{ else }}
                <input class="form-text student-name-input" type="text" name="student_name" maxlength="30" minlength="2" pattern="^[\u4d00-\u9fa5\uf900-\ufa2da-zA-Z][\u4d00-\u9fa5\uf900-\ufa2da-zA-Z\s\.·]*$" required />
                <span class="error"></span>
            {{ /if }}
        </div>
    </div>

    <div class="student-address new-address">

        <label class="form-label">
            {{ if $lessonWay == 'teacher' }}
            <i class="form-required"></i>
            老师上门地址：
            {{ else if $lessonWay == 'discuss' }}
            协商上课地址：
            {{ else }}
            订单地址：
            {{ /if }}
        </label>

        {{ include file="teacher_center/component/addressForm.html" hidden=1 }}
    </div>

    <div class="form-group">
        <label class="form-label">给老师留言：</label>
        <div class="form-controls">
            {{ if $note }}
                <span class="form-static">{{ $note }}</span>
            {{ else }}
            <div class="form-editor note">
                <textarea class="form-text" name="note"></textarea>
                <div class="form-hint">还可以输入 <strong>200</strong> 个字</div>
            </div>
            {{ /if }}
        </div>
    </div>

</div>

{{ include file="common/component/baiduMap.html" }}

{{ /strip }}