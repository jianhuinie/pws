{{ *
@file 某个班课的订单列表
@author liucong
* }}
{{ strip }}

{{ if !empty($tpl_data.order_list) }}
{{ $orders = $tpl_data.order_list.object_list }}
{{ $pager =  $tpl_data.order_list.pager }}

{{ include file="common/variable/orderStatus.html" scope=parent }}

{{ if !empty($orders) }}
<table class="table">
    <thead>
        <tr>
            <th>学生名称</th>
            <th>订单编号</th>
            <th>报名时间</th>
            <th>班内序号</th>
            <th>订单时长</th>
            <th>订单价格</th>
            <th>订单状态</th>
            <th>订单操作</th>
        </tr>
    </thead>
    <tbody>
        {{ foreach $orders as $order }}
        <tr{{ if $order.status == "canceled" }} class="canceled"{{ /if }}>
            <td><a href="/x/{{ $order.student_user_number }}" target="_blank">{{ $order.display_name }}</a></td>
            <td>
            {{ if isset($order.is_coin_pay) && $order.is_coin_pay }}
                <i class="icon icon-ic_applelogo" data-title="该订单通过苹果ios端APP购买，收取30%渠道费" data-width="20em"></i>
            {{ else }}
                <i class="icon-apple"></i>
            {{ /if }}
                {{ $order.purchase_id }}
            </td>
            <td>{{ $order.create_time }}</td>
            <td class="dark">{{ $order.student_no }}</td>
            <td class="dark">{{ $order.hours }}小时</td>
            <td class="dark">￥{{ $order.pay_money }}</td>
            <td class="dark">{{ $orderStatus[$order.status][1] }}</td>
            <td><a href="{{ $order.order_url.order_detail_url }}" target="_blank">查看详情</a></td>
        </tr>
        {{ /foreach }}
    </tbody>
</table>

{{ include file="common/component/pager.html" count=$pager.total page=$pager.page page_size=$pager.page_size }}

{{ else }}
    <div class="empty-order-list">
        <div class="empty-hint"></div>
        <p>暂无符合条件的订单</p>
    </div>
{{ /if }}

{{ /if }}
{{ /strip }}