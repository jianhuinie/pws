{{ *

@file 课程评价总评
@author zhujialu

* }}

{{ strip }}

{{ if isset($tpl_data.comment_overview) }}
    {{ $comment_overview = $tpl_data.comment_overview }}
{{ /if }}

{{ if isset($comment_overview.score) }}
    {{ $comment_type = $comment_overview.score.comment_type }}
{{ /if }}

{{ if isset($comment_overview.score) && $comment_overview.score.total_score == 0  }}
    {{ $score_total_score = 5 }}
    {{ $score_desc_match = 5 }}
    {{ $score_service_attitude = 5 }}
    {{ $score_teach_result = 5 }}
{{ else }}
    {{ $score_total_score = $comment_overview.score.total_score }}
    {{ if !$comment_overview.score.total }}
        {{ $score_desc_match = 0 }}
        {{ $score_service_attitude = 0 }}
        {{ $score_teach_result = 0 }}
    {{ else }}
        {{ $score_desc_match = $comment_overview.score.desc_match/$comment_overview.score.total }}
        {{ $score_service_attitude = $comment_overview.score.service_attitude/$comment_overview.score.total }}
        {{ $score_teach_result = $comment_overview.score.teach_result/$comment_overview.score.total }}
    {{ /if }}
{{ /if }}

<div class="score">
    {{ if isset($comment_type.class_group) && $comment_type.class_group > 0 }}
        <strong>{{ $score_total_score|number_format: 1 }}</strong>
        {{ include file="common/component/starScore.html" score=$score_total_score }}
    {{ else }}
        <strong class="no-comment">暂无评分</strong>
    {{ /if }}
</div>

<ul class="detail">
    {{ if isset($comment_type.class_group) && $comment_type.class_group > 0 }}
        <li>
            教学与描述相符 {{ $score_desc_match|number_format: 1  }} 分
        </li>
        <li>
            老师的教学态度 {{ $score_service_attitude|number_format: 1  }} 分
        </li>
        <li>
            老师的响应速度 {{ $score_teach_result|number_format: 1  }} 分
        </li>
    {{ else }}
        <li>
            教学与描述相符    暂无评分
        </li>
        <li>
            老师的教学态度    暂无评分
        </li>
        <li>
            老师的响应速度    暂无评分
        </li>
    {{ /if }}
</ul>
{{ /strip }}