define('teacherCenter/org_7511f6069d',['require','exports','common/store_a1a35b3dfc','common/service_9c322508d3'],function(require,exports){'use strict';var e=require('common/store_a1a35b3dfc'),t=require('common/service_9c322508d3');exports.init=function(){var i=$('#content');i.on('click','.receive, .reject',function(){var i=$(this),n={},o='';n.id=i.data('rid');var s=i.data('org');if(i.hasClass('receive'))if(n.status=1,0!=e.get('vipLevel'))o='您现在是个体老师会员\uFF0C签约机构则不再享有个体老师会员权益\uFF0C但会员时间会继续计算\u3002如解约后成为个体老师时会员仍在有效期则可以继续使用\uFF0C确定签约吗\uFF1F';else o='接受邀请后您即加入机构\uFF0C在机构期间的订单收入将由\u201C'+s+'\u201D发放\u3002请你在接受邀请前与机构协商书面确定你的工作职责\u3001工作时间\u3001课酬等的权利和义务\u3002';else n.status=2,o='拒绝\u201C'+s+'\u201D的邀请\uFF1F';confirm({content:o,title:'温馨提示',width:470}).done(function(){t.setOrgInvite(n,{errorHandler:{700000:function(e){confirm({title:'温馨提示',content:e.msg});}}}).done(function(e){if(0===e.code){if(1==n.status)success('接收成功\uFF0C已加入机构');else success('拒绝成功');setTimeout(function(){location.reload();},500);}});});}).on('click','.nav-item',function(){var n=$(this);if(i.find('.record-nav .nav-item').removeClass('active'),n.addClass('active'),'已解约'==n.text()){if(i.find('.invited-box').hide(),i.find('.lifted-box').show(),e.set('record','lifted'),i.find('.list-nav .action').hide(),i.find('.list-nav .fire-time').show(),!i.find('.lifted-box').text())t.getOrgList({number:e.get('number'),status:2,page:1,pageSize:10}).done(function(e){if(0===e.code){var t=e.data;i.find('.lifted-box').html(t.tpl.org_list);}});}else i.find('.invited-box').show(),i.find('.lifted-box').hide(),e.set('record','invited'),i.find('.list-nav .action').show(),i.find('.list-nav .fire-time').hide();}).on('click','.receive-box input',function(){var e=$(this),i={},n='';if(e.prop('checked'))i.shieldStatus=1,n='不接收任何机构向你发出的邀请信息\uFF1F设置后\uFF0C所有机构将无法向你发送邀请\uFF0C系统将帮你自动拒绝已收到的所有邀请\u3002';else i.shieldStatus=0,n='接收机构向你发出的邀请信息\uFF1F设置后\uFF0C如你没有签约机构\uFF0C所有机构可向你发送邀请\u3002';return confirm({content:n,title:'温馨提示',width:460}).done(function(){t.shieldInvite(i).done(function(t){if(0===t.code)if(success('设置成功\uFF01'),1==i.shieldStatus)e.prop('checked',!0);else e.prop('checked',!1);});}),!1;}).on('click','[data-page]',function(n){var o=$(n.currentTarget),s='lifted'==e.get('record')?2:1;return t.getOrgList({number:e.get('number'),status:s,page:o.data('page'),pageSize:10}).done(function(e){if(0===e.code){var t=e.data;if(1==s)i.find('.invited-box').html(t.tpl.org_list);else i.find('.lifted-box').html(t.tpl.org_list);}}),!1;});};});