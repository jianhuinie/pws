define('common/component/SaveButton_b1f301d041',['require'],function(){'use strict';function t(t){$.extend(this,t),this.init();}return t.prototype={init:function(){var t=this,e=t.element,n=e.html();if('BUTTON'!==e.prop('tagName'))throw new Error('SaveButton 必须使用 button 标签');var i=function(){var i=t.save();if(i)e.focus(),e.prop('disabled',!0),e.html(t.saveText||'正在保存...'),i.always(function(){setTimeout(function(){e.prop('disabled',!1),e.html(n);},10);});return!1;};if(e.click(i),t.form)t.form.submit(function(){return i(),!1;});}},t;}),define('teacherCenter/profile/OtherForm_df9dfebdb9',['require','common/service_9c322508d3','common/component/SaveButton_b1f301d041'],function(require){'use strict';function t(t){$.extend(this,t),this.init();}var e=require('common/service_9c322508d3'),n=require('common/component/SaveButton_b1f301d041');return t.prototype={init:function(){var t=this,i=t.element;t.editor=new UE.ui.Editor({initialFrameHeight:200,maximumWords:5000}),t.editor.render(i.find('.editor')[0]),t.saveButton=new n({element:i.find('.btn-save'),save:function(){var n=t.editor.getContent(),o=t.editor.getContentLength(!0);if(o.length>5000)return void alert('请不要输入超过 5000 个字');var r=t.editor.iframe,c=r.contentDocument||r.contentWindow.document,s=!1;if($('img',c).each(function(){if($(this).attr({width:this.width,height:this.height}),this.width>760)s=!0;}),s)return void alert({title:'温馨提示',content:'插入的图片宽度大于最大展现宽度 760px\uFF0C请进行缩小处理吧',width:400});else return e.editTeacherOtherInfo({content:n},{errorHandler:{100061:function(t){var e={other_info:'更多详情'},n=t.data,i='你';$.each(n,function(t,n){if(n.length)i+='<span class="sensitive">在<em>'+e[t]+'</em>中输入的内容包含',$.each(n,function(t,e){i+='\u201C<em>'+e+'</em>\u201D';}),i+='\uFF1B</span><br />';}),i+='请删除后重新输入',alert({title:'温馨提示',content:i,width:450,buttons:[{text:'确定',type:'primary',handler:function(){this.hide();}}]});}}}).done(function(e){var o=0===e.code,r=t.content;if(o)t.content=n;return i.trigger('save',{content:t.content,isSuccess:o,isNew:null==r}),e;});}});},refresh:function(){var t=this;t.editor.setContent(String(t.content||''));},save:function(){this.element.find('.btn-save').click();},cancel:function(){this.element.find('.btn-cancel').click();}},t;}),define('teacherCenter/profile/other',['require','exports','./OtherForm_df9dfebdb9','common/store_a1a35b3dfc'],function(require,exports){'use strict';function t(){s.hide(),c.show();}function e(){c.hide(),s.show(),n.refresh();}var n,i=require('./OtherForm_df9dfebdb9'),o=require('common/store_a1a35b3dfc'),r=$('#content .other'),c=r.find('.form-trigger'),s=r.find('.form'),a='display';exports.init=function(){n=new i({element:s,content:o.get('other')}),r.on('click','.edit',function(){r.trigger('edit',{name:'other'});}).on('click','.btn-cancel',function(){r.trigger('display',{name:'other'});}).on('save',function(t,e){if(e.isSuccess)success('保存成功',function(){location.reload();});});},exports.status=function(n){if(void 0!==n){if(a=n,'display'==a)t();else if('edit'==a)e();}else return a;},exports.save=function(){n.save();},exports.cancel=function(){n.cancel();},exports.edit=e;});