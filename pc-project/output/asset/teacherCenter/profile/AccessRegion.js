define('cobble/form/Select',['require','exports','module','../ui/ComboBox','../function/jquerify','../function/lifeCycle'],function(require){'use strict';function e(e){return t.init(this,e);}var n=require('../ui/ComboBox'),i=require('../function/jquerify'),t=require('../function/lifeCycle');return e.prototype={constructor:e,type:'Select',init:function(){var e=this,i=e.element,t='<input type="hidden" name="'+e.name+'"';if(null!=e.value)t+=' value="'+e.value+'"';if(i.attr('required'))t+=' required';t+=' />';var o=e.input=$(t);i.append(o),e.comboBox=new n({element:i,button:i.find(e.buttonSelector),menu:i.find(e.menuSelector),data:e.data,value:e.value,show:e.show,hide:e.hide,defaultText:e.defaultText,template:e.template,renderTemplate:e.renderTemplate,activeClass:e.activeClass,openClass:e.openClass,setText:$.proxy(e.setText,e),onChange:function(n,i){if(e.setValue(i.value),!e.silence)e.emit('change',i);},onAfterShow:function(){i.trigger('focusin');},onAfterHide:function(){i.trigger('focusout');}});},disable:function(){var e=this,n=e.element;n.find(e.buttonSelector).prop('disabled',!0);},enable:function(){var e=this,n=e.element;n.find(e.buttonSelector).prop('disabled',!1);},getValue:function(){return this.value;},setValue:function(e,n){var i=this;if(n=n||{},n.force||e!=i.value)i.value=e,i.input.val(null==e?'':e),i.silence=n.silence,i.comboBox.setValue(e),delete i.silence;},refresh:function(e){this.comboBox.refresh(e);},dispose:function(){var e=this;t.dispose(e),e.comboBox.dispose(),e.input=e.element=e.comboBox=null;}},i(e.prototype),e.defaultOptions={defaultText:'请选择',buttonSelector:'.btn-default',menuSelector:'.dropdown-menu',labelSelector:'.btn-default span',activeClass:'active',openClass:'open',renderTemplate:function(e){var n=[];return $.each(e,function(e,i){var t=[];$.each(i,function(e,n){if('text'!==e&&null!=n)t.push('data-'+e+'="'+n+'"');}),n.push('<li '+t.join(' ')+'>'+i.text+'</li>');}),n.join('');},setText:function(e){this.element.find(this.labelSelector).html(e);}},e;}),define('cobble/function/contains',['require','exports','module'],function(){'use strict';return function(e,n){if(e=e.jquery?e[0]:e,n=n.jquery?n[0]:n,!e||!n)return!1;if(e===n)return!0;else return $.contains(e,n);};}),define('cobble/function/isHidden',['require','exports','module'],function(){'use strict';return function(e){e.css('display');return'none'===e.css('display')||0==e.css('opacity')||'hidden'===e.css('visibility');};}),define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var n=$.prototype,i={on:function(){return n.on.apply(e(this),arguments),this;},off:function(){return n.off.apply(e(this),arguments),this;},emit:function(i,t){var o=this,a=e(o);if(a){if(!i[$.expando])i='string'===$.type(i)?$.Event(i):$.Event(null,i);i.cobble=o;var r=[i];if(t)r.push(t);var l=o[$.camelCase('on-'+i.type)];if($.isFunction(l)&&l.apply(o,r)===!1)i.preventDefault();if(!i.isPropagationStopped())n.trigger.apply(a,r);return i;}},before:function(n){e(this).before(n);},after:function(n){e(this).after(n);},appendTo:function(n){e(this).appendTo(n);},prependTo:function(n){e(this).prependTo(n);}};return function(e){$.each(i,function(n,i){if(null==e[n])e[n]=i;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,n){var i=e.constructor,t='__cobble__'+i.prototype.type,o=n.element;if(o&&o.data(t))e=o.data(t);else if($.extend(e,i.defaultOptions,n),e.init(),o)o.data(t,e);return e;},exports.dispose=function(e){var n='__cobble__'+e.constructor.prototype.type,i=e.element;if(i)i.removeData(n);};}),define('cobble/function/split',['require','exports','module'],function(){'use strict';return function(e,n){var i=[];return $.each(e.split(n),function(e,n){if(n=$.trim(n))i.push(n);}),i;};}),define('cobble/helper/Popup',['require','exports','module','../function/split','../function/isHidden','../function/contains','../function/jquerify','../function/lifeCycle','../util/instance'],function(require){'use strict';function e(e){return T.init(this,e);}function n(e,n){$.each(e.showConfigList,function(i,t){t[n](e);});}function i(e,n){$.each(e.hideConfigList,function(i,t){t[n](e);});}function t(e,n){if(e)e.type=n;else e=n;return e;}function o(e){var n=e.currentTarget;return n&&'HTML'===n.tagName?null:n;}function a(e,n){return e.emit(t(n,'beforeShow'));}function r(e,t){return e.layer.data(j,o(t)),n(e,'off'),i(e,'on'),e.emit('afterShow');}function l(e,n){return e.emit(t(n,'beforeHide'));}function d(e){return e.layer.removeData(j),i(e,'off'),n(e,'on'),e.emit('afterHide');}function f(){return $.now();}function c(e){return'__'+e+'Handler__';}function u(e,n){return null==e[n];}function s(e,n){return e.layer.data(j)!==o(n);}function h(e,n,i){return!n||n(e,i);}function v(e,n){return n-e[H]>50;}function m(n,i){return function(t){var o=t.data,a=f(t);if(u(o,k)&&s(o,t)&&h(o,i,t))o[H]=a,g({popup:o,delay:o.show.delay,toggle:e.trigger.show[n].delay,timer:k,success:function(){var e=function(){o.open(t);},n=o[_];if(n)n.done(e);else e();}});};}function p(n,i){return function(t){var o=t.data,a=f(t);if(u(o,q)&&h(o,i,t)&&v(o,a))o[H]=a,o[_]=$.Deferred(),g({popup:o,delay:o.hide.delay,toggle:e.trigger.hide[n].delay,timer:q,success:function(){o.close(t),o[_].resolve();},fail:function(){o[_]=null;}});};}function g(e){var n=e.delay,i=e.success;if(n>0){var t=e.popup,o=e.timer,a=e.toggle||{},r=a.on||$.noop,l=a.off||$.noop,d=e.fail||$.noop,f=function(){clearTimeout(t[o]),l(t,c),t[o]=null;},c=function(e){var n=t[o];if(n)f();if(n&&e===H)i();else d();};r(t,c),t[o]=setTimeout(function(){c(H);},n);}else i();}function y(e){var n=this,i=n.type,t=n.handler,o=c(i);if(e[o]!==t)e.element.on(i,e.selector,e,t),e[o]=t;}function b(e){var n=this;if(!e.selector){var i=n.type;e.element.off(i,n.handler),e[c(i)]=null;}}var x=require('../function/split'),C=require('../function/isHidden'),S=require('../function/contains'),w=require('../function/jquerify'),T=require('../function/lifeCycle'),L=require('../util/instance');e.prototype={constructor:e,type:'Popup',init:function(){var t=this,o=t.showConfigList=[],a=t.hideConfigList=[],r=t.show.trigger,l=t.hide.trigger;if(r)$.each(x(r,','),function(n,i){var t=e.trigger.show[i];if(t)o.push(t);});if(l)$.each(x(t.hide.trigger,','),function(n,i){var t=e.trigger.hide[i];if(t)a.push(t);});if(t.hidden=C(t.layer))n(t,'on');else i(t,'on');},open:function(){var e=this,n=arguments[0];if(!n)e[H]=f();if(n=a(e,n),!n.isDefaultPrevented()){var i=e.layer,t=e.show.animation;if($.isFunction(t))t.call(e,i);else i.show();e.hidden=!1,r(e,n);}},close:function(){var e=this;if(!e.hidden){var n=arguments[0];if(!n)e[H]=f();if(n=l(e,n),!n.isDefaultPrevented()){var i=e.layer,t=e.hide.animation;if($.isFunction(t))t.call(e,i);else i.hide();e.hidden=!0,d(e);}}},dispose:function(){var e=this;T.dispose(e),e.close(),n(e,'off'),e.element=e.layer=null;}},w(e.prototype),e.defaultOptions={show:{trigger:'click'},hide:{trigger:'click'}};var _='__hidePromise__',k='__showTimer__',q='__hideTimer__',H='__lastTriggerTime__',j='__sourceElement__',B=function(e,n){if(!n)return!1;else return S(e.layer,n);};return e.trigger={show:{focus:{type:'focusin',handler:m('focus'),on:y,off:b},click:{type:'click',handler:m('click'),on:y,off:b},over:{type:'mouseenter',handler:m('over'),on:y,off:b,delay:{on:function(e,n){e.element.on('mouseleave',e.selector,n);},off:function(e,n){e.element.off('mouseleave',n);}}},context:{type:'contextmenu',handler:m('context'),on:y,off:b}},hide:{blur:{type:'focusout',handler:p('blur'),on:y,off:b},click:{type:'click',handler:function(){return p(this.type,function(e,n){return!B(e,n.target);});},on:function(e){var n=this;L.document.on(n.type,e,e.clickHandler=n.handler());},off:function(e){L.document.off(this.type,e.clickHandler);}},out:{type:'mouseleave',handler:p('out'),on:function(e){var n=this.type,i=this.handler;e.layer.on(n,e,i),e.element.on(n,e.selector,e,i);},off:function(e){var n=this.type,i=this.handler;e.element.off(n,i),e.layer.off(n,i);},delay:{on:function(e,n){e.element.on('mouseenter',e.selector,n),e.layer.on('mouseenter',n);},off:function(e,n){e.element.off('mouseenter',n),e.layer.off('mouseenter',n);}}},context:{type:'contextmenu',handler:function(){return p('context',function(e,n){return!B(e,n.target);});},on:function(e){var n=this;L.document.on(n.type,e,e.contextHandler=n.handler());},off:function(e){L.document.off(this.type,e.contextHandler);}}}},e;}),define('cobble/ui/ComboBox',['require','exports','module','../function/jquerify','../function/lifeCycle','../helper/Popup'],function(require){'use strict';function e(e){return i.init(this,e);}var n=require('../function/jquerify'),i=require('../function/lifeCycle'),t=require('../helper/Popup');e.prototype={constructor:e,type:'ComboBox',init:function(){var e=this,n=e.button,i=e.menu,a=e.element||n,r=e.openClass,l=e.show,d=e.hide,f=l.animation;if($.isFunction(f))l.animation=$.proxy(f,e);if(f=d.animation,$.isFunction(f))d.animation=$.proxy(f,e);if(e.popup=new t({element:n,layer:i,show:l,hide:d,onBeforeShow:function(n){e.emit(n);},onBeforeHide:function(n){e.emit(n);},onAfterShow:function(n){if(r)a.addClass(r);e.emit(n);},onAfterHide:function(n){if(r)a.removeClass(r);e.emit(n);}}),null==e.value){var c=i.find('.'+e.activeClass);if(1===c.length)e.value=c.data('value');}if(e.data)i.html(e.renderTemplate(e.data,e.template));if(null!=e.value)e.setValue(e.value,{force:!0,silence:!0});i.on('click'+o,'[data-value]',function(){e.setValue($(this).data('value')),e.close();});},getValue:function(){return this.value;},setValue:function(e,n){var i,t=this,o=t.menu,a=o.find('[data-value="'+e+'"]');if(1===a.length){if(i=a.data(),null==i.text)i.text=a.html();}else i={};if(n=n||{},n.force||e!=t.value){var r=t.activeClass;if(r)o.find('.'+r).removeClass(r);if(1===a.length){if(t.value=e,r)a.addClass(r);}else t.value=null;if(!n.silence)t.emit('change',i);}if($.isFunction(t.setText))t.setText(i.text||t.defaultText);},refresh:function(e){var n=this,i=n.value,t={};if(e){var o=e.data;if(o)n.menu.html(n.renderTemplate(o,n.template));if('value'in e)i=e.value,t.force=!0;}n.setValue(i,t);},open:function(){this.popup.open();},close:function(){this.popup.close();},dispose:function(){var e=this;i.dispose(e),e.menu.off(o),e.popup.dispose(),e.popup=e.element=e.button=e.menu=null;}},n(e.prototype),e.defaultOptions={show:{trigger:'click'},hide:{trigger:'click'}};var o='.cobble_ui_combobox';return e;}),define('cobble/util/instance',['require','exports','module'],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body);}),define('common/component/RegionSelect_28068924d5',['require','cobble/form/Select','common/service_9c322508d3','common/store_a1a35b3dfc'],function(require){'use strict';function e(e){$.extend(this,e),this.init();}function n(e,n){setTimeout(function(){e.resolve(n);},0);}function i(){var e=$.Deferred();if(s)n(e,$.extend(!0,[],s));else f.getRegionList({filter:u}).done(function(i){s=i,n(e,$.extend(!0,[],i));});return e;}function t(e){var i=$.Deferred();if(!e)n(i,[]);else if(h[e])n(i,$.extend(!0,[],h[e]));else f.getRegionList({id:e,filter:u}).done(function(t){h[e]=t,n(i,$.extend(!0,[],t));});return i;}function o(e){var i=$.Deferred();if(!e)n(i,[]);else if(v[e])n(i,$.extend(!0,[],v[e]));else f.getRegionList({id:e,filter:u}).done(function(t){v[e]=t,n(i,$.extend(!0,[],t));});return i;}function a(e){var i=$.Deferred();if(!e)n(i,[]);else if(m[e])n(i,$.extend(!0,[],m[e]));else f.getRegionList({id:e,filter:u}).done(function(t){m[e]=t,n(i,$.extend(!0,[],t));});return i;}function r(e){return $.map(e||[],function(e){return{text:e.name,value:e.id};});}function l(e,n,i){e.refresh({data:r(n),value:null!=i?i:null});}var d=require('cobble/form/Select'),f=require('common/service_9c322508d3'),c=require('common/store_a1a35b3dfc'),u='';e.prototype={init:function(){var e=this,n=e.element;u=e.filter;var i=e.prefix||'';e.provinceSelect=new d({element:n.find('.province'),defaultText:e.provinceText||'- 省 -',name:i+'province',onChange:function(n,i){if(t(i.value).done(function(n){if('1'==c.get('user').globalDistrict)if(e.eachAll&&n.length>1)n.unshift({id:i.value,name:'全省'});l(e.citySelect,n,1===n.length?n[0].id:null);}),$.isFunction(e.onProvinceChange))e.onProvinceChange(i);}}),e.citySelect=new d({element:n.find('.city'),defaultText:e.cityText||'- 市 -',name:i+'city',onChange:function(n,i){if(o(i.value).done(function(n){if(e.eachAll)n.unshift({id:i.value,name:'全市'});l(e.areaSelect,n,null);}),$.isFunction(e.onCityChange))e.onCityChange(i);}}),e.areaSelect=new d({element:n.find('.area'),defaultText:e.areaText||'- 区 -',name:i+'area',onChange:function(n,i){if(a(i.value).done(function(n){if(e.eachAll)n.unshift({id:i.value,name:'全部'});l(e.countrySelect,n,null);}),$.isFunction(e.onAreaChange))e.onAreaChange(i);}}),e.countrySelect=new d({element:n.find('.country'),defaultText:e.countrySelect||'- 商圈 -',name:i+'country',onChange:function(n,i){if($.isFunction(e.onCountryChange))e.onCountryChange(i);}}),e.refresh();},refresh:function(e){var n=this;if(e)$.extend(n,e);var r=n.provinceSelect.onChange,d=n.citySelect.onChange,f=n.areaSelect.onChange,u=n.countrySelect.onChange;n.provinceSelect.onChange=n.citySelect.onChange=n.areaSelect.onChange=n.countrySelect.onChange=null,$.when(i(),t(n.provinceId),o(n.cityId),a(n.areaId)).done(function(e,i,t,o){if('1'==c.get('user').globalDistrict)if(n.eachAll)e.unshift({id:0,name:'全国'});if(l(n.provinceSelect,e,n.provinceId),l(n.citySelect,i,n.cityId),l(n.areaSelect,t,n.areaId),l(n.countrySelect,o,n.countryId),n.provinceSelect.onChange=r,n.citySelect.onChange=d,n.areaSelect.onChange=f,n.countrySelect.onChange=u,$.isFunction(n.callback))n.callback();});}};var s=null,h={},v={},m={};return e;}),define('teacherCenter/profile/AccessRegion',['require','common/component/RegionSelect_28068924d5','common/service_9c322508d3'],function(require){'use strict';function e(e){$.extend(this,e),this.init();}function n(e){var n=[];return $.each(e||[],function(e,t){n.push(i(t));}),n.join('');}function i(e){return'<li data-id="'+e.id+'" data-name="'+e.name+'">'+(e.text||e.name)+'</li>';}function t(e){return'<span data-id="'+e.id+'" data-name="'+e.name+'">'+e.name+'<i class="icon icon-times"></i></span>';}function o(e){return'<em data-id="'+e.id+'" data-name="'+e.name+'">'+e.name+'</em>';}function a(e,n,i){for(var t=i.length,o=0;t>o;o++)r(e,n,i[o]);}function r(n,i,t){$.each(i,function(o,a){if(t==o){var r=a.data.level;e.map[r](n,i,a);}});}function l(e,n,i){var o=i.data.id,r=(i.data.name,i.children);if(0==r.length)return e.append('<li><div></div></li>'),void e.find('div').append(t({id:o,name:'全国'}));else a(e,n,r);}function d(e,n,i){var r=i.data.id,l=i.data.name,d=i.children;if(e.append('<li><div></div></li>'),0==d.length)return void e.find('div:last').append(t({id:r,name:l+'全省'}));else e.find('div:last').append(o({id:r,name:l})),a(e,n,d);}function f(e,n,i){{var r=i.data.id,l=i.data.name,d=i.children,f=e.find('li:last'),c=f.find('div').length,u=f.find('div:last:contains("全市")');e.find('div:last');}if(c>2||0!=u.length)f.after('<li><div></div><div></div></li>');else f.append('<div></div>');if(0==d.length)return void e.find('div:last').append(t({id:r,name:l+'全市'}));else e.find('div:last').append(o({id:r,name:l})),a(e,n,d);}function c(e,n,i){{var r=i.data.id,l=i.data.name,d=i.children,f=e.find('li:last'),c=f.find('div').length,u=f.find('div:last:contains("全部")');e.find('div:last');}if(c>3||0!=u.length)f.after('<li><div></div><div></div><div></div></li>');else f.append('<div></div>');if(0==d.length)return void e.find('div:last').append(t({id:r,name:l+'全部'}));else e.find('div:last').append(o({id:r,name:l})),a(e,n,d);}function u(e,n,i){{var o=i.data.id,a=i.data.name,r=(i.children,e.find('li:last')),l=r.find('div').length;e.find('div:last');}if(4>l)r.append('<div></div>');e.find('div:last').append(t({id:o,name:a}));}var s=require('common/component/RegionSelect_28068924d5'),h=require('common/service_9c322508d3');return e.prototype={init:function(){var e=this,i=e.element,a=e.regionSelectBox=i.find('.region-select-box'),r=e.regionBox=i.find('.region-box'),l=e.areaList=i.find('.area-list'),d=e.countryList=i.find('.country-list'),f=e.regionSelected=i.find('.region-selected'),c=e.regionList=i.find('.region-list'),u=(e.regionsSelect=new s({element:i,eachAll:!0,prefix:'region_',onProvinceChange:function(n){e.regionSelected.show();var n={id:n.value,name:n.text};if(0===c.find('tr div:last').find('[data-id="'+n.id+'"]').length){var i=e.regionList.find('li:last'),r=i.find('div').length,f=i.find('div:last:contains("全省")'),u=i.find('div:last:contains("全市")'),s=e.regionList.find('div:last');if('全国'==n.name)confirm({content:'是否要将可上门授课范围设置为全国\uFF1F',title:'温馨提示',width:300}).done(function(){c.find('li').remove(),c.append('<li><div>'+t(n)+'</div></li>'),a.find('.btn-confirm').click();});else if(1==r&&0==f.length)s.html('');else if(2==r&&0==u.length)i.remove(),e.regionList.append('<li><div></div></li>');else if(0==i.length)e.regionList.append('<li><div></div></li>');else i.after('<li><div></div></li>');if('全国'!=n.name)e.regionList.find('div:last').append(o(n));}l.html(''),d.html('');},onCityChange:function(i){var i={id:i.value,name:i.text};if(null!=i.id){if('全省'==i.name)c.find('li:last div:first em').each(function(){var e={id:$(this).data('id'),name:$(this).data('name')+'全省'},n=t(e);$(this).replaceWith(n);}),c.find('li:last div:first').siblings('div').each(function(){$(this).remove();}),a.find('.btn-confirm').click();else if(0===c.find('[data-id="'+i.id+'"]').length){var f=e.regionList.find('li:last'),u=f.find('div').length,s=f.find('div:last:contains("全市")'),v=e.regionList.find('div:last');if(2==u&&0==s.length)v.html('');else if(u>2||0!=s.length){var m=a.find('.province').find('[class="active"]'),p={id:m.data('value'),name:m.text()};f.after('<li><div>'+o(p)+'</div><div></div></li>');}else f.append('<div></div>');e.regionList.find('div:last').append(o(i));}h.getRegionList({id:i.id,includeSubway:!0}).done(function(e){e.unshift({id:i.id,level:2,name:'全市'});var t=n(e);if(t)r.show();l.html(t),d.html('');});}}}),'active');i.on('click','.btn-show',function(){a.show(),$(this).remove();}).on('click','.area-list li',function(i){var r=$(i.currentTarget);if(!r.hasClass(u)){var f=r.index(),s=l.find('li'),v=s.first(),m=v.hasClass(u);if(m){if(f>0)v.removeClass(u),c.find('[data-id="'+v.data('id')+'"]').each(function(){var e=$(this).data('name').length-2,n={id:$(this).data('id'),name:$(this).data('name').substring(0,e)},i=o(n);$(this).replaceWith(i);});}else if(0===f){var p=r.data('id');c.find('[data-id="'+p+'"]').each(function(){var e=$(this),n={id:e.data('id'),name:e.data('name')+'全市'},i=t(n);e.replaceWith(i);}),l.find('.'+u).each(function(){var e=$(this);e.removeClass(u),c.find('[data-id="'+e.data('id')+'"]').closest('div').remove();}),d.find('.'+u).each(function(){var e=$(this);e.removeClass(u),c.find('[data-id="'+e.data('id')+'"]').closest('div').remove();});}var g=r.data();if(null!=g.id){if(0===c.find('[data-id="'+g.id+'"]').length){var y=e.regionList.find('li:last'),b=y.find('div').length;if(b>=3){var x=a.find('.province').find('[class="active"]'),C={id:x.data('value'),name:x.text()},S=a.find('.city').find('[class="active"]'),w={id:S.data('value'),name:S.text()};y.after('<li><div>'+o(C)+'</div><div>'+o(w)+'</div><div></div></li>');}else y.append('<div></div>');e.regionList.find('div:last').append(t(g)),h.getRegionList({id:g.id,includeSubway:!0}).done(function(e){d.html(''),e.unshift({id:g.id,name:g.name,text:'全部'}),d.append(n(e)),d.find('[data-id="'+g.id+'"]').click(),c.find('li').each(function(){var e=$(this).data('id');d.find('[data-id="'+e+'"]').addClass(u);});});}else if(0!==c.find('span[data-id="'+g.id+'"]').length)h.getRegionList({id:g.id,includeSubway:!0}).done(function(e){d.html(''),e.unshift({id:g.id,name:g.name,text:'全部'}),d.append(n(e)),d.find('[data-id="'+g.id+'"]').addClass(u);});else if(0!==c.find('em[data-id="'+g.id+'"]').length)h.getRegionList({id:g.id,includeSubway:!0}).done(function(e){d.html(''),e.unshift({id:g.id,name:g.name,text:'全部'}),d.append(n(e));var i=c.find('em[data-id="'+g.id+'"]'),t=i.closest('li').find('div:last');t.find('span').each(function(){var e=$(this).data('id');d.find('[data-id="'+e+'"]').addClass(u);});});l.find('.'+u).removeClass(u),r.addClass(u);}}}).on('click','.country-list li',function(n){var i=$(n.currentTarget);if(!i.hasClass(u)){var a=i.index(),r=d.find('li'),l=r.first(),f=l.hasClass(u);if(f){if(a>0)l.removeClass(u),c.find('[data-id="'+l.data('id')+'"]').each(function(){var e=$(this).data('name').length-2,n={id:$(this).data('id'),name:$(this).data('name').substring(0,e)},i=o(n);$(this).replaceWith(i);});}else if(0===a){var s=i.data('id');c.find('[data-id="'+s+'"]').each(function(){var e=$(this),n={id:e.data('id'),name:e.data('name')+'全部'},i=t(n);e.replaceWith(i);}),d.find('.'+u).each(function(){var e=$(this);e.removeClass(u),c.find('[data-id="'+e.data('id')+'"]').closest('div').remove();});}i.addClass(u);var h=i.data();if(0===c.find('[data-id="'+h.id+'"]').length){var v=e.regionList.find('li:last');if(e.regionList.find('li:last div').length<4)v.append('<div></div>'),v.find('span').each(function(){var e=o($(this).data());$(this).replaceWith(e);});e.regionList.find('li div:last').append(t(h));}}}).on('click','.icon-times',function(e){var n=$(e.currentTarget).closest('span'),i=n.closest('div'),t=n.data();if('全国'==t.name||t.name.indexOf('全省')>0)confirm({content:'是否确认删除该可上门授课范围\uFF1F',title:'温馨提示',width:300}).done(function(){n.remove(),d.find('[data-id="'+t.id+'"]').removeClass(u),i.closest('li').remove(),$('.btn-show').remove(),a.find('.btn-confirm').click();});else{n.remove(),l.find('[data-id="'+t.id+'"]').removeClass(u),d.find('[data-id="'+t.id+'"]').removeClass(u);var o=i.find('span').length;if(0===o)i.closest('li').remove(),$('.btn-show').remove(),a.find('.btn-confirm').click();}}).on('click','.btn-confirm',function(){e.regionsSelect.refresh({provinceId:null,cityId:null}),e.areaList.html(''),e.countryList.html(''),a.find('.active').each(function(){$(this).removeClass('active');}),a.hide(),f.find('.form-action').show();}).on('click','.btn-add',function(){if(0!==c.find('[data-name=全国]').length)confirm({content:'你的可上门授课范围已经设置为全国\uFF0C不能继续添加\uFF0C是否删除后重新添加\uFF1F',title:'温馨提示',width:310}).done(function(){c.find('li').remove();});else a.show(),$(this).closest('.form-action').hide();}).on('click','.btn-clear',function(){$(this);confirm({content:'你确定要删除所有可上门授课范围吗\uFF1F',title:'温馨提示',width:320}).done(function(){c.find('li').remove();});});},getValue:function(){var e=this,n=[];return e.regionList.find('li').each(function(){$(this).find('div:last span').each(function(){n.push($(this).data('id'));});}),n.join(',');},refresh:function(){var e=this,n=e.data||[];if(e.regionsSelect.refresh({provinceId:null,cityId:null}),e.areaList.html(''),e.countryList.html(''),e.regionList.html(''),n)r(e.regionList,n,'0');}},e.map={0:function(e,n,i){l(e,n,i);},1:function(e,n,i){d(e,n,i);},2:function(e,n,i){f(e,n,i);},3:function(e,n,i){c(e,n,i);},4:function(e,n,i){u(e,n,i);},5:function(e,n,i){u(e,n,i);}},e;});