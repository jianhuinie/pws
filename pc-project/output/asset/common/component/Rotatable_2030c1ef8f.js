define('cobble/util/browser',['require','exports','module'],function(){'use strict';function t(t){var r,h=e(t)||s.exec(t)||a.exec(t)||i(t)||n.exec(t)||[];if(/Android/i.test(t))r='android';else if(/iPhone/i.test(t)||/iPad/i.test(t)||/iTouch/i.test(t))r='ios';else if(/Windows/i.test(t))r='windows';else if(/Macintosh/i.test(t))r='mac';else if(/Linux/i.test(t))r='linux';return{name:h[1]||'',version:h[2]||'0',os:r||''};}function e(t){var e,i=h.exec(t);if(i)e=i[1];else if(i=o.exec(t))e=parseInt(i[1],10)+4+'.0';if(e)return['','ie',e];else return void 0;}function i(t){var e=r.exec(t);if(e)return['','safari',e[1]];else return void 0;}var s=/(chrome)[ \/]([\w.]+)/,a=/(firefox)[ \/]([\w.]+)/,n=/(opera)(?:.*version)?[ \/]([\w.]+)/,r=/version[ \/]([\w.]+) safari/,h=/msie ([\w.]+)/,o=/trident[ \/]([\w.]+)/,_=t(navigator.userAgent.toLowerCase());if(_.name)_[_.name]=!0;return _;}),define('common/component/Rotatable_2030c1ef8f',['require','exports','cobble/util/browser'],function(require){function t(t){$.extend(this,t),this.init();}for(var e,s,a=require('cobble/util/browser'),n=document.getElementsByTagName('head')[0].style,r='transformProperty WebkitTransform OTransform msTransform MozTransform'.split(' '),h=0,o=r.length;o>h;h++)if(void 0!==n[r[h]])e=r[h];if(e)if(s=e.replace(/[tT]ransform/,'TransformOrigin'),'T'==s[0])s[0]='t';var _=1==a.ie&&'8.0'==a.version,m={};if(m.PhotoEffect=function(){if(e)return function(t,e){t.Wilq32={PhotoEffect:this},this._img=this._rootObj=this._eventObj=t,this._handleRotation(e);};else return function(t,e){if(this._img=t,this._onLoadDelegate=[e],this._rootObj=document.createElement('span'),this._rootObj.style.display='inline-block',this._rootObj.Wilq32={PhotoEffect:this},t.parentNode.insertBefore(this._rootObj,t),t.complete)this._Loader();else{var i=this;jQuery(this._img).bind('load',function(){i._Loader();});}};}(),m.PhotoEffect.prototype={_setupParameters:function(t){if(this._parameters=this._parameters||{},'number'!=typeof this._angle)this._angle=0;if('number'==typeof t.angle)this._angle=t.angle;if(this._parameters.animateTo='number'==typeof t.animateTo?t.animateTo:this._angle,this._parameters.step=t.step||this._parameters.step||null,this._parameters.easing=t.easing||this._parameters.easing||this._defaultEasing,this._parameters.duration=t.duration||this._parameters.duration||1000,this._parameters.callback=t.callback||this._parameters.callback||this._emptyFunction,this._parameters.center=t.center||this._parameters.center||['50%','50%'],'string'==typeof this._parameters.center[0])this._rotationCenterX=parseInt(this._parameters.center[0],10)/100*this._imgWidth*this._aspectW;else this._rotationCenterX=this._parameters.center[0];if('string'==typeof this._parameters.center[1])this._rotationCenterY=parseInt(this._parameters.center[1],10)/100*this._imgHeight*this._aspectH;else this._rotationCenterY=this._parameters.center[1];if(t.bind&&t.bind!=this._parameters.bind)this._BindEvents(t.bind);},_emptyFunction:function(){},_defaultEasing:function(t,e,i,s,a){return-s*((e=e/a-1)*e*e*e-1)+i;},_handleRotation:function(t,i){if(!e&&!this._img.complete&&!i)return void this._onLoadDelegate.push(t);if(this._setupParameters(t),this._angle==this._parameters.animateTo)this._rotate(this._angle);else this._animateStart();},_BindEvents:function(t){if(t&&this._eventObj){if(this._parameters.bind){var e=this._parameters.bind;for(var i in e)if(e.hasOwnProperty(i))jQuery(this._eventObj).unbind(i,e[i]);}this._parameters.bind=t;for(var i in t)if(t.hasOwnProperty(i))jQuery(this._eventObj).bind(i,t[i]);}},_Loader:function(){if(_)return function(){var t=this._img.width,e=this._img.height;this._imgWidth=t,this._imgHeight=e,this._img.parentNode.removeChild(this._img),this._vimage=this.createVMLNode('image'),this._vimage.src=this._img.src,this._vimage.style.height=e+'px',this._vimage.style.width=t+'px',this._vimage.style.position='absolute',this._vimage.style.top='0px',this._vimage.style.left='0px',this._aspectW=this._aspectH=1,this._container=this.createVMLNode('group'),this._container.style.width=t,this._container.style.height=e,this._container.style.position='absolute',this._container.style.top='0px',this._container.style.left='0px',this._container.setAttribute('coordsize',t-1+','+(e-1)),this._container.appendChild(this._vimage),this._rootObj.appendChild(this._container),this._rootObj.style.position='relative',this._rootObj.style.width=t+'px',this._rootObj.style.height=e+'px',this._rootObj.setAttribute('id',this._img.getAttribute('id')),this._rootObj.className=this._img.className,this._eventObj=this._rootObj;for(var i;i=this._onLoadDelegate.shift();)this._handleRotation(i,!0);};else return function(){this._rootObj.setAttribute('id',this._img.getAttribute('id')),this._rootObj.className=this._img.className,this._imgWidth=this._img.naturalWidth,this._imgHeight=this._img.naturalHeight;var t=Math.sqrt(this._imgHeight*this._imgHeight+this._imgWidth*this._imgWidth);this._width=3*t,this._height=3*t,this._aspectW=this._img.offsetWidth/this._img.naturalWidth,this._aspectH=this._img.offsetHeight/this._img.naturalHeight,this._img.parentNode.removeChild(this._img),this._canvas=document.createElement('canvas'),this._canvas.setAttribute('width',this._width),this._canvas.style.position='relative',this._canvas.style.left=-this._img.height*this._aspectW+'px',this._canvas.style.top=-this._img.width*this._aspectH+'px',this._canvas.Wilq32=this._rootObj.Wilq32,this._rootObj.appendChild(this._canvas),this._rootObj.style.width=this._img.width*this._aspectW+'px',this._rootObj.style.height=this._img.height*this._aspectH+'px',this._eventObj=this._canvas,this._cnv=this._canvas.getContext('2d');for(var e;e=this._onLoadDelegate.shift();)this._handleRotation(e,!0);};}(),_animateStart:function(){if(this._timer)clearTimeout(this._timer);this._animateStartTime=+new Date(),this._animateStartAngle=this._angle,this._animate();},_animate:function(){var t=+new Date(),e=t-this._animateStartTime>this._parameters.duration;if(e&&!this._parameters.animatedGif)clearTimeout(this._timer);else{if(this._canvas||this._vimage||this._img){var i=this._parameters.easing(0,t-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration);this._rotate(~~(10*i)/10);}if(this._parameters.step)this._parameters.step(this._angle);var s=this;this._timer=setTimeout(function(){s._animate.call(s);},10);}if(this._parameters.callback&&e)this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj);},_rotate:function(){var t=Math.PI/180;if(_)return function(t){this._angle=t,this._container.style.rotation=t%360+'deg',this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+'px',this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+'px',this._container.style.top=this._rotationCenterY-this._imgHeight/2+'px',this._container.style.left=this._rotationCenterX-this._imgWidth/2+'px';};else if(e)return function(t){this._angle=t,this._img.style[e]='rotate('+t%360+'deg)',this._img.style[s]=this._parameters.center.join(' ');};else return function(e){this._angle=e,e=e%360*t,this._canvas.width=this._width,this._canvas.height=this._height,this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH),this._cnv.translate(this._rotationCenterX,this._rotationCenterY),this._cnv.rotate(e),this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY),this._cnv.scale(this._aspectW,this._aspectH),this._cnv.drawImage(this._img,0,0);};}()},_)m.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule('.rvml','behavior:url(#default#VML)');try{return!document.namespaces.rvml&&document.namespaces.add('rvml','urn:schemas-microsoft-com:vml'),function(t){return document.createElement('<rvml:'+t+' class="rvml">');};}catch(t){return function(t){return document.createElement('<'+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">');};}}();return t.prototype={constructor:t,init:function(){},rotate:function(t){if('undefined'!=typeof t)this.element.each(function(){if('number'==typeof t)t={angle:t};var e=[];if(!this.Wilq32||!this.Wilq32.PhotoEffect){var i=$.extend(!0,{},t),s=new m.PhotoEffect(this,i)._rootObj;e.push($(s));}else this.Wilq32.PhotoEffect._handleRotation(t);});},getRotateAngle:function(){var t=[];return this.element.each(function(){if(this.Wilq32&&this.Wilq32.PhotoEffect)t[i]=this.Wilq32.PhotoEffect._angle;}),t;},stopRotate:function(){this.element.each(function(){if(this.Wilq32&&this.Wilq32.PhotoEffect)clearTimeout(this.Wilq32.PhotoEffect._timer);});}},t;});