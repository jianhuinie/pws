define('cobble/util/etpl',function(){function t(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i];return t;}function e(){this.raw=[],this.length=0;}function i(){return'___'+j++;}function n(t,e){var i=new Function();i.prototype=e.prototype,t.prototype=new i(),t.prototype.constructor=t;}function o(t){return A[t];}function r(t){return'"'+t.replace(/\x5C/g,'\\\\').replace(/"/g,'\\"').replace(/\x0A/g,'\\n').replace(/\x09/g,'\\t').replace(/\x0D/g,'\\r')+'"';}function s(t){return t.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(t){return'\\'+t;});}function a(t){var e=arguments;return t.replace(/\{([0-9]+)\}/g,function(t,i){return e[i-0+1];});}function c(t){return t=t.replace(/^\s*\*/,''),a('gv({0},["{1}"])',r(t),t.replace(/\[['"]?([^'"]+)['"]?\]/g,function(t,e){return'.'+e;}).split('.').join('","'));}function l(t,e,i,n,o,r){for(var s=i.length,a=t.split(e),c=0,l=[],p=0,u=a.length;u>p;p++){var h=a[p];if(p){var g=1;for(c++;;){var f=h.indexOf(i);if(0>f){l.push(c>1&&g?e:'',h);break;}if(c=n?c-1:0,l.push(c>0&&g?e:'',h.slice(0,f),c>0?i:''),h=h.slice(f+s),g=0,0===c)break;}if(0===c)o(l.join('')),r(h),l=[];}else h&&r(h);}if(c>0&&l.length>0)r(e),r(l.join(''));}function p(t,e,i){var n,o=[],s=e.options,a='',u='',h='',g='';if(i)a='ts(',u=')',h=C,g=P,n=s.defaultFilter;return l(t,s.variableOpen,s.variableClose,1,function(t){if(i&&t.indexOf('|')<0&&n)t+='|'+n;var r=t.indexOf('|'),s=(r>0?t.slice(0,r):t).replace(/^\s+/,'').replace(/\s+$/,''),l=r>0?t.slice(r+1):'',f=0===s.indexOf('*'),d=[f?'':a,c(s),f?'':u];if(l){l=p(l,e);for(var v=l.split('|'),m=0,y=v.length;y>m;m++){var x=v[m];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(x)){if(d.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)d.push(',',RegExp.$3);d.push(')');}}}o.push(h,d.join(''),g);},function(t){o.push(h,i?r(t):t,g);}),o.join('');}function u(t,e){this.value=t,this.engine=e;}function h(t,e){this.value=t,this.engine=e,this.children=[],this.cloneProps=[];}function g(t,e){var i=t.stack,n=e?i.find(function(t){return t instanceof e;}):i.bottom();if(n){for(var o;(o=i.top())!==n;){if(!o.autoClose)throw new Error(o.type+' must be closed manually: '+o.value);o.autoClose(t);}n.close(t);}return n;}function f(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.master=RegExp.$3,this.name=RegExp.$1,h.call(this,t,e),this.blocks={};}function d(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.name=RegExp.$1,h.call(this,t,e),this.cloneProps=['name'];}function v(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.name=RegExp.$1,h.call(this,t,e),this.cloneProps=['name','state','blocks'],this.blocks={};}function m(t,e){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.name=RegExp.$1,this.expr=RegExp.$2,h.call(this,t,e),this.cloneProps=['name','expr'];}function y(t,e){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.name=RegExp.$1,this.args=RegExp.$3,h.call(this,t,e),this.cloneProps=['name','args'];}function x(t,e){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.name=RegExp.$1,this.args=RegExp.$3,h.call(this,t,e),this.cloneProps=['name','args'];}function w(t,e){var i=new RegExp(a('^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$',s(e.options.variableOpen),s(e.options.variableClose)),'i');if(!i.test(t))throw new Error('Invalid '+this.type+' syntax: '+t);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,h.call(this,t,e),this.cloneProps=['list','item','index'];}function _(t,e){h.call(this,t,e);}function b(t,e){_.call(this,t,e);}function z(t,e){h.call(this,t,e);}function R(t,e){e.target=t;var i=e.engine,n=t.name;if(i.targets[n])switch(i.options.namingConflict){case'override':i.targets[n]=t,e.targets.push(n);case'ignore':break;default:throw new Error('Target exists: '+n);}else i.targets[n]=t,e.targets.push(n);}function $(t,e){M[t]=e,e.prototype.type=t;}function k(e){this.options={commandOpen:'<!--',commandClose:'-->',commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:'${',variableClose:'}',defaultFilter:'html'},this.config(e),this.targets={},this.filters=t({},O);}function E(t,i){function n(){var t;if(f.length>0&&(t=f.join(''))){var e=new u(t,i);if(e.beforeAdd(p),c.top().addChild(e),f=[],i.options.strip&&p.current instanceof h)e.value=t.replace(/^[\x20\t\r]*\n/,'');p.current=e;}}var o,r=i.options.commandOpen,s=i.options.commandClose,a=i.options.commandSyntax,c=new e(),p={engine:i,targets:[],stack:c,target:null},f=[];return l(t,r,s,0,function(t){var e=a.exec(t);if(e&&(o=M[e[2].toLowerCase()])&&'function'==typeof o){n();var c=p.current;if(i.options.strip&&c instanceof u)c.value=c.value.replace(/\r?\n[\x20\t]*$/,'\n');if(e[1])c=g(p,o);else{if(c=new o(e[3],i),'function'==typeof c.beforeOpen)c.beforeOpen(p);c.open(p);}p.current=c;}else if(!/^\s*\/\//.test(t))f.push(r,t,s);o=null;},function(t){f.push(t);}),n(),g(p),p.targets;}e.prototype={push:function(t){this.raw[this.length++]=t;},pop:function(){if(this.length>0){var t=this.raw[--this.length];return this.raw.length=this.length,t;}},top:function(){return this.raw[this.length-1];},bottom:function(){return this.raw[0];},find:function(t){for(var e=this.length;e--;){var i=this.raw[e];if(t(i))return i;}}};var j=178245,A={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'},O={html:function(t){return t.replace(/[&<>"']/g,o);},url:encodeURIComponent,raw:function(t){return t;}},I='var r="";',C='r+=',P=';',D='return r;';if('undefined'!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)I='var r=[],ri=0;',C='r[ri++]=',D='return r.join("");';u.prototype={getRendererBody:function(){var t=this.value,e=this.engine.options;if(!t||e.strip&&/^\s*$/.test(t))return'';else return p(t,this.engine,1);},clone:function(){return this;}},h.prototype={addChild:function(t){this.children.push(t);},open:function(t){var e=t.stack.top();e&&e.addChild(this),t.stack.push(this);},close:function(t){if(t.stack.top()===this)t.stack.pop();},getRendererBody:function(){for(var t=[],e=this.children,i=0;i<e.length;i++)t.push(e[i].getRendererBody());return t.join('');},clone:function(){for(var t=new this.constructor(this.value,this.engine),e=0,i=this.children.length;i>e;e++)t.addChild(this.children[e].clone());for(var e=0,i=this.cloneProps.length;i>e;e++){var n=this.cloneProps[e];t[n]=this[n];}return t;}};var B='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';n(f,h),n(d,h),n(v,h),n(m,h),n(y,h),n(x,h),n(w,h),n(_,h),n(b,_),n(z,_);var L={READING:1,READED:2,APPLIED:3,READY:4};v.prototype.applyMaster=f.prototype.applyMaster=function(t){function e(t){var n=t.children;if(n instanceof Array)for(var o=0,r=n.length;r>o;o++){var s=n[o];if(s instanceof d&&i[s.name])s=n[o]=i[s.name];e(s);}}if(this.state>=L.APPLIED)return 1;var i=this.blocks,n=this.engine.targets[t];if(n&&n.applyMaster(n.master))return this.children=n.clone().children,e(this),this.state=L.APPLIED,1;else return void 0;},f.prototype.isReady=function(){function t(n){for(var o=0,r=n.children.length;r>o;o++){var s=n.children[o];if(s instanceof v){var a=e.targets[s.name];i=i&&a&&a.isReady(e);}else if(s instanceof h)t(s);}}if(this.state>=L.READY)return 1;var e=this.engine,i=1;if(this.applyMaster(this.master))return t(this),i&&(this.state=L.READY),i;else return void 0;},f.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var t=new Function('data','engine',[B,I,this.getRendererBody(),D].join('\n')),e=this.engine;return this.renderer=function(i){return t(i,e);},this.renderer;}return null;},f.prototype.open=function(t){g(t),h.prototype.open.call(this,t),this.state=L.READING,R(this,t);},m.prototype.open=x.prototype.open=function(t){t.stack.top().addChild(this);},d.prototype.open=function(t){h.prototype.open.call(this,t),(t.imp||t.target).blocks[this.name]=this;},b.prototype.open=function(t){var e=new z();e.open(t);var i=g(t,_);i.addChild(this),t.stack.push(this);},z.prototype.open=function(t){var e=g(t,_);e.addChild(this),t.stack.push(this);},v.prototype.open=function(t){this.parent=t.stack.top(),this.target=t.target,h.prototype.open.call(this,t),this.state=L.READING,t.imp=this;},x.prototype.close=m.prototype.close=function(){},v.prototype.close=function(t){h.prototype.close.call(this,t),this.state=L.READED,t.imp=null;},f.prototype.close=function(t){h.prototype.close.call(this,t),this.state=this.master?L.READED:L.APPLIED,t.target=null;},v.prototype.autoClose=function(t){var e=this.parent.children;e.push.apply(e,this.children),this.children.length=0;for(var i in this.blocks)this.target.blocks[i]=this.blocks[i];this.blocks={},this.close(t);},x.prototype.beforeOpen=v.prototype.beforeOpen=m.prototype.beforeOpen=w.prototype.beforeOpen=y.prototype.beforeOpen=d.prototype.beforeOpen=_.prototype.beforeOpen=u.prototype.beforeAdd=function(t){if(!t.stack.bottom()){var e=new f(i(),t.engine);e.open(t);}},v.prototype.getRendererBody=function(){return this.applyMaster(this.name),h.prototype.getRendererBody.call(this);},x.prototype.getRendererBody=function(){return a('{0}engine.render({2},{{3}}){1}',C,P,r(this.name),p(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(t,e,i){return(e||'')+r(i)+':';}));},m.prototype.getRendererBody=function(){if(this.expr)return a('v[{0}]={1};',r(this.name),p(this.expr,this.engine));else return'';},_.prototype.getRendererBody=function(){return a('if({0}){{1}}',p(this.value,this.engine),h.prototype.getRendererBody.call(this));},z.prototype.getRendererBody=function(){return a('}else{{0}',h.prototype.getRendererBody.call(this));},w.prototype.getRendererBody=function(){return a('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',i(),p(this.list,this.engine),r(this.index||i()),r(this.item),i(),i(),h.prototype.getRendererBody.call(this));},y.prototype.getRendererBody=function(){var t=this.args;return a('{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}',I,D,C,P,h.prototype.getRendererBody.call(this),r(this.name),t?','+p(t,this.engine):'');};var M={};$('target',f),$('block',d),$('import',v),$('use',x),$('var',m),$('for',w),$('if',_),$('elif',b),$('else',z),$('filter',y),k.prototype.config=function(e){t(this.options,e);},k.prototype.compile=k.prototype.parse=function(t){if(t){var e=E(t,this);if(e.length)return this.targets[e[0]].getRenderer();}return new Function('return ""');},k.prototype.getRenderer=function(t){var e=this.targets[t];if(e)return e.getRenderer();else return void 0;},k.prototype.render=function(t,e){var i=this.getRenderer(t);if(i)return i(e);else return'';},k.prototype.addFilter=function(t,e){if('function'==typeof e)this.filters[t]=e;};var S=new k();return S.Engine=k,S;}),define('common/component/NavigationAd',['require','exports','cobble/util/etpl','common/service_9c322508d3','common/store_a1a35b3dfc'],function(require){function t(){var t=this.ele,e=this.adIds,a=this.tpl,c=this.page_type,l='',p=this.callback,u='';if('activity'==a)l=i.compile(r),u='<span class="category">热门活动</span><ul class="list">';else l=i.compile(s);var h={zxx:{activitys:[{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/1.jpg',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15090439670&zn=zn_15090439670_sogou',hover:'胡灿奎',index:1},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/2.jpg',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15071135898&zn=zn_15071135898_sogou',hover:'郭新超',index:2},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/3.jpg',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15081235786&user_number=&zn=zn_15081235786_sogou',hover:'沈玉状',index:3},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/4.jpg',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15091948020&user_number=&zn=zn_15091948020_sogou',hover:'邱晓玫',index:4}],promotionList:[{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/0.jpg',click:'http://www.genshuixue.com/activity/model1/www_all_gqk12?zn=zn_gqk12_sogou',hover:'K12专题'}]},cglx:{activitys:[{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/1.jpg',click:'http://www.genshuixue.com/video_course/play?course_number=15062443688&zn=zn_15062443688_sogou',hover:'包子姐姐陪你学雅思',index:1},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/2.jpg',click:'http://www.genshuixue.com/video_course/play?course_number=15090172442&zn=zn_15090172442_sogou',hover:'商科申请职业规划',index:2},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/3.jpg',click:'http://www.genshuixue.com/video_course/play?course_number=15101334765&zn=zn_15101334765_sogou',hover:'托福100分策略',index:3},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/4.jpg',click:'http://www.genshuixue.com/video_course/play?course_number=15050467692&zn=zn_15050467692_sogou',hover:'斯坦福前招生官讲座',index:4}],promotionList:[{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/0.jpg',click:'http://www.genshuixue.com/activity/schoolMain?zn=zn_schoolMain_sogou',hover:'2元定制世界名校路'}]},ytxq:{activitys:[{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/1.png',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15021175680&zn=zn_15021175680_sogou',hover:'15天快速瘦身',index:1},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/2.png',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15021134848&zn=zn_15021134848_sogou',hover:'时尚盘发',index:2},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/3.png',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15071668654&zn=zn_15071668654_sogou',hover:'淡奶油司康',index:3},{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/4.png',click:'http://www.genshuixue.com/video_course/getcourseshowdetail?number=15071643774&zn=zn_15071643774_sogou',hover:'木吉他弹唱速成班',index:4}],promotionList:[{material:'http://cdn.gsxservice.com/asset/img/navigation/sougou/zxx/0.jpg',click:'http://www.genshuixue.com/activity/model4/all_donghang5?zn=zn_donghang5_sogou',hover:'懂行第五期'}]}};n.getNavigationAd({cityId:o.get('cityId'),adId:e.join(',')}).done(function(i){var n=null;if(!i.code){if('activity'==a){for(var o=0;o<e.length;o++)n=i.data[e[o]],n[0].index=o+1,u+=l({activitys:n[0]});u+='</ul>';}else n=i.data[e[0]],u=l({promotionList:n});if(t.html(u),p)p();}else{if('activity'==a){for(var o=0;o<h[c].activitys.length;o++)u+=l({activitys:h[c].activitys[o]});u+='</ul>';}else u=l({promotionList:h[c].promotionList});t.html(u);}}).fail(function(){if('activity'==a){for(var e=0;e<h[c].activitys.length;e++)u+=l({activitys:h[c].activitys[e]});u+='</ul>';}else u=l({promotionList:h[c].promotionList});t.html(u);});}function e(t){$.extend(this,e.defaultOptions,t),this.init();}var i=require('cobble/util/etpl'),n=require('common/service_9c322508d3'),o=require('common/store_a1a35b3dfc'),r='<!-- if: ${activitys.index} == 4 --><!-- var: style = "last" --><!-- else --><!-- var: style = "" --><!-- /if --><li class="item ${style}"><a class="cover" href="${activitys.click}" target="_blank"><img alt="${activitys.hover}" src="${activitys.material}" title="${activitys.hover}" /></a></li>',s='<ul class="promotion-slider"><!-- for: ${promotionList} as ${item}, ${index} --><li class="promotion-slideritem" data-index="${index}"><a target="_blank" href="${item.click}" title="${item.hover}" data-click-monitor="${item.clickMonitor}"><img src="${item.material}" width="720" height="270" alt="${item.hover}" data-monitor="${item.monitor}"/></a></li><!-- /for --></ul><!-- if: ${promotionList.length} > 1 --><ul class="promotion-slider-nav"><!-- for: ${promotionList} as ${item}, ${index} --><li><span class="promotion-slider-navitem">${index}</span></li><!-- /for --></ul><a href="javascript:;" class="promotion-slider-left" title="上一张"><i class="icon icon-chevron-left"></i></a><a href="javascript:;" class="promotion-slider-right" title="下一张"><i class="icon icon-chevron-right"></i></a><!-- /if -->';return e.defaultOptions={adIdProp:'ad-id'},e.prototype.init=function(){t.call(this);},e;});