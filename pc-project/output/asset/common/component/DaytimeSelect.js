define("cobble/function/contains",["require","exports","module"],function(){"use strict";return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t)}}),define("cobble/function/isHidden",["require","exports","module"],function(){"use strict";return function(e){e.css("display");return"none"===e.css("display")||0==e.css("opacity")||"hidden"===e.css("visibility")}}),define("cobble/function/jquerify",["require","exports","module"],function(){"use strict";function e(e){return e.faker||e.element}var t=$.prototype,n={on:function(){return t.on.apply(e(this),arguments),this},off:function(){return t.off.apply(e(this),arguments),this},emit:function(n,i){var o=this,r=e(o);if(r){if(!n[$.expando])n="string"===$.type(n)?$.Event(n):$.Event(null,n);n.cobble=o;var u=[n];if(i)u.push(i);var f=o[$.camelCase("on-"+n.type)];if($.isFunction(f)&&f.apply(o,u)===!1)n.preventDefault();if(!n.isPropagationStopped())t.trigger.apply(r,u);return n}},before:function(t){e(this).before(t)},after:function(t){e(this).after(t)},appendTo:function(t){e(this).appendTo(t)},prependTo:function(t){e(this).prependTo(t)}};return function(e){$.each(n,function(t,n){if(null==e[t])e[t]=n})}}),define("cobble/function/lifeCycle",["require","exports"],function(require,exports){"use strict";exports.init=function(e,t){var n=e.constructor,i="__cobble__"+n.prototype.type,o=t.element;if(o&&o.data(i))e=o.data(i);else if($.extend(e,n.defaultOptions,t),e.init(),o)o.data(i,e);return e},exports.dispose=function(e){var t="__cobble__"+e.constructor.prototype.type,n=e.element;if(n)n.removeData(t)}}),define("cobble/function/split",["require","exports","module"],function(){"use strict";return function(e,t){var n=[];return $.each(e.split(t),function(e,t){if(t=$.trim(t))n.push(t)}),n}}),define("cobble/helper/Popup",["require","exports","module","../function/split","../function/isHidden","../function/contains","../function/jquerify","../function/lifeCycle","../util/instance"],function(require){"use strict";function e(e){return H.init(this,e)}function t(e,t){$.each(e.showConfigList,function(n,i){i[t](e)})}function n(e,t){$.each(e.hideConfigList,function(n,i){i[t](e)})}function i(e,t){if(e)e.type=t;else e=t;return e}function o(e){var t=e.currentTarget;return t&&"HTML"===t.tagName?null:t}function r(e,t){return e.emit(i(t,"beforeShow"))}function u(e,i){return e.layer.data(E,o(i)),t(e,"off"),n(e,"on"),e.emit("afterShow")}function f(e,t){return e.emit(i(t,"beforeHide"))}function s(e){return e.layer.removeData(E),n(e,"off"),t(e,"on"),e.emit("afterHide")}function c(){return $.now()}function a(e){return"__"+e+"Handler__"}function l(e,t){return null==e[t]}function d(e,t){return e.layer.data(E)!==o(t)}function p(e,t,n){return!t||t(e,n)}function h(e,t){return t-e[k]>50}function m(t,n){return function(i){var o=i.data,r=c(i);if(l(o,S)&&d(o,i)&&p(o,n,i))o[k]=r,v({popup:o,delay:o.show.delay,toggle:e.trigger.show[t].delay,timer:S,success:function(){var e=function(){o.open(i)},t=o[D];if(t)t.done(e);else e()}})}}function y(t,n){return function(i){var o=i.data,r=c(i);if(l(o,q)&&p(o,n,i)&&h(o,r))o[k]=r,o[D]=$.Deferred(),v({popup:o,delay:o.hide.delay,toggle:e.trigger.hide[t].delay,timer:q,success:function(){o.close(i),o[D].resolve()},fail:function(){o[D]=null}})}}function v(e){var t=e.delay,n=e.success;if(t>0){var i=e.popup,o=e.timer,r=e.toggle||{},u=r.on||$.noop,f=r.off||$.noop,s=e.fail||$.noop,c=function(){clearTimeout(i[o]),f(i,a),i[o]=null},a=function(e){var t=i[o];if(t)c();if(t&&e===k)n();else s()};u(i,a),i[o]=setTimeout(function(){a(k)},t)}else n()}function g(e){var t=this,n=t.type,i=t.handler,o=a(n);if(e[o]!==i)e.element.on(n,e.selector,e,i),e[o]=i}function b(e){var t=this;if(!e.selector){var n=t.type;e.element.off(n,t.handler),e[a(n)]=null}}var x=require("../function/split"),_=require("../function/isHidden"),w=require("../function/contains"),T=require("../function/jquerify"),H=require("../function/lifeCycle"),C=require("../util/instance");e.prototype={constructor:e,type:"Popup",init:function(){var i=this,o=i.showConfigList=[],r=i.hideConfigList=[],u=i.show.trigger,f=i.hide.trigger;if(u)$.each(x(u,","),function(t,n){var i=e.trigger.show[n];if(i)o.push(i)});if(f)$.each(x(i.hide.trigger,","),function(t,n){var i=e.trigger.hide[n];if(i)r.push(i)});if(i.hidden=_(i.layer))t(i,"on");else n(i,"on")},open:function(){var e=this,t=arguments[0];if(!t)e[k]=c();if(t=r(e,t),!t.isDefaultPrevented()){var n=e.layer,i=e.show.animation;if($.isFunction(i))i.call(e,n);else n.show();e.hidden=!1,u(e,t)}},close:function(){var e=this;if(!e.hidden){var t=arguments[0];if(!t)e[k]=c();if(t=f(e,t),!t.isDefaultPrevented()){var n=e.layer,i=e.hide.animation;if($.isFunction(i))i.call(e,n);else n.hide();e.hidden=!0,s(e)}}},dispose:function(){var e=this;H.dispose(e),e.close(),t(e,"off"),e.element=e.layer=null}},T(e.prototype),e.defaultOptions={show:{trigger:"click"},hide:{trigger:"click"}};var D="__hidePromise__",S="__showTimer__",q="__hideTimer__",k="__lastTriggerTime__",E="__sourceElement__",N=function(e,t){if(!t)return!1;else return w(e.layer,t)};return e.trigger={show:{focus:{type:"focusin",handler:m("focus"),on:g,off:b},click:{type:"click",handler:m("click"),on:g,off:b},over:{type:"mouseenter",handler:m("over"),on:g,off:b,delay:{on:function(e,t){e.element.on("mouseleave",e.selector,t)},off:function(e,t){e.element.off("mouseleave",t)}}},context:{type:"contextmenu",handler:m("context"),on:g,off:b}},hide:{blur:{type:"focusout",handler:y("blur"),on:g,off:b},click:{type:"click",handler:function(){return y(this.type,function(e,t){return!N(e,t.target)})},on:function(e){var t=this;C.document.on(t.type,e,e.clickHandler=t.handler())},off:function(e){C.document.off(this.type,e.clickHandler)}},out:{type:"mouseleave",handler:y("out"),on:function(e){var t=this.type,n=this.handler;e.layer.on(t,e,n),e.element.on(t,e.selector,e,n)},off:function(e){var t=this.type,n=this.handler;e.element.off(t,n),e.layer.off(t,n)},delay:{on:function(e,t){e.element.on("mouseenter",e.selector,t),e.layer.on("mouseenter",t)},off:function(e,t){e.element.off("mouseenter",t),e.layer.off("mouseenter",t)}}},context:{type:"contextmenu",handler:function(){return y("context",function(e,t){return!N(e,t.target)})},on:function(e){var t=this;C.document.on(t.type,e,e.contextHandler=t.handler())},off:function(e){C.document.off(this.type,e.contextHandler)}}}},e}),define("cobble/util/instance",["require","exports","module"],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body)}),define("cobble/util/time",["require","exports","module"],function(require,exports){"use strict";exports.parse=function(e,t,n){var i=!1;if($.isNumeric(e)&&$.isNumeric(t)){if(i=!0,!$.isNumeric(n))n=0}else if(1===arguments.length)if("string"===$.type(e)){var o=e.split(":");if(o.length>1&&o.length<4)i=!0,e=+$.trim(o[0]),t=+$.trim(o[1]),n=+$.trim(o[2])}else if($.isPlainObject(e))i=!0,n=e.second||0,t=e.minute||0,e=e.hour;if(i)if(e>=0&&23>=e&&t>=0&&59>=t&&n>=0&&59>=n){var r=new Date;return r.setHours(e),r.setMinutes(t),r.setSeconds(n),r}},exports.stringify=function(e,t){var n=e.getHours(),i=e.getMinutes(),o=e.getSeconds();if(10>n)n="0"+n;if(10>i)i="0"+i;if(10>o)o="0"+o;var r=[];if(!t)t={hour:!0,minute:!0};if(t.hour)r.push(n);if(t.minute)r.push(i);if(t.second)r.push(o);return r.join(":")},exports.simplify=function(e){return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()}},exports.add=function(e,t){var n=0;if("number"===$.type(t.hour))n+=exports.HOUR*t.hour;if("number"===$.type(t.minute))n+=exports.MINUTE*t.minute;if("number"===$.type(t.second))n+=exports.SECOND*t.second;return new Date(e.getTime()+n)},exports.subtract=function(e,t){var n=0;if("number"===$.type(t.hour))n+=exports.HOUR*t.hour;if("number"===$.type(t.minute))n+=exports.MINUTE*t.minute;if("number"===$.type(t.second))n+=exports.SECOND*t.second;return new Date(e.getTime()-n)},exports.SECOND=1e3,exports.MINUTE=60*exports.SECOND,exports.HOUR=60*exports.MINUTE}),define("common/component/DaytimeSelect",["require","cobble/helper/Popup","cobble/util/time"],function(require){"use strict";function e(t){$.extend(this,e.defaultOptions,t),this.init()}var t=require("cobble/helper/Popup"),n=require("cobble/util/time");e.prototype={init:function(){var e=this;e.refresh();var n=e.element,i=n.find(".form-text");i.blur(function(){if(!e.disabled)e.setValue(this.value)});var o=n.find(".dropdown-menu"),r=e.popup=new t({element:n.find('.trigger, input[class="form-text"]'),layer:o,show:{trigger:"click"},hide:{trigger:"click"},onAfterShow:function(){n.addClass("open")},onAfterHide:function(){n.removeClass("open")},onBeforeShow:function(){if(e.disabled)return!1;else return void 0}});o.on("click","[data-value]",function(t){var n=$(t.currentTarget);o.find(".active").removeClass("active"),n.addClass("active"),r.close(),e.setValue($(t.currentTarget).data("value"))})},disable:function(){this.popup.onBeforeShow=function(){return!1},this.disabled=!0},enable:function(){this.popup.onBeforeShow=function(){return!0},this.disabled=!1},refresh:function(e){if(e)$.extend(this,e);var t=this.element;if(this.selectFirst)t.find(":text").val(n.stringify(n.parse(this.min)));else t.find(":text").prop("placeholder",this.defaultText);var o=n.parse(this.min),r=n.parse(this.max);if(o>r)r.setTime(r.getTime()+i);for(var u=this.step*n.MINUTE,f="",s=0,c=+o;r>=c;c+=u)s++,f+=this.itemRender({index:s,text:n.stringify(new Date(c))});t.find(".dropdown-menu").html(f)},getValue:function(){return this.element.find(":text").val()},setValue:function(e,t){var i,o=this;if(o.validate(e))i=n.parse(e);else i=n.parse(o.min);if(this.element.find(":text").val(n.stringify(i)),$.isFunction(o.onChange)&&(!t||!t.silence))o.onChange()},validate:function(e){var t=n.parse(e),i=n.parse(this.min),o=n.parse(this.max);return t>=i&&o>=t}},e.defaultOptions={min:{hour:0,minute:0},max:{hour:23,minute:59},step:30,selectFirst:!0,defaultText:"",disabled:!1,itemRender:function(e){return'<li data-index="'+e.index+'" data-value="'+e.text+'">'+e.text+"</li>"}};var i=24*n.HOUR;return e});