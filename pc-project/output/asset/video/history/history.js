function setURL(e){document.location.href=e}function backButton(){history.back()}function forwardButton(){history.forward()}function goForwardOrBackInHistory(e){history.go(e)}BrowserHistoryUtils={addEvent:function(e,t,n,r){if(r=r||!1,e.addEventListener)return e.addEventListener(t,n,r),!0;else if(e.attachEvent){var i=e.attachEvent("on"+t,n);return i}else e["on"+t]=n}},BrowserHistory=function(){function e(){v=document.location.href;var e=f();if("undefined"!=typeof BrowserHistory_multiple&&1==BrowserHistory_multiple)for(var t=o(),n=0;n<t.length;n++)t[n].browserURLChange(e);else i().browserURLChange(e)}function t(){return document.getElementById("ie_historyFrame")}function n(){return document.getElementById("safari_formDiv")}function r(){return document.getElementById("safari_remember_field")}function i(e){var t;if(e&&document.getElementById(e)){var n=document.getElementById(e);if("undefined"!=typeof n.SetVariable)return n;else{var r=n.getElementsByTagName("object"),i=n.getElementsByTagName("embed");for(t=0;t<r.length;t++)if("undefined"!=typeof r[t].browserURLChange)return r[t];for(t=0;t<i.length;t++)if("undefined"!=typeof i[t].browserURLChange)return i[t]}}else{var r=document.getElementsByTagName("object"),i=document.getElementsByTagName("embed");for(t=0;t<i.length;t++)if("undefined"!=typeof i[t].browserURLChange)return i[t];for(t=0;t<r.length;t++)if("undefined"!=typeof r[t].browserURLChange)return r[t]}return void 0}function o(){var e,t=[];if(0==t.length){var n=document.getElementsByTagName("object");for(e=0;e<n.length;e++)if("undefined"!=typeof n[e].browserURLChange)t.push(n[e])}if(0==t.length||null==t[0].object){var n=document.getElementsByTagName("embed");for(e=0;e<n.length;e++)if("undefined"!=typeof n[e].browserURLChange)t.push(n[e])}return t}function a(){var e=t().contentWindow.document,n=String(e.location.search);if(1==n.length&&"?"==n.charAt(0))n="";else if(n.length>=2&&"?"==n.charAt(0))n=n.substring(1);return n}function f(){var e=document.location.href.indexOf("#");return e>=0?document.location.href.substr(e+1):""}function l(e){if(""==e)e="#";document.location.hash=e}function s(e,t,n){return{baseUrl:e,newUrl:t,flexAppUrl:n,title:null}}function c(e,r,i){if(C=[],p.ie){if(i==y&&document.location.href==w&&window._ie_firstload)return void(v=w);if((!i||i==y)&&window._ie_firstload)r=e+"#"+y,i=y;else t().src=U+i;l(i)}else{if(0==L.length&&x.flexAppUrl==i)x=s(e,r,i);else if(L.length>0&&L[L.length-1].flexAppUrl==i)L[L.length-1]=s(e,r,i);if(p.safari&&!E){if(p.version<=419.3){var o=window.location.pathname.toString();o=o.substring(o.lastIndexOf("/")+1),n().innerHTML='<form name="historyForm" action="'+o+"#"+i+'" method="GET"></form>';for(var a=window.location.search.substring(1),f=a.split("&"),c=0;c<f.length;c++){var u=f[c].split("="),m=document.createElement("input");m.type="hidden",m.name=u[0],m.value=u[1],document.forms.historyForm.appendChild(m)}document.forms.historyForm.submit()}else top.location.hash=i;_[history.length]=i,d()}else l(i)}L.push(s(e,r,i))}function d(){if(p.safari)r().value=_.join(",")}function u(){var e=L.pop();if(e){var t=L[L.length-1];if(!t&&0==L.length)t=x;C.push(e)}}function m(){var e=C.pop();if(e)L.push(e)}function h(){C=[]}function g(){if(p.ie)if(v!=document.location.href&&v+"#"!=document.location.href)if(p.version<7)v=document.location.href,document.location.reload();else if(f()!=a()){var e=U+f();t().src=e,v=document.location.href}if(p.safari&&!E)if(B>=0&&history.length!=B){var n=f();if(p.version<528.16)B=history.length,n=_[B];if("undefined"!=typeof BrowserHistory_multiple&&1==BrowserHistory_multiple)for(var r=o(),l=0;l<r.length;l++)r[l].browserURLChange(n);else i().browserURLChange(n);d()}if(p.firefox&&!E)if(v!=document.location.href){var s=L.length,c={back:!1,forward:!1,set:!1};if((window.location.hash==b||window.location.href==w)&&1==s)c.back=!0,u();if(C.length>0)if(C[C.length-1].flexAppUrl==f())c.forward=!0,m();if(s>=2&&L[s-2])if(L[s-2].flexAppUrl==f())c.back=!0,u();if(!c.back&&!c.forward){for(var g={back:-1,forward:-1},l=0;l<L.length;l++)if(L[l].flexAppUrl==f()&&l!=s-2)arbitraryUrl=!0,g.back=l;for(var l=0;l<C.length;l++)if(C[l].flexAppUrl==f()&&l!=s-2)arbitraryUrl=!0,g.forward=l;h()}v=document.location.href;var n=f();if("undefined"!=typeof BrowserHistory_multiple&&1==BrowserHistory_multiple)for(var r=o(),l=0;l<r.length;l++)r[l].browserURLChange(n);else i().browserURLChange(n)}}var p={ie:!1,ie8:!1,firefox:!1,safari:!1,opera:!1,version:-1},y="",v=document.location.href,w=document.location.href,b=document.location.hash,U="history/historyFrame.html?",B=-1,E=!1,_=[],x=s(w,w+"#"+b,b),L=[],C=[],R=null,T=navigator.userAgent.toLowerCase();if(-1!=T.indexOf("opera"))p.opera=!0;else if(-1!=T.indexOf("msie")){if(p.ie=!0,p.version=parseFloat(T.substring(T.indexOf("msie")+4)),8==p.version)p.ie=!1,p.ie8=!0}else if(-1!=T.indexOf("safari"))p.safari=!0,p.version=parseFloat(T.substring(T.indexOf("safari")+7));else if(-1!=T.indexOf("gecko"))p.firefox=!0;if(1==p.ie&&7==p.version)window._ie_firstload=!1;var H=function(){if(E="onhashchange"in document.body,p.ie){for(var t,n=document.getElementsByTagName("script"),r=0;t=n[r];r++)if(t.src.indexOf("history.js")>-1)var i=new String(t.src).replace("history.js","historyFrame.html");U=i+"?";var o=document.createElement("iframe");o.id="ie_historyFrame",o.name="ie_historyFrame",o.src="javascript:false;";try{document.body.appendChild(o)}catch(a){setTimeout(function(){document.body.appendChild(o)},0)}}if(p.safari&&!E){var f=document.createElement("div");f.id="safari_rememberDiv",document.body.appendChild(f),f.innerHTML='<input type="text" id="safari_remember_field" style="width: 500px;">';var l=document.createElement("div");l.id="safari_formDiv",document.body.appendChild(l);var s=document.createElement("div");s.id="safarireloader";for(var t,n=document.getElementsByTagName("script"),r=0;t=n[r];r++)if(t.src.indexOf("history.js")>-1)html=new String(t.src).replace(".js",".html");if(s.innerHTML='<iframe id="safarireloader-iframe" src="about:blank" frameborder="no" scrolling="no"></iframe>',document.body.appendChild(s),s.style.position="absolute",s.style.left=s.style.top="-9999px",o=s.getElementsByTagName("iframe")[0],""!=document.getElementById("safari_remember_field").value)_=document.getElementById("safari_remember_field").value.split(",")}if(E)document.body.onhashchange=e};return{historyHash:_,backStack:function(){return L},forwardStack:function(){return C},getPlayer:i,initialize:function(e){H(e)},setURL:function(e){document.location.href=e},getURL:function(){return document.location.href},getTitle:function(){return document.title},setTitle:function(e){try{L[L.length-1].title=e}catch(t){}if(p.safari)if(""==e)try{var n=window.location.href.toString();e=n.substring(n.lastIndexOf("/")+1,n.lastIndexOf("#"))}catch(t){e=""}document.title=e},setDefaultURL:function(e){if(y=e,e=f(),p.ie){window._ie_firstload=!0;var n=U+e,r=function(){t().src=n,window.location.replace("#"+e),setInterval(g,50)};try{r()}catch(i){window.setTimeout(function(){r()},0)}}if(p.safari){if(B=history.length,0==_.length){_[B]=e;var o="#"+e;window.location.replace(o)}else;setInterval(g,50)}if(p.firefox||p.opera){var a=new RegExp("#"+e+"$");if(window.location.toString().match(a));else{var o="#"+e;window.location.replace(o)}setInterval(g,50)}},setBrowserURL:function(e,t){if(p.ie&&"undefined"!=typeof t)R=t;var n=document.location.href.indexOf("#"),r=-1!=n?document.location.href.substr(0,n):document.location.href,i=r+"#"+e;if(document.location.href!=i&&document.location.href+"#"!=i)v=i,c(r,i,e),B=history.length},browserURLChange:function(e){var t=null;if(p.ie&&null!=R)t=R;if("undefined"!=typeof BrowserHistory_multiple&&1==BrowserHistory_multiple)for(var n=o(),r=0;r<n.length;r++)try{n[r].browserURLChange(e)}catch(a){}else try{i(t).browserURLChange(e)}catch(a){}R=null},getUserAgent:function(){return navigator.userAgent},getPlatform:function(){return navigator.platform}}}(),function(e){var t=navigator.userAgent,n=!1,r=setTimeout;if(/webkit/i.test(t))r(function(){var t=document.readyState;if("loaded"==t||"complete"==t)e();else r(arguments.callee,10)},10);else if(/mozilla/i.test(t)&&!/(compati)/.test(t)||/opera/i.test(t))document.addEventListener("DOMContentLoaded",e,!1);else if(n)!function(){var t=document.createElement("doc:rdy");try{t.doScroll("left"),e(),t=null}catch(n){r(arguments.callee,0)}}();else window.onload=e}(function(){BrowserHistory.initialize()});