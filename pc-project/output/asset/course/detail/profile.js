define("cobble/function/contains",["require","exports","module"],function(){"use strict";return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t)}}),define("cobble/function/debounce",["require","exports","module"],function(){"use strict";return function(e,t){t="number"===$.type(t)?t:50;var n;return function(){if(!n){var i=arguments;n=setTimeout(function(){n=null,e.apply(null,$.makeArray(i))},t)}}}}),define("cobble/function/decimalLength",["require","exports","module"],function(){"use strict";return function(e){var t=(""+e).split(".");return 2===t.length?t[1].length:0}}),define("cobble/function/disableSelection",["require","exports","module"],function(){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=function(){return!1}};if(n)return function(e){e=e||document.body,e.style.MozUserSelect="none"};else return $.noop}),define("cobble/function/divide",["require","exports","module","./decimalLength","./float2Int"],function(require){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),n/i}}),define("cobble/function/dragGlobal",["require","exports","module","../helper/Draggable","../util/instance","../util/dimension","./pin"],function(require){"use strict";{var e=require("../helper/Draggable"),t=require("../util/instance"),n=require("../util/dimension");require("./pin")}return function(i){return new e({element:i.element,container:t.body,draggingClass:i.draggingClass,handleSelector:i.handleSelector,cancelSelector:i.cancelSelector,rect:function(){var e=i.fixed,t=i.scrollable;return{x:e||t?0:n.getPageScrollLeft(),y:e||t?0:n.getPageScrollTop(),width:e||!t?n.getViewportWidth():n.getPageWidth(),height:e||!t?n.getViewportHeight():n.getPageHeight()}}})}}),define("cobble/function/enableSelection",["require","exports","module"],function(){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=null};if(n)return function(e){e=e||document.body,e.style.MozUserSelect=""};else return $.noop}),define("cobble/function/float2Int",["require","exports","module"],function(){"use strict";return function(e,t){var n,i=(""+e).split(".");if(t>=0);else t=0;if(1===i.length)n=e+new Array(t+1).join("0");else t=Math.max(0,t-i[1].length),n=i.join("")+new Array(t+1).join("0");return+n}}),define("cobble/function/imageDimension",["require","exports","module"],function(){"use strict";var e=[];return function(t,n){var i=new Image,o=e.push(i);i.onload=function(){var t=i.height;if(null!=t&&t>0)n(i.width,t),delete e[o-1],i=null;else setTimeout(i.onload,10)},i.src=t}}),define("cobble/function/innerOffset",["require","exports","module","./toNumber"],function(require){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=t.css("border-left-width"),o=t.css("border-top-width");return{left:n.left+e(i,0,"int"),top:n.top+e(o,0,"int")}}}),define("cobble/function/isHidden",["require","exports","module"],function(){"use strict";return function(e){e.css("display");return"none"===e.css("display")||0==e.css("opacity")||"hidden"===e.css("visibility")}}),define("cobble/function/jquerify",["require","exports","module"],function(){"use strict";function e(e){return e.faker||e.element}var t=$.prototype,n={on:function(){return t.on.apply(e(this),arguments),this},off:function(){return t.off.apply(e(this),arguments),this},emit:function(n,i){var o=this,r=e(o);if(r){if(!n[$.expando])n="string"===$.type(n)?$.Event(n):$.Event(null,n);n.cobble=o;var u=[n];if(i)u.push(i);var c=o[$.camelCase("on-"+n.type)];if($.isFunction(c)&&c.apply(o,u)===!1)n.preventDefault();if(!n.isPropagationStopped())t.trigger.apply(r,u);return n}},before:function(t){e(this).before(t)},after:function(t){e(this).after(t)},appendTo:function(t){e(this).appendTo(t)},prependTo:function(t){e(this).prependTo(t)}};return function(e){$.each(n,function(t,n){if(null==e[t])e[t]=n})}}),define("cobble/function/lifeCycle",["require","exports"],function(require,exports){"use strict";exports.init=function(e,t){var n=e.constructor,i="__cobble__"+n.prototype.type,o=t.element;if(o&&o.data(i))e=o.data(i);else if($.extend(e,n.defaultOptions,t),e.init(),o)o.data(i,e);return e},exports.dispose=function(e){var t="__cobble__"+e.constructor.prototype.type,n=e.element;if(n)n.removeData(t)}}),define("cobble/function/offsetParent",["require","exports","module"],function(){"use strict";function e(e){return e.is("body")||"static"!==e.css("position")}return function(t){if(t.is("body"))return t;for(var n=t.parent();!e(n);)n=n.parent();return n}}),define("cobble/function/outerOffset",["require","exports","module","./toNumber"],function(require){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=e(t.css("margin-left"),0,"int"),o=e(t.css("margin-top"),0,"int");return{left:n.left-i,top:n.top-o}}}),define("cobble/function/page",["require","exports","module","../util/instance"],function(require){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")<e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cobble/function/pageHeight",["require","exports","module","./page"],function(require){"use strict";var e=require("./page");return function(){var t=e()[0];return Math.max(t.scrollHeight,t.clientHeight)}}),define("cobble/function/pageScrollLeft",["require","exports","module"],function(){"use strict";return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)}}),define("cobble/function/pageScrollTop",["require","exports","module"],function(){"use strict";return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}}),define("cobble/function/pageWidth",["require","exports","module","./page"],function(require){"use strict";var e=require("./page");return function(){var t=e()[0];return Math.max(t.scrollWidth,t.clientWidth)}}),define("cobble/function/parsePercent",["require","exports","module","./divide"],function(require){"use strict";var e=require("./divide"),t=/(-?\d+(\.\d+)?)%/;return function(n){if(t.test(n))return e(RegExp.$1,100);else return void 0}}),define("cobble/function/pin",["require","exports","module","../util/instance","./parsePercent"],function(require){"use strict";function e(e){var t=o[e.x];if(null==t)t=e.x;if("string"===$.type(t)){var n=i(t);if(null!=n)t=n*(e.width||e.element.outerWidth())}return t}function t(e){var t=o[e.y];if(null==t)t=e.y;if("string"===$.type(t)){var n=i(t);if(null!=n)t=n*(e.height||e.element.outerHeight())}return t}var n=require("../util/instance"),i=require("./parsePercent"),o={left:0,top:0,center:"50%",middle:"50%",right:"100%",bottom:"100%"};return function(i){var o=i.element,r=i.attachment||{};if(!r.element)r.element=n.body;var u=r.element.offset(),c=u.left+e(r),f=u.top+t(r),l=c-e(i),s=f-t(i),a=i.offset;if(a){if("number"===$.type(a.x))l+=a.x;if("number"===$.type(a.y))s+=a.y}var d={left:l,top:s},p=o.css("position");if("absolute"!==p&&"fixed"!==p)d.position="absolute";if(i.silence)return d;else o.css(d)}}),define("cobble/function/pinGlobal",["require","exports","module","./pin","../util/dimension","../function/viewport"],function(require){"use strict";var e=require("./pin"),t=require("../util/dimension"),n=require("../function/viewport");return function(i){var o={silence:!0,element:i.element,x:"50%"===i.x?"50%":0,y:"50%"===i.y?"50%":0,attachment:{element:n(),width:t.getViewportWidth(),height:t.getViewportHeight(),x:i.x,y:i.y}};if(!i.fixed)o.offset={x:t.getPageScrollLeft(),y:t.getPageScrollTop()};return e(o)}}),define("cobble/function/position",["require","exports","module","./offsetParent"],function(require){"use strict";var e=require("./offsetParent");return function(t){var n=e(t),i=t.css("position"),o=parseInt(t.css("left"),10),r=parseInt(t.css("top"),10),u=isNaN(o),c=isNaN(r);if(u||c)if(1===n.length){var f=t.offset(),l=n.offset();if(u)o=f.left-l.left-(parseInt(n.css("border-left-width"),10)||0);if(c)r=f.top-l.top-(parseInt(n.css("border-top-width"),10)||0)}else o=r=0;if(!i||"static"===i)i="absolute";return{position:i,left:o,top:r}}}),define("cobble/function/restrain",["require","exports","module"],function(){"use strict";return function(e,t,n){if(t>e)e=t;else if(e>n)e=n;return e}}),define("cobble/function/split",["require","exports","module"],function(){"use strict";return function(e,t){var n=[];return $.each(e.split(t),function(e,t){if(t=$.trim(t))n.push(t)}),n}}),define("cobble/function/toNumber",["require","exports","module"],function(){"use strict";var e={"int":parseInt,"float":parseFloat};return function(t,n,i){if("number"!==$.type(t)){var o=e[i];if(t=o?o(t,10):+t,isNaN(t))t=n}return t}}),define("cobble/function/viewport",["require","exports","module","../util/instance"],function(require){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")>e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cobble/function/viewportHeight",["require","exports","module"],function(){"use strict";return function(){return window.innerHeight||document.documentElement.clientHeight}}),define("cobble/function/viewportWidth",["require","exports","module"],function(){"use strict";return function(){return window.innerWidth||document.documentElement.clientWidth}}),define("cobble/helper/Draggable",["require","exports","module","../function/page","../function/toNumber","../function/restrain","../function/position","../function/contains","../function/jquerify","../function/lifeCycle","../function/innerOffset","../function/outerOffset","../function/pageScrollLeft","../function/pageScrollTop","../function/enableSelection","../function/disableSelection","../util/instance","../util/mouse"],function(require){"use strict";function e(e){return l.init(this,e)}function t(e){var t=v(e),n=y(e);if(S.left!==t||S.top!==n){S.left=t,S.top=n;var i=e.data;if(1===++x){var o=i.draggingClass;if(o)i.element.addClass(o);i.emit("beforeDrag")}if(!i.silence)i.element.css(S);i.emit("drag",S)}}function n(e){h(),g.document.off(w);var t=e.data,n=t.draggingClass;if(n)t.element.removeClass(n);if(x>0)t.emit("afterDrag",S);x=v=y=null}function i(e,t,n){var i=!1;if($.isArray(t))t=t.join(",");return e.find(t).each(function(){if(i=c(this,n))return!1;else return void 0}),i}var o=require("../function/page"),r=(require("../function/toNumber"),require("../function/restrain")),u=require("../function/position"),c=require("../function/contains"),f=require("../function/jquerify"),l=require("../function/lifeCycle"),s=require("../function/innerOffset"),a=require("../function/outerOffset"),d=require("../function/pageScrollLeft"),p=require("../function/pageScrollTop"),h=require("../function/enableSelection"),m=require("../function/disableSelection"),g=require("../util/instance"),b=require("../util/mouse");e.prototype={constructor:e,type:"Draggable",init:function(){var e=this,r=e.element;if(!e.container)e.container=o();r.css(u(r)),$.each(b,function(o,f){if(f.support)r.on(f.mousedown+w,function(l){var d=l.target,p=e.handleSelector,h=e.cancelSelector;if(!(p&&!i(r,p,d)||h&&i(r,h,d))){var b=k[o],$=a(r),H=b.absoluteX(l)-$.left,C=b.absoluteY(l)-$.top,_=e.container;if(c(_,r)){var P=s(_);H+=P.left,C+=P.top}var T=u(r),D=T.position;S.left=T.left,S.top=T.top;var L=e.axis,M=e.getRectange(!0);v="y"===L?q.constant(S.left):q.change(b[D+"X"],H,M.x,M.x+M.width),y="x"===L?q.constant(S.top):q.change(b[D+"Y"],C,M.y,M.y+M.height),x=0,m(),g.document.on(f.mousemove+w,e,t).on(f.mouseup+w,e,n)}})})},getRectange:function(e){var t=this,n=t.rect;if($.isFunction(n))n=t.rect();if(e){var i=t.element,o=n.width-i.outerWidth(!0),r=n.height-i.outerHeight(!0);n.width=Math.max(0,o),n.height=Math.max(0,r)}return n},setRectange:function(e){this.rect=e},dispose:function(){var e=this;l.dispose(e),e.element.off(w),e.element=e.container=null}},f(e.prototype),e.defaultOptions={rect:function(){var e=this,t=e.container,n={x:0,y:0,width:t.innerWidth(),height:t.innerHeight()};if(!c(t,e.element)){var i=s(t);n.x=i.left,n.y=i.top}return n}};var v,y,x,w=".cobble_helper_draggable",S={},q={constant:function(e){return function(){return e}},change:function(e,t,n,i){return function(o){return r(e(o)-t,n,i)}}},k={};return $.each(b,function(e,t){if(t.support)k[e]={absoluteX:function(e){return t.clientX(e)+d()},absoluteY:function(e){return t.clientY(e)+p()},fixedX:function(e){return t.clientX(e)},fixedY:function(e){return t.clientY(e)}}}),e}),define("cobble/helper/Popup",["require","exports","module","../function/split","../function/isHidden","../function/contains","../function/jquerify","../function/lifeCycle","../util/instance"],function(require){"use strict";function e(e){return k.init(this,e)}function t(e,t){$.each(e.showConfigList,function(n,i){i[t](e)})}function n(e,t){$.each(e.hideConfigList,function(n,i){i[t](e)})}function i(e,t){if(e)e.type=t;else e=t;return e}function o(e){var t=e.currentTarget;return t&&"HTML"===t.tagName?null:t}function r(e,t){return e.emit(i(t,"beforeShow"))}function u(e,i){return e.layer.data(D,o(i)),t(e,"off"),n(e,"on"),e.emit("afterShow")}function c(e,t){return e.emit(i(t,"beforeHide"))}function f(e){return e.layer.removeData(D),n(e,"off"),t(e,"on"),e.emit("afterHide")}function l(){return $.now()}function s(e){return"__"+e+"Handler__"}function a(e,t){return null==e[t]}function d(e,t){return e.layer.data(D)!==o(t)}function p(e,t,n){return!t||t(e,n)}function h(e,t){return t-e[T]>50}function m(t,n){return function(i){var o=i.data,r=l(i);if(a(o,_)&&d(o,i)&&p(o,n,i))o[T]=r,b({popup:o,delay:o.show.delay,toggle:e.trigger.show[t].delay,timer:_,success:function(){var e=function(){o.open(i)},t=o[C];if(t)t.done(e);else e()}})}}function g(t,n){return function(i){var o=i.data,r=l(i);if(a(o,P)&&p(o,n,i)&&h(o,r))o[T]=r,o[C]=$.Deferred(),b({popup:o,delay:o.hide.delay,toggle:e.trigger.hide[t].delay,timer:P,success:function(){o.close(i),o[C].resolve()},fail:function(){o[C]=null}})}}function b(e){var t=e.delay,n=e.success;if(t>0){var i=e.popup,o=e.timer,r=e.toggle||{},u=r.on||$.noop,c=r.off||$.noop,f=e.fail||$.noop,l=function(){clearTimeout(i[o]),c(i,s),i[o]=null},s=function(e){var t=i[o];if(t)l();if(t&&e===T)n();else f()};u(i,s),i[o]=setTimeout(function(){s(T)},t)}else n()}function v(e){var t=this,n=t.type,i=t.handler,o=s(n);if(e[o]!==i)e.element.on(n,e.selector,e,i),e[o]=i}function y(e){var t=this;if(!e.selector){var n=t.type;e.element.off(n,t.handler),e[s(n)]=null}}var x=require("../function/split"),w=require("../function/isHidden"),S=require("../function/contains"),q=require("../function/jquerify"),k=require("../function/lifeCycle"),H=require("../util/instance");e.prototype={constructor:e,type:"Popup",init:function(){var i=this,o=i.showConfigList=[],r=i.hideConfigList=[],u=i.show.trigger,c=i.hide.trigger;if(u)$.each(x(u,","),function(t,n){var i=e.trigger.show[n];if(i)o.push(i)});if(c)$.each(x(i.hide.trigger,","),function(t,n){var i=e.trigger.hide[n];if(i)r.push(i)});if(i.hidden=w(i.layer))t(i,"on");else n(i,"on")},open:function(){var e=this,t=arguments[0];if(!t)e[T]=l();if(t=r(e,t),!t.isDefaultPrevented()){var n=e.layer,i=e.show.animation;if($.isFunction(i))i.call(e,n);else n.show();e.hidden=!1,u(e,t)}},close:function(){var e=this;if(!e.hidden){var t=arguments[0];if(!t)e[T]=l();if(t=c(e,t),!t.isDefaultPrevented()){var n=e.layer,i=e.hide.animation;if($.isFunction(i))i.call(e,n);else n.hide();e.hidden=!0,f(e)}}},dispose:function(){var e=this;k.dispose(e),e.close(),t(e,"off"),e.element=e.layer=null}},q(e.prototype),e.defaultOptions={show:{trigger:"click"},hide:{trigger:"click"}};var C="__hidePromise__",_="__showTimer__",P="__hideTimer__",T="__lastTriggerTime__",D="__sourceElement__",L=function(e,t){if(!t)return!1;else return S(e.layer,t)};return e.trigger={show:{focus:{type:"focusin",handler:m("focus"),on:v,off:y},click:{type:"click",handler:m("click"),on:v,off:y},over:{type:"mouseenter",handler:m("over"),on:v,off:y,delay:{on:function(e,t){e.element.on("mouseleave",e.selector,t)},off:function(e,t){e.element.off("mouseleave",t)}}},context:{type:"contextmenu",handler:m("context"),on:v,off:y}},hide:{blur:{type:"focusout",handler:g("blur"),on:v,off:y},click:{type:"click",handler:function(){return g(this.type,function(e,t){return!L(e,t.target)})},on:function(e){var t=this;H.document.on(t.type,e,e.clickHandler=t.handler())},off:function(e){H.document.off(this.type,e.clickHandler)}},out:{type:"mouseleave",handler:g("out"),on:function(e){var t=this.type,n=this.handler;e.layer.on(t,e,n),e.element.on(t,e.selector,e,n)},off:function(e){var t=this.type,n=this.handler;e.element.off(t,n),e.layer.off(t,n)},delay:{on:function(e,t){e.element.on("mouseenter",e.selector,t),e.layer.on("mouseenter",t)},off:function(e,t){e.element.off("mouseenter",t),e.layer.off("mouseenter",t)}}},context:{type:"contextmenu",handler:function(){return g("context",function(e,t){return!L(e,t.target)})},on:function(e){var t=this;H.document.on(t.type,e,e.contextHandler=t.handler())},off:function(e){H.document.off(this.type,e.contextHandler)}}}},e}),define("cobble/ui/Dialog",["require","exports","module","../util/instance","../util/dimension","../function/jquerify","../function/lifeCycle","../function/offsetParent","../function/debounce","../function/pinGlobal","../function/dragGlobal"],function(require){"use strict";function e(e){return o.init(this,e)}var t=require("../util/instance"),n=require("../util/dimension"),i=require("../function/jquerify"),o=require("../function/lifeCycle"),r=require("../function/offsetParent"),u=require("../function/debounce"),c=require("../function/pinGlobal"),f=require("../function/dragGlobal");e.prototype={constructor:e,type:"Dialog",init:function(){var e=this,n=e.element||(e.element=$(e.template)),i=[],o=e.skinClass;if(o)i.push(o);var u=e.draggableClass;if(e.draggable&&u)i.push(u);if(i.length>0)n.addClass(i.join(" "));var c=e.removeOnEmpty,f=e.title;if(f)n.find(e.titleSelector).html(f);else if(c)n.find(e.headerSelector).remove();var s=e.content,a=n.find(e.bodySelector);if(s)a.html(s);else if(c)a.remove();var d=e.closeSelector,p=$.proxy(e.hide,e);if(d)n.on("click"+l,d,p);var h={};if(e.width)h.width=e.width;var m=e.fixed?"fixed":"absolute";if(n.css("position")!==m)h.position=m;if(!r(n).is("body"))t.body.append(n);if(e.modal){var g=e.mask||(e.mask=$(e.maskTemplate));if(n.before(g),e.hideOnClickMask)g.on("click"+l,p);var b="zIndex",v=e[b];if(!$.isNumeric(v))if(v=g.css(b),!$.isNumeric(v))v="auto";var y={overflow:"hidden"};y[b]=v,g.css(y),h[b]=v}if(n.css(h),!e.hidden)e.hidden=!0,e.show()},show:function(){var e=this;if(e.hidden!==!1){var n=e.emit("beforeShow");if(!n.isDefaultPrevented()){var i=e.element,o=e.scrollable;if(e.draggable)e.drager=f({element:i,handleSelector:e.draggableHandleSelector,cancelSelector:e.draggableCancelSelector,draggingClass:e.draggingClass,fixed:e.fixed,scrollable:o});if(e.refresh(),e.showAnimation(),e.mask)e.showMaskAnimation();e.hidden=!1,t.window.resize(e.resizer=u(function(){e.refresh(!0)},50)),e.emit("afterShow")}}},hide:function(){var e=this;if(e.hidden!==!0){var n=e.emit("beforeHide");if(!n.isDefaultPrevented()){if(e.resizer)t.window.off("resize",e.resizer),e.resizer=null;if(e.drager)e.drager.dispose(),e.drager=null;if(e.hideAnimation(),e.mask)e.hideMaskAnimation();if(e.hidden=!0,e.emit("afterHide"),e.disposeOnHide)e.dispose()}}},refresh:function(){var e=this,t=arguments[0];if(!t||e.positionOnResize){var i=e.element,o=c({element:i,x:e.x,y:e.y,fixed:e.fixed});if(t)e.resizeAnimation(o);else i.css(o)}var r=e.mask;if(r)r.css({width:n.getPageWidth(),height:n.getPageHeight()})},dispose:function(){var e=this;if(o.dispose(e),!e.hidden)e.disposeOnHide=!1,e.hide();var t=e.element,n=e.mask;if(t.off(l),n)n.off(l);if(e.removeOnDispose)if(t.remove(),n)n.remove();e.element=e.mask=null}},i(e.prototype),e.defaultOptions={x:"50%",y:"50%",modal:!0,fixed:!0,hidden:!1,draggable:!0,scrollable:!0,removeOnEmpty:!0,disposeOnHide:!0,removeOnDispose:!0,hideOnClickMask:!1,positionOnResize:!0,draggableClass:"draggable",draggableHandleSelector:".dialog-header",draggableCancelSelector:[".dialog-header h1",".dialog-close"],headerSelector:".dialog-header",titleSelector:".dialog-header h1",closeSelector:".dialog-close",bodySelector:".dialog-body",template:'<div class="dialog"><i class="dialog-close">&times;</i><div class="dialog-header"><h1></h1></div><div class="dialog-body"></div></div>',maskTemplate:'<div class="dialog-mask"></div>',showAnimation:function(){this.element.show()},hideAnimation:function(){this.element.hide()},showMaskAnimation:function(){this.mask.show()},hideMaskAnimation:function(){this.mask.hide()},resizeAnimation:function(e){this.element.css(e)}};{var l=".cobble_ui_dialog";t.html.css("overflow"),t.body.css("overflow")}return e}),define("cobble/ui/Zoom",["require","exports","module","../function/jquerify","../function/lifeCycle","../function/offsetParent","../function/imageDimension","../util/instance"],function(require){"use strict";function e(e){return n.init(this,e)}var t=require("../function/jquerify"),n=require("../function/lifeCycle"),i=require("../function/offsetParent"),o=require("../function/imageDimension"),r=require("../util/instance");e.prototype={constructor:e,type:"Zoom",init:function(){var e=this,t=e.element;if(t.is(":hidden"))throw new Error("Zoom element must be visible!");var n=t.width(),c=t.height(),f=e.viewport,l=e.finder,s=l.outerWidth(!0),a=l.outerHeight(!0);l.hide(),f.hide();var d=e.url;o(d,function(e,o){var p=n/e,h=c/o,m=s/p,g=a/h;f.css({width:m,height:g,background:"url("+d+") no-repeat"});var b=t.offset(),v={left:0,top:0},y=b.left,x=b.top,w=y+n,$=x+c,S=i(t);if(S.is("body"))b=v;var q=i(l),k=b;if(S[0]!==q[0]){if(!q.is("body"))l.appendTo("body");k=v}var H="mouseenter"+u,C="mousemove"+u;t.on(H,function(){l.show(),f.show(),r.document.on(C,function(t){var n=t.pageX,i=t.pageY;if(y>n||n>w||x>i||i>$)return l.hide(),f.hide(),void r.document.off(C);if(n-=.5*s,i-=.5*a,y>n)n=y;else if(n>w-s)n=w-s;if(x>i)i=x;else if(i>$-a)i=$-a;if(l.css({left:n-k.left,top:i-k.top}),n=(n-b.left)/p,i=(i-b.top)/h,n>e-m)n=e-m;if(i>o-g)i=o-g;f.css({"background-position":"-"+n+"px -"+i+"px"})})})})},dispose:function(){var e=this;n.dispose(e),r.document.off(u),e.element.off(u),e.element=e.finder=e.viewport=null}},t(e.prototype),e.defaultOptions={};var u=".cobble_ui_zoom";return e}),define("cobble/util/dimension",["require","exports","module","../function/pageScrollTop","../function/pageScrollLeft","../function/pageWidth","../function/pageHeight","../function/viewportWidth","../function/viewportHeight"],function(require,exports){"use strict";var e=require("../function/pageScrollTop"),t=require("../function/pageScrollLeft"),n=require("../function/pageWidth"),i=require("../function/pageHeight"),o=require("../function/viewportWidth"),r=require("../function/viewportHeight");exports.getPageScrollTop=e,exports.getPageScrollLeft=t,exports.getPageWidth=n,exports.getPageHeight=i,exports.getViewportWidth=o,exports.getViewportHeight=r}),define("cobble/util/instance",["require","exports","module"],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body)}),define("cobble/util/mouse",["require","exports","module"],function(){"use strict";function e(e){return e.originalEvent.changedTouches[0]}var t=document.createElement("div"),n={support:"ontouchend"in t,click:"touchstart",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",pageX:function(t){return e(t).pageX},pageY:function(t){return e(t).pageY},clientX:function(t){return e(t).clientX},clientY:function(t){return e(t).clientY}},i={support:"onclick"in t,click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",pageX:function(e){return e.pageX},pageY:function(e){return e.pageY},clientX:function(e){return e.clientX},clientY:function(e){return e.clientY}};return t=null,{touch:n,mouse:i}}),define("course/detail/profile",["require","exports","cobble/helper/Popup","cobble/ui/Zoom","cobble/ui/Dialog"],function(require,exports){"use strict";function e(){var e=i.find(".box"),t=e.find("ul"),n=80,o=t.find("li").length,r=o*n,u=!1;if(!(5>o))t.css({width:r}),i.on("click",".leftbar",function(){if(!u){var t=e.scrollLeft()-n;if(!(-n>=t)){if($(".rightbar").removeClass("disablebar"),0>=t)$(this).addClass("disablebar");u=!0,e.animate({scrollLeft:t+"px"},"slow",function(){u=!1})}}}).on("click",".rightbar",function(){if(!u){var t=e.scrollLeft()+n;if(!(t>=r-330+60)){if($(".leftbar").removeClass("disablebar"),t>=r-330-n+60)$(this).addClass("disablebar");u=!0,e.animate({scrollLeft:t+"px"},"slow",function(){u=!1})}}}).on("mouseenter",".bar",function(){$(this).addClass("hoverbar")}).on("mouseleave",".bar",function(){$(this).removeClass("hoverbar")})}function t(e){var t=0,n=0,i=0,o=0;if(e>86400)t=Math.floor(e/86400);if(e%=86400,e>3600)n=Math.floor(e/3600);if(e%=3600,e>60)i=Math.floor(e/60);o=e%60;var r=(t>9?t:"0"+t)+"天"+(n>9?n:"0"+n)+"时"+(i>9?i:"0"+i)+"分"+(o>9?o:"0"+o)+"秒";return r}var n=require("cobble/helper/Popup"),i=(require("cobble/ui/Zoom"),require("cobble/ui/Dialog"),$("#course-profile"));exports.init=function(){e();new n({element:i.find(".social-share"),layer:i.find(".baidu-share"),show:{trigger:"over",delay:100},hide:{trigger:"out",delay:200}});i.on("mouseenter",".box li",function(){var e=$(this),t=e.data("image"),n=e.data("height"),o=i.find(".image"),r=o.find("img"),u=o.find(".floater");i.find("li").removeClass("active"),e.addClass("active"),o.data("image",t),r.attr("src",t),u.css({"margin-bottom":"-"+n/2+"px"})}).on("click","#detail-time",function(){$("#nav-course-plan").click()});var o=i.find(".price-tip");if(o[0]){var r=null,u=null,c=null,f=null,l=o.find(".time");if(o.hasClass("price-tip-begin")){r=o.data("cur"),u=o.data("start"),f=u-r;var s=setInterval(function(){if(l.html(t(--f)),0==f)clearInterval(s)},1e3)}if(o.hasClass("price-tip-end")){r=o.data("cur"),c=o.data("end"),f=c-r;var s=setInterval(function(){if(l.html(t(--f)),0==f)clearInterval(s)},1e3)}}}});