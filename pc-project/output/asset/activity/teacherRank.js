define('cobble/function/contains',['require','exports','module'],function(){'use strict';return function(e,n){if(e=e.jquery?e[0]:e,n=n.jquery?n[0]:n,!e||!n)return!1;if(e===n)return!0;else return $.contains(e,n);};}),define('cobble/function/isHidden',['require','exports','module'],function(){'use strict';return function(e){e.css('display');return'none'===e.css('display')||0==e.css('opacity')||'hidden'===e.css('visibility');};}),define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var n=$.prototype,t={on:function(){return n.on.apply(e(this),arguments),this;},off:function(){return n.off.apply(e(this),arguments),this;},emit:function(t,i){var o=this,r=e(o);if(r){if(!t[$.expando])t='string'===$.type(t)?$.Event(t):$.Event(null,t);t.cobble=o;var u=[t];if(i)u.push(i);var c=o[$.camelCase('on-'+t.type)];if($.isFunction(c)&&c.apply(o,u)===!1)t.preventDefault();if(!t.isPropagationStopped())n.trigger.apply(r,u);return t;}},before:function(n){e(this).before(n);},after:function(n){e(this).after(n);},appendTo:function(n){e(this).appendTo(n);},prependTo:function(n){e(this).prependTo(n);}};return function(e){$.each(t,function(n,t){if(null==e[n])e[n]=t;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,n){var t=e.constructor,i='__cobble__'+t.prototype.type,o=n.element;if(o&&o.data(i))e=o.data(i);else if($.extend(e,t.defaultOptions,n),e.init(),o)o.data(i,e);return e;},exports.dispose=function(e){var n='__cobble__'+e.constructor.prototype.type,t=e.element;if(t)t.removeData(n);};}),define('cobble/function/pageScrollTop',['require','exports','module'],function(){'use strict';return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop);};}),define('cobble/function/split',['require','exports','module'],function(){'use strict';return function(e,n){var t=[];return $.each(e.split(n),function(e,n){if(n=$.trim(n))t.push(n);}),t;};}),define('cobble/helper/Popup',['require','exports','module','../function/split','../function/isHidden','../function/contains','../function/jquerify','../function/lifeCycle','../util/instance'],function(require){'use strict';function e(e){return k.init(this,e);}function n(e,n){$.each(e.showConfigList,function(t,i){i[n](e);});}function t(e,n){$.each(e.hideConfigList,function(t,i){i[n](e);});}function i(e,n){if(e)e.type=n;else e=n;return e;}function o(e){var n=e.currentTarget;return n&&'HTML'===n.tagName?null:n;}function r(e,n){return e.emit(i(n,'beforeShow'));}function u(e,i){return e.layer.data(D,o(i)),n(e,'off'),t(e,'on'),e.emit('afterShow');}function c(e,n){return e.emit(i(n,'beforeHide'));}function f(e){return e.layer.removeData(D),t(e,'off'),n(e,'on'),e.emit('afterHide');}function a(){return $.now();}function s(e){return'__'+e+'Handler__';}function l(e,n){return null==e[n];}function d(e,n){return e.layer.data(D)!==o(n);}function p(e,n,t){return!n||n(e,t);}function h(e,n){return n-e[P]>50;}function m(n,t){return function(i){var o=i.data,r=a(i);if(l(o,H)&&d(o,i)&&p(o,t,i))o[P]=r,y({popup:o,delay:o.show.delay,toggle:e.trigger.show[n].delay,timer:H,success:function(){var e=function(){o.open(i);},n=o[C];if(n)n.done(e);else e();}});};}function v(n,t){return function(i){var o=i.data,r=a(i);if(l(o,S)&&p(o,t,i)&&h(o,r))o[P]=r,o[C]=$.Deferred(),y({popup:o,delay:o.hide.delay,toggle:e.trigger.hide[n].delay,timer:S,success:function(){o.close(i),o[C].resolve();},fail:function(){o[C]=null;}});};}function y(e){var n=e.delay,t=e.success;if(n>0){var i=e.popup,o=e.timer,r=e.toggle||{},u=r.on||$.noop,c=r.off||$.noop,f=e.fail||$.noop,a=function(){clearTimeout(i[o]),c(i,s),i[o]=null;},s=function(e){var n=i[o];if(n)a();if(n&&e===P)t();else f();};u(i,s),i[o]=setTimeout(function(){s(P);},n);}else t();}function g(e){var n=this,t=n.type,i=n.handler,o=s(t);if(e[o]!==i)e.element.on(t,e.selector,e,i),e[o]=i;}function b(e){var n=this;if(!e.selector){var t=n.type;e.element.off(t,n.handler),e[s(t)]=null;}}var _=require('../function/split'),w=require('../function/isHidden'),T=require('../function/contains'),x=require('../function/jquerify'),k=require('../function/lifeCycle'),q=require('../util/instance');e.prototype={constructor:e,type:'Popup',init:function(){var i=this,o=i.showConfigList=[],r=i.hideConfigList=[],u=i.show.trigger,c=i.hide.trigger;if(u)$.each(_(u,','),function(n,t){var i=e.trigger.show[t];if(i)o.push(i);});if(c)$.each(_(i.hide.trigger,','),function(n,t){var i=e.trigger.hide[t];if(i)r.push(i);});if(i.hidden=w(i.layer))n(i,'on');else t(i,'on');},open:function(){var e=this,n=arguments[0];if(!n)e[P]=a();if(n=r(e,n),!n.isDefaultPrevented()){var t=e.layer,i=e.show.animation;if($.isFunction(i))i.call(e,t);else t.show();e.hidden=!1,u(e,n);}},close:function(){var e=this;if(!e.hidden){var n=arguments[0];if(!n)e[P]=a();if(n=c(e,n),!n.isDefaultPrevented()){var t=e.layer,i=e.hide.animation;if($.isFunction(i))i.call(e,t);else t.hide();e.hidden=!0,f(e);}}},dispose:function(){var e=this;k.dispose(e),e.close(),n(e,'off'),e.element=e.layer=null;}},x(e.prototype),e.defaultOptions={show:{trigger:'click'},hide:{trigger:'click'}};var C='__hidePromise__',H='__showTimer__',S='__hideTimer__',P='__lastTriggerTime__',D='__sourceElement__',L=function(e,n){if(!n)return!1;else return T(e.layer,n);};return e.trigger={show:{focus:{type:'focusin',handler:m('focus'),on:g,off:b},click:{type:'click',handler:m('click'),on:g,off:b},over:{type:'mouseenter',handler:m('over'),on:g,off:b,delay:{on:function(e,n){e.element.on('mouseleave',e.selector,n);},off:function(e,n){e.element.off('mouseleave',n);}}},context:{type:'contextmenu',handler:m('context'),on:g,off:b}},hide:{blur:{type:'focusout',handler:v('blur'),on:g,off:b},click:{type:'click',handler:function(){return v(this.type,function(e,n){return!L(e,n.target);});},on:function(e){var n=this;q.document.on(n.type,e,e.clickHandler=n.handler());},off:function(e){q.document.off(this.type,e.clickHandler);}},out:{type:'mouseleave',handler:v('out'),on:function(e){var n=this.type,t=this.handler;e.layer.on(n,e,t),e.element.on(n,e.selector,e,t);},off:function(e){var n=this.type,t=this.handler;e.element.off(n,t),e.layer.off(n,t);},delay:{on:function(e,n){e.element.on('mouseenter',e.selector,n),e.layer.on('mouseenter',n);},off:function(e,n){e.element.off('mouseenter',n),e.layer.off('mouseenter',n);}}},context:{type:'contextmenu',handler:function(){return v('context',function(e,n){return!L(e,n.target);});},on:function(e){var n=this;q.document.on(n.type,e,e.contextHandler=n.handler());},off:function(e){q.document.off(this.type,e.contextHandler);}}}},e;}),define('cobble/util/instance',['require','exports','module'],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body);}),define('activity/teacherRank',['require','exports','cobble/function/pageScrollTop','common/store_a1a35b3dfc','common/function/timeSpan_d90461ee00','cobble/helper/Popup'],function(require,exports){'use strict';function e(e,n){var t=r(n);e.text(''+t.days+'天'+t.hours+'小时'+t.minutes+'分'+t.seconds+'秒');}function n(){if(2===o.get('user').type)service.getUserType().done(function(e){if(0===e.code){var n=e.data.roles,t=getHasTeacherRole(n);if(t)return void alert('你目前是学生身份\uFF0C需要切换到老师身份才能查看哦');location.href='/teacher_center/teacherRank';}});else location.href='/teacher_center/teacherRank';}var t=$('#main'),i=require('cobble/function/pageScrollTop'),o=require('common/store_a1a35b3dfc'),r=require('common/function/timeSpan_d90461ee00'),u=require('cobble/helper/Popup');exports.init=function(){var r=[],c=o.get('navs');$.each(c,function(e,n){r.push({id:n.id,top:t.find('#'+n.id).offset().top});});var f=(r[0].top,t.find('.side-nav'));f.on('click','li',function(){var e,t=$(this),i=t.data('nav-id');if($.each(r,function(n,t){if(t.id==i)return e=t.top,!1;else return void 0;}),void 0!==e)f.find('.active').removeClass('active'),t.addClass('active'),$(window).unbind('scroll',a),$('html,body').animate({scrollTop:e},200,'easeOutCirc',function(){$(window).on('scroll',a);});if('toRankPage'==i){if(!o.get('user').number)return void new LoginDialog({onSuccess:function(){n();}});n();}});var a=function(){var e,n=i();if($.each(r,function(t,i){if((t==r.length-1||n<=r[t+1].top-200)&&n>=i.top-200)return e=i.id,f.find('.active').removeClass('active'),f.find('[data-nav-id='+i.id+']').addClass('active'),!1;else return void 0;}),!e)f.hide();else f.show();};f.on('click','.back-to-top',function(){$('html,body').animate({scrollTop:0},1000,'easeOutCirc');}),$(window).on('scroll',a);var s=o.get('currentTime'),l=o.get('expiredTime'),d=(l-s)/1000;if($.isNumeric(d)){var p=t.find('.count-down span'),h=function(){if(d-=1,d>0)e(p,d),setTimeout(h,1000);else p.text('活动已结束');};e(p,d),setTimeout(h,1000);}if(o.get('needsShare'))new u({element:$('.share div'),layer:t.find('.baidu-share'),show:{trigger:'over'},hide:{trigger:'out',delay:100}});};}),define('common/function/timeSpan_d90461ee00',['require','exports'],function(){'use strict';function e(e){if(1===e.toString().length)return'0'+e;else return e;}return function(n){if(1>n)n=0;var t=parseInt(n/86400,10),i=parseInt((n-86400*t)/3600,10),o=parseInt((n-86400*t-3600*i)/60,10),r=parseInt(n-86400*t-3600*i-60*o,10);return{days:t,hours:e(i),minutes:e(o),seconds:e(r)};};});