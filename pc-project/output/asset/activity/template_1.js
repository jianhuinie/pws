define('cobble/function/contains',['require','exports','module'],function(){'use strict';return function(e,n){if(e=e.jquery?e[0]:e,n=n.jquery?n[0]:n,!e||!n)return!1;if(e===n)return!0;else return $.contains(e,n);};}),define('cobble/function/isHidden',['require','exports','module'],function(){'use strict';return function(e){e.css('display');return'none'===e.css('display')||0==e.css('opacity')||'hidden'===e.css('visibility');};}),define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var n=$.prototype,t={on:function(){return n.on.apply(e(this),arguments),this;},off:function(){return n.off.apply(e(this),arguments),this;},emit:function(t,o){var i=this,r=e(i);if(r){if(!t[$.expando])t='string'===$.type(t)?$.Event(t):$.Event(null,t);t.cobble=i;var u=[t];if(o)u.push(o);var c=i[$.camelCase('on-'+t.type)];if($.isFunction(c)&&c.apply(i,u)===!1)t.preventDefault();if(!t.isPropagationStopped())n.trigger.apply(r,u);return t;}},before:function(n){e(this).before(n);},after:function(n){e(this).after(n);},appendTo:function(n){e(this).appendTo(n);},prependTo:function(n){e(this).prependTo(n);}};return function(e){$.each(t,function(n,t){if(null==e[n])e[n]=t;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,n){var t=e.constructor,o='__cobble__'+t.prototype.type,i=n.element;if(i&&i.data(o))e=i.data(o);else if($.extend(e,t.defaultOptions,n),e.init(),i)i.data(o,e);return e;},exports.dispose=function(e){var n='__cobble__'+e.constructor.prototype.type,t=e.element;if(t)t.removeData(n);};}),define('cobble/function/split',['require','exports','module'],function(){'use strict';return function(e,n){var t=[];return $.each(e.split(n),function(e,n){if(n=$.trim(n))t.push(n);}),t;};}),define('cobble/function/viewportHeight',['require','exports','module'],function(){'use strict';return function(){return window.innerHeight||document.documentElement.clientHeight;};}),define('cobble/helper/Popup',['require','exports','module','../function/split','../function/isHidden','../function/contains','../function/jquerify','../function/lifeCycle','../util/instance'],function(require){'use strict';function e(e){return T.init(this,e);}function n(e,n){$.each(e.showConfigList,function(t,o){o[n](e);});}function t(e,n){$.each(e.hideConfigList,function(t,o){o[n](e);});}function o(e,n){if(e)e.type=n;else e=n;return e;}function i(e){var n=e.currentTarget;return n&&'HTML'===n.tagName?null:n;}function r(e,n){return e.emit(o(n,'beforeShow'));}function u(e,o){return e.layer.data(S,i(o)),n(e,'off'),t(e,'on'),e.emit('afterShow');}function c(e,n){return e.emit(o(n,'beforeHide'));}function f(e){return e.layer.removeData(S),t(e,'off'),n(e,'on'),e.emit('afterHide');}function a(){return $.now();}function l(e){return'__'+e+'Handler__';}function s(e,n){return null==e[n];}function d(e,n){return e.layer.data(S)!==i(n);}function p(e,n,t){return!n||n(e,t);}function m(e,n){return n-e[D]>50;}function h(n,t){return function(o){var i=o.data,r=a(o);if(s(i,C)&&d(i,o)&&p(i,t,o))i[D]=r,y({popup:i,delay:i.show.delay,toggle:e.trigger.show[n].delay,timer:C,success:function(){var e=function(){i.open(o);},n=i[q];if(n)n.done(e);else e();}});};}function g(n,t){return function(o){var i=o.data,r=a(o);if(s(i,P)&&p(i,t,o)&&m(i,r))i[D]=r,i[q]=$.Deferred(),y({popup:i,delay:i.hide.delay,toggle:e.trigger.hide[n].delay,timer:P,success:function(){i.close(o),i[q].resolve();},fail:function(){i[q]=null;}});};}function y(e){var n=e.delay,t=e.success;if(n>0){var o=e.popup,i=e.timer,r=e.toggle||{},u=r.on||$.noop,c=r.off||$.noop,f=e.fail||$.noop,a=function(){clearTimeout(o[i]),c(o,l),o[i]=null;},l=function(e){var n=o[i];if(n)a();if(n&&e===D)t();else f();};u(o,l),o[i]=setTimeout(function(){l(D);},n);}else t();}function v(e){var n=this,t=n.type,o=n.handler,i=l(t);if(e[i]!==o)e.element.on(t,e.selector,e,o),e[i]=o;}function b(e){var n=this;if(!e.selector){var t=n.type;e.element.off(t,n.handler),e[l(t)]=null;}}var _=require('../function/split'),w=require('../function/isHidden'),x=require('../function/contains'),H=require('../function/jquerify'),T=require('../function/lifeCycle'),k=require('../util/instance');e.prototype={constructor:e,type:'Popup',init:function(){var o=this,i=o.showConfigList=[],r=o.hideConfigList=[],u=o.show.trigger,c=o.hide.trigger;if(u)$.each(_(u,','),function(n,t){var o=e.trigger.show[t];if(o)i.push(o);});if(c)$.each(_(o.hide.trigger,','),function(n,t){var o=e.trigger.hide[t];if(o)r.push(o);});if(o.hidden=w(o.layer))n(o,'on');else t(o,'on');},open:function(){var e=this,n=arguments[0];if(!n)e[D]=a();if(n=r(e,n),!n.isDefaultPrevented()){var t=e.layer,o=e.show.animation;if($.isFunction(o))o.call(e,t);else t.show();e.hidden=!1,u(e,n);}},close:function(){var e=this;if(!e.hidden){var n=arguments[0];if(!n)e[D]=a();if(n=c(e,n),!n.isDefaultPrevented()){var t=e.layer,o=e.hide.animation;if($.isFunction(o))o.call(e,t);else t.hide();e.hidden=!0,f(e);}}},dispose:function(){var e=this;T.dispose(e),e.close(),n(e,'off'),e.element=e.layer=null;}},H(e.prototype),e.defaultOptions={show:{trigger:'click'},hide:{trigger:'click'}};var q='__hidePromise__',C='__showTimer__',P='__hideTimer__',D='__lastTriggerTime__',S='__sourceElement__',j=function(e,n){if(!n)return!1;else return x(e.layer,n);};return e.trigger={show:{focus:{type:'focusin',handler:h('focus'),on:v,off:b},click:{type:'click',handler:h('click'),on:v,off:b},over:{type:'mouseenter',handler:h('over'),on:v,off:b,delay:{on:function(e,n){e.element.on('mouseleave',e.selector,n);},off:function(e,n){e.element.off('mouseleave',n);}}},context:{type:'contextmenu',handler:h('context'),on:v,off:b}},hide:{blur:{type:'focusout',handler:g('blur'),on:v,off:b},click:{type:'click',handler:function(){return g(this.type,function(e,n){return!j(e,n.target);});},on:function(e){var n=this;k.document.on(n.type,e,e.clickHandler=n.handler());},off:function(e){k.document.off(this.type,e.clickHandler);}},out:{type:'mouseleave',handler:g('out'),on:function(e){var n=this.type,t=this.handler;e.layer.on(n,e,t),e.element.on(n,e.selector,e,t);},off:function(e){var n=this.type,t=this.handler;e.element.off(n,t),e.layer.off(n,t);},delay:{on:function(e,n){e.element.on('mouseenter',e.selector,n),e.layer.on('mouseenter',n);},off:function(e,n){e.element.off('mouseenter',n),e.layer.off('mouseenter',n);}}},context:{type:'contextmenu',handler:function(){return g('context',function(e,n){return!j(e,n.target);});},on:function(e){var n=this;k.document.on(n.type,e,e.contextHandler=n.handler());},off:function(e){k.document.off(this.type,e.contextHandler);}}}},e;}),define('cobble/util/instance',['require','exports','module'],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body);}),define('activity/template_1',['require','exports','cobble/helper/Popup','common/lazyImage_92160e3789','common/component/ClickMonitor_2ea1c7c842'],function(require,exports){var e=require('cobble/helper/Popup'),n=require('common/lazyImage_92160e3789'),t=require('common/component/ClickMonitor_2ea1c7c842');exports.init=function(){var o=$('#share-btn');n.init(),new e({element:o,layer:o.find('.baidu-share'),show:{trigger:'over',delay:20},hide:{trigger:'out',delay:200}});new t({monitorUrl:'',isSend:!1,useDataHref:!0});};}),define('common/bindScroll_f2ce0a166a',function(){'use strict';var e=function(e,n){return e===n.target||e===window&&n.target===document;},n=function(e){for(;e.length>1;)clearTimeout(e.shift());};return function(t,o,i,r){var u=[],c=null,f=$(t);if(t=f[0],isNaN(i)||0>i)if(r)c=o;else c=function(n){if(e(t,n))o(n);};else if(r)c=function(e){u.push(setTimeout(function(){n(u),o(e);},i));};else c=function(r){u.push(setTimeout(function(){if(n(u),e(t,r))o(r);},i));};f.scroll(c);};}),define('common/component/ClickMonitor_2ea1c7c842',function(){function e(n){$.extend(this,e.defaultOptions,n),this.init();}var n=function(){};return e.defaultOptions={selector:'[data-click-monitor="1"]',monitorUrl:'http://click.genshuixue.com/',defaultParams:{},useDataHref:!0,isSend:!0,interceptor:n},e.prototype.setInterceptor=function(e){this.interceptor=e;},e.prototype.init=function(){var e=this;$(document).on('click',e.selector,function(){var n=$(this),t=e.useDataHref?n.data('href'):'',o={};if(e.interceptor)o=e.interceptor(n);if(e.isSend&&e.monitorUrl)WAT.send(e.monitorUrl,$.extend({},e.defaultParams,o));else console.log($.extend({},e.defaultParams,o));if(t&&window.open(t,'_blank'),e.useDataHref)return!1;else return void 0;});},e;}),define('common/lazyImage_92160e3789',['require','common/bindScroll_f2ce0a166a','cobble/util/instance','cobble/function/viewportHeight'],function(require){'use strict';function e(e){if(!e.prop('loading'))e.prop('loading',!0).addClass('img-loading');}function n(e){for(var n=e.height();!n;)e=e.parent(),n=e.height();return n;}var t=require('common/bindScroll_f2ce0a166a'),o=require('cobble/util/instance'),i=require('cobble/function/viewportHeight'),r=o.window,u=o.body,c=0,f=null,exports={init:function(e){t(e||r,exports.scanning,c),exports.scanning(!0),setTimeout(function(){r.scroll();},0);},scanning:function(t,o){var c=i(),a=r.scrollTop(),l=a+c;if(t)o=o?$(o):u,f=o.find('img[data-src]');f.each(function(){var t=$(this),o=t.offset().top,i=n(t);if(l>=o-i-c&&o+i+c>=a){if(!t.prop('loaded'))t.prop('src',t.data('src')).prop('loaded',!0).removeAttr('data-src').removeClass('img-loading');}else e(t);});var s=o.find('iframe'),d=s.length;if(d)for(var p,m=0;d>m;m++){var h=s[m],g=$(h).offset();p=$(s[m].contentWindow.document).find('img[data-src]'),p.each(function(){var t=$(this),o=t.offset().top+g.top,i=n(t);if(l>=o&&o+i+c>=a){if(!t.prop('loaded'))t.prop('src',t.data('src')).prop('loaded',!0).removeAttr('data-src').removeClass('img-loading');}else e(t);});}}};return exports;});