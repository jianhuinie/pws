define('activity/common/publicity_5e4d9ade37',['require','exports'],function(require,exports){'use strict';exports.init=function(){function e(e){function t(e,t,n,a){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(a-t)-this.cy,this.ay=1-this.cy-this.by;}var n,a,r,i,s,o,c,u,l,f,m,p,v,d,h,g,w,x,T,b,y,D,k,E,M=document.getElementById(e.id),N=M.children,O=N.length,X=O,C=e.slideTime||800,L=e.effect||{},Z=0,Y=[],A=[],S=[],I=[],P=null,z=!1,B=!1;if(N&&1!==O){for(e.mode&&(B=-1!==e.mode.indexOf('nav:'),I=e.mode.split(','),f=I.length),v=0;O>v;v++)Y.push(N[v].style),A.push(+N[v].getAttribute('data-step')||0),S.push(0);if(n=!!window.addEventListener,a='ontouchstart'in window||window.DocumentTouch&&document instanceof DocumentTouch,function(){var e,t=navigator.userAgent,n=t.indexOf('Android');return d=-1!==t.indexOf('QQBrowser')?200:0,-1!==n&&(e=t.substring(n+7,n+11).replace(' ','')),e||0;}(),r=function(e){switch(!0){case''===e.webkitTransition:return'webkit';case''===e.MozTransition:return'Moz';case''===e.msTransition:return'ms';case''===e.OTransition:return'O';default:return'';}}(document.createElement('Chriswang').style),t.prototype={epsilon:0.01,sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e;},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e;},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx;},solveCurveX:function(e,t){var n,a,r,i;for(r=e,a=0;8>a;a++){if(i=this.sampleCurveX(r)-e,Math.abs(i)<t)return r;if(n=this.sampleCurveDerivativeX(r),Math.abs(n)<t)break;r-=i/n;}if(n=0,a=1,r=e,n>r)return n;if(r>a)return a;for(;a>n&&(i=this.sampleCurveX(r),!(Math.abs(i-e)<t));)e>i?n=r:a=r,r=0.5*(a-n)+n;return r;},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t));}},h=function(){i=document.documentElement.clientWidth||window.innerWidth,s=document.documentElement.clientHeight||window.innerHeight,M.style.height=s+'px';},v=function(e,t,n,a){o=e,c=t,u=n,l=a;},'string'==typeof e.easing)switch(e.easing){case'ease':v(0.25,0.1,0.25,1);break;case'linear':v(0,0,1,1);break;case'ease-in':v(0.42,0,1,1);break;case'ease-out':v(0,0,0.58,1);break;case'ease-in-out':v(0.42,0,0.58,1);}else v(e.easing[0],e.easing[1],e.easing[2],e.easing[3]);if(''!==r){for(;X--;)Y[X][r+'TransitionTimingFunction']='cubic-bezier('+o+','+c+','+u+','+l+')';g=function(e,t,n,a,i){e=e.style,t='translate('+t+'px,'+n+'px) translateZ(0)',i.scale&&(t+=0===a?' scale('+i.scale[0]+')':' scale('+i.scale[1]+')'),i.rotate&&(t+=0===a?' rotate('+i.rotate[0]+'deg)':' rotate('+i.rotate[1]+'deg)'),e[r+'TransformOrigin']='50% 50%',e[r+'Transform']=t;};}else p=new t(o,c,u,l),g=function(e,n,a,r){var i,s=e.currentStyle,o=e.style,c=parseInt(o.left||s.left,10),u=parseInt(o.top||s.top,10),l=n-c,f=a-u,m=+new Date()+r,v=0,d=L.opacity;clearInterval(P),P=setInterval(function(){var e;+new Date()>m?(e=d?'left:'+n+'px;top:'+a+'px;filter:alpha(opacity='+100*d[1]+');':'left:'+n+'px;top:'+a+'px;',clearInterval(P)):(i=m-new Date(),v=i/r,v=p.solve(1-v,t.prototype.epsilon),e='left:'+(c+l*v)+'px;top:'+(u+f*v)+'px;',d&&(e+='filter:alpha(opacity='+~~(100*(d[1]*v-d[0]*(1-v)))+');')),o.cssText=e;},13);};for(w={transform:function(e,t,n){var a=0,o=''!==r||'none'!==e.translate&&e.translate?d:-50;switch(e.translate){case'Y':a=n>t?s:-s,g(N[n],0,a,0,e);break;case'X':a=n>t?i:-i,g(N[n],a,0,0,e);break;case'XY':a={X:n>t?i:-i,Y:n>t?s:-s},g(N[n],a.X,a.Y,0,e);break;default:g(N[n],0,0,0,e);}setTimeout(function(){g(N[n],0,0,C,e);},o+50);},opacity:function(e,t,n){var a=N[n].style;a.opacity=e[0],setTimeout(function(){a.opacity=e[1];},70);}},T=n&&a?navigator.userAgent.indexOf('Firefox')?function(e,t){e.addEventListener('click',t,!1);}:function(e,t,n){e.addEventListener('touchstart',t,!1),n&&e.addEventListener('touchmove',function(e){e.preventDefault();},!1);}:function(e,t){e.onclick=t;},b=function(e,t,n){var a=e.className,r=[];if(-1!==a.indexOf(t)){for(r=a.split(' '),a=r.length;a--;)r[a]===t&&(' '===n||''===n?r.splice(a,1):r[a]=n);r.length?e.className=r.join(' '):(e.removeAttribute('class'),e.removeAttribute('className'));}},B&&(k=function(e,t){var n=m[t].className;b(m[e],'active',' '),m[t].className=''===n?'active':n+' active';}),e.continuous&&(y=function(e,t){var n=O;if(t)if(e>=O)for(;n--;)S[n]=0;else if(0>e)for(;n--;)S[n]=A[n];return(O+e%O)%O;}),x=function(e){var t=S[Z];if(e=t+e,e>=0&&e<=A[Z]){if(0===e)return b(N[Z],'step1',''),S[Z]=e,!1;if(1===e&&0===t)return N[Z].className+=' step1',S[Z]=e,!1;else return b(N[Z],'step'+t,'step'+e),S[Z]=e,!1;}return!0;},D=function(t,n){var a,i,s=d;if(!(e.beforeChange&&'stop'===e.beforeChange(Z,N[Z])||z||t===Z)){if(e.continuous)t=y(t,1);else if(t>=O||0>t&&0===S[Z])return;if(z=!0,!n&&!x(t-Z))return setTimeout(function(){z=!1;},C);for(i in L)w[i](L[i],Z,t);s+=''===r?20:0,a=Z,Z=t,B&&k(a,Z),setTimeout(function(){N[t].className+=' slide';},s),setTimeout(function(){Y[t][r+'TransitionDuration']=C+'ms';},20),setTimeout(function(){b(N[a],'current',''),b(N[Z],'slide','current'),e.callback&&e.callback(Z,N[Z]),z=!1;},C+d+120);}},h(),v=N[Z].className,N[Z].className=-1!==v.indexOf('current')?v:v+' current',n?window.addEventListener('resize',h,!1):window.onresize=h;f--;)(function(t){switch(!0){case'wheel'===t:E=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1,z||(e=-e.wheelDelta||e.detail,D(Z+(0>e?-1:1)));},n&&document.addEventListener('DOMMouseScroll',E,!1),window.onmousewheel=document.onmousewheel=E;break;case'touch'===t:if(!n)break;!function(){var t,n,o,c,u,l,f,m,p,v,d,h,g,w=L.transform.scale[0],T=L.transform.scale[1]-w,D=L.transform.rotate[0],E=L.transform.rotate[1]-D,X=L.opacity[0],I=L.opacity[1]-X,P={},W=!1,F=-1===navigator.userAgent.indexOf('Windows Phone')?!1:!0;h=!a&&F?window.navigator.msPointerEnabled?{start:'MSPointerDown',move:'MSPointerMove',end:'MSPointerUp'}:{start:'pointerDown',move:'pointerMove',end:'pointerUp'}:{start:'touchstart',move:'touchmove',end:'touchend'},document.body.ontouchmove=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;},'Y'===L.transform.translate?(m=function(){var t=Z-1,n=Z+1;e.continuous&&(t=y(t),n=y(n)),l=Y[t],f=Y[n],l&&(l[r+'TransitionDuration']='0ms',l[r+'Transform']='translate(0,-'+s+'px) translateZ(0)',l[r+'TransformOrigin']='50% 100%',N[t].className+=' swipe'),f&&(f[r+'TransitionDuration']='0ms',f[r+'Transform']='translate(0,'+s+'px) translateZ(0)',f[r+'TransformOrigin']='50% 0%',N[n].className+=' swipe');},d=function(e){var t=Math.abs(e.y/s),n=' scale('+~~(100*(w+T*t))/100+') rotate('+~~(D+E*t)+'deg)';l&&0<e.y&&(l.opacity=~~(100*(X+I*t))/100,l[r+'Transform']='translate(0,'+~~(e.y-s)+'px) translateZ(0)'+n),f&&0>e.y&&(f.opacity=~~(100*(X+I*t))/100,f[r+'Transform']='translate(0,'+~~(s+e.y)+'px) translateZ(0)'+n);},p=function(t,n){var a=C>>1,i=Z+n;e.continuous&&(i=y(i)),b(N[i],'swipe','slide'),t.opacity=1,t[r+'TransitionDuration']=a+'ms',t[r+'Transform']='translate(0,'+n*s+'px) translateZ(0)',setTimeout(function(){b(N[i],'slide',''),setTimeout(function(){z=!1;},50);},a);},v=function(t,n){var a,i,s=Z+n,o=~~(C/1.5);e.continuous?(s=y(s),a=N[y(Z-n)],i=!0):a=N[Z-n],a&&b(a,'swipe',''),!i&&0>s||s>O-1?setTimeout(function(){z=!1;},50):(B&&k(Z,s),t.opacity=1,b(N[s],'swipe','slide'),t[r+'TransitionDuration']=o+'ms',t[r+'Transform']='translate(0,0) translateZ(0)',setTimeout(function(){b(N[Z],'current',''),b(N[s],'slide','current'),Z=s,e.callback&&e.callback(Z,N[Z]),setTimeout(function(){z=!1;},50);},o));}):(m=function(){var t=Z-1,n=Z+1;e.continuous&&(t=y(t),n=y(n)),l=Y[t],f=Y[n],l&&(l[r+'TransitionDuration']='0ms',l[r+'Transform']='translate(-'+i+'px,0) translateZ(0)',l[r+'TransformOrigin']='100% 50%',N[t].className+=' swipe'),f&&(f[r+'TransitionDuration']='0ms',f[r+'Transform']='translate('+i+'px,0) translateZ(0)',f[r+'TransformOrigin']='0 50%',N[n].className+=' swipe');},d=function(e){var t=Math.abs(e.x/ i),n=' scale('+~~(100*(w+T*t))/100+') rotate('+~~(D+E*t)+'deg)';l&&0<e.x&&(l.opacity=~~(100*(X+I*t))/100,l[r+'Transform']='translate('+~~(e.x-i)+'px,0) translateZ(0)'+n),f&&0>e.x&&(f.opacity=~~(100*(X+I*t))/100,f[r+'Transform']='translate('+~~(i+e.x)+'px,0) translateZ(0)'+n);},p=function(t,n){var a=C>>1,s=Z+n;e.continuous&&(s=y(s)),b(N[s],'swipe','slide'),t.opacity=1,t[r+'TransitionDuration']=a+'ms',t[r+'Transform']='translate('+n*i+'px,0) translateZ(0)',setTimeout(function(){b(N[s],'slide',''),setTimeout(function(){z=!1;},50);},a);},v=function(t,n){var a,i,s=Z+n,o=~~(C/1.5);e.continuous?(s=y(s),a=N[y(Z-n)],i=!0):a=N[Z-n],a&&b(a,'swipe',''),!i&&0>s||s>O-1?setTimeout(function(){z=!1;},50):(B&&k(Z,s),b(N[s],'swipe','slide'),t.opacity=1,t[r+'TransitionDuration']=o+'ms',t[r+'Transform']='translate(0,0) translateZ(0)',setTimeout(function(){b(N[Z],'current',''),b(N[s],'slide','current'),Z=s,e.callback&&e.callback(Z,N[Z]),setTimeout(function(){z=!1;},50);},o));}),t=function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),a&&(1<event.touches.length||event.scale&&1!==event.scale)||(P={x:n.pageX-o,y:n.pageY-c},W?(t='X'===e.effect.transform.translate?0>P.x?1:-1:0>P.y?1:-1,0<=S[Z]+t&&S[Z]+t<=A[Z]||g&&d(P)):(g=Math.abs(P.x)>Math.abs(P.y)?'X':'Y',g=g===e.effect.transform.translate?!0:!1,W=!0));},n=function(a){var r=a.changedTouches?a.changedTouches[0]:a;a=+new Date()-u;var m;m=0;var d=!1;switch(P={x:r.pageX-o,y:r.pageY-c},r=Math.abs(P.x),m=Math.abs(P.y),e.effect.transform.translate){case'Y':d=250>+a&&m>30||m>0.3*s,m=0<P.y?-1:1;break;case'X':d=250>+a&&r>30||r>0.3*i,m=0<P.x?-1:1;break;default:d=350>+a&&m+r>50||m>0.3*s||r>0.3*i,m=r>m?0<P.x?-1:1:0<P.y?-1:1;}d&&g&&x(m)&&(!1!==e.continuous||(l||-1!==m)&&(f||1!==m))?e.beforeChange&&'stop'===e.beforeChange(Z,N[Z])?(l&&p(l,-1),f&&p(f,1)):-1===m?v(l,-1):v(f,1):(l&&p(l,-1),f&&p(f,1)),M.removeEventListener(h.move,t,!1),M.removeEventListener(h.end,n,!1);},M.addEventListener(h.start,function(a){if(a=a.touches?a.touches[0]:a,!z){if(z=!0,o=a.pageX,c=a.pageY,u=+new Date(),e.onSwipeStart&&'stop'===e.onSwipeStart(Z,N[Z]))return z=!1;P={},W=!1,m(),M.addEventListener(h.move,t,!1),M.addEventListener(h.end,n,!1);}},!1);}();break;case-1!==t.indexOf('nav:'):!function(){var e,n,a=t.split(':')[1],a=document.getElementById(a);if(m=a.children,e=m.length,n=m[Z].className,a&&m){for(;e--;)m[e].setAttribute('data-page',e);-1===n.indexOf('active')&&(m[Z].className=''===n?'active':n+' active'),e=function(e){var t;for(e=e||window.event,e=e.target||e.srcElement,t=e.tagName.toLowerCase();'li'!==t;){if('ul'===t)return;e=e.parentNode,t=e.tagName.toLowerCase();}D(+e.getAttribute('data-page'),1);},T(a,e,1);}}();}}(I[f]));return{thisPage:function(){return Z;},go:function(e){D(e);},next:function(){D(Z+1);},prev:function(){D(Z-1);}};}}return e;};});