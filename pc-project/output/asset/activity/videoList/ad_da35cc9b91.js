define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var t=$.prototype,i={on:function(){return t.on.apply(e(this),arguments),this;},off:function(){return t.off.apply(e(this),arguments),this;},emit:function(i,n){var o=this,r=e(o);if(r){if(!i[$.expando])i='string'===$.type(i)?$.Event(i):$.Event(null,i);i.cobble=o;var a=[i];if(n)a.push(n);var c=o[$.camelCase('on-'+i.type)];if($.isFunction(c)&&c.apply(o,a)===!1)i.preventDefault();if(!i.isPropagationStopped())t.trigger.apply(r,a);return i;}},before:function(t){e(this).before(t);},after:function(t){e(this).after(t);},appendTo:function(t){e(this).appendTo(t);},prependTo:function(t){e(this).prependTo(t);}};return function(e){$.each(i,function(t,i){if(null==e[t])e[t]=i;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,t){var i=e.constructor,n='__cobble__'+i.prototype.type,o=t.element;if(o&&o.data(n))e=o.data(n);else if($.extend(e,i.defaultOptions,t),e.init(),o)o.data(n,e);return e;},exports.dispose=function(e){var t='__cobble__'+e.constructor.prototype.type,i=e.element;if(i)i.removeData(t);};}),define('cobble/function/toNumber',['require','exports','module'],function(){'use strict';var e={'int':parseInt,'float':parseFloat};return function(t,i,n){if('number'!==$.type(t)){var o=e[n];if(t=o?o(t,10):+t,isNaN(t))t=i;}return t;};}),define('cobble/helper/Switchable',['require','exports','module','../function/jquerify','../function/lifeCycle','../function/toNumber'],function(require){'use strict';function e(e){return i.init(this,e);}var t=require('../function/jquerify'),i=require('../function/lifeCycle'),n=require('../function/toNumber');e.prototype={constructor:e,type:'Switchable',init:function(){var e=this,t=e.element,i=e.selector,a=e.items=t.find(i),c=n(e.index,r),l=e.activeClass;if(c===r&&l)c=a.index(t.find('.'+l));if(i){var s=e.trigger;if('click'===s)t.on('click'+o,i,function(){e.to(a.index(this));});else if('over'===s)t.on('mouseenter'+o,i,function(){var t=this;e.timer=setTimeout(function(){if(e.element)e.to(a.index(t));},150);}),t.on('mouseleave'+o,i,function(){if(e.timer)clearTimeout(e.timer),e.timer=null;});}if(e.index=r,c>=0)e.to(c);},to:function(e){var t=this;e=n(e,r);var i=t.index;if(e!==i){var o=t.activeClass,a=t.items;if(o){if(i>=0)a.eq(i).removeClass(o);if(e>=0)a.eq(e).addClass(o);}t.index=e,t.change({from:i,to:e});}},dispose:function(){var e=this;i.dispose(e),e.element.off(o),e.element=e.items=null;}},t(e.prototype),e.defaultOptions={index:0,trigger:'click'};var o='.cobble_helper_switchable',r=-1;return e;}),define('cobble/ui/Carousel',['require','exports','module','../function/jquerify','../function/lifeCycle','../helper/Switchable'],function(require){'use strict';function e(e){return i.init(this,e);}var t=require('../function/jquerify'),i=require('../function/lifeCycle'),n=require('../helper/Switchable');e.prototype={constructor:e,type:'Carousel',init:function(){var e=this,t=e.element,i='click'+o,r='mouseenter'+o,a='mouseleave'+o,c=e.prevSelector;if(c)t.on(i,c,$.proxy(e.prev,e));var l=e.nextSelector;if(l)t.on(i,l,$.proxy(e.next,e));var s=e.autoPlay,u=e.itemSelector;if(s&&e.pauseOnHover)t.on(r,u,$.proxy(e.pause,e)).on(a,u,$.proxy(e.play,e));if(e.minIndex=0,e.maxIndex=t.find(u).length-1-(e.showCount-1),e.switcher=new n({element:t,index:e.index,trigger:e.trigger,selector:e.iconSelector,activeClass:e.activeClass,change:function(t){e.index=t.to,e.animation(t),e.emit('change',t);}}),s)e.play();},prev:function(){var e=this,t=e.index-e.step;if(t<e.minIndex)if(e.loop)t=e.maxIndex;else return;e.to(t);},next:function(){var e=this,t=e.index+e.step;if(t>e.maxIndex)if(e.loop)t=e.minIndex;else return;e.to(t);},to:function(e){var t=this;if(t.autoPlay)t.play(e);else t.switcher.to(e);},play:function(e){var t=this;if(t.autoPlay){if(t.playing)t.pause();if(t.playing=!0,t.playTimer=setTimeout($.proxy(t.next,t),t.delay),e!==t.index&&$.isNumeric(e))t.switcher.to(e);}},pause:function(){var e=this;if(e.autoPlay)if(e.playing=!1,e.playTimer)clearTimeout(e.playTimer),e.playTimer=null;},dispose:function(){var e=this;if(i.dispose(e),e.playing)e.pause();e.element.off(o),e.switcher.dispose(),e.element=e.switcher=null;}},t(e.prototype),e.defaultOptions={index:0,step:1,delay:5000,showCount:1,trigger:'over',loop:!0,autoPlay:!0,pauseOnHover:!0};var o='.cobble_ui_carousel';return e;}),define('cobble/util/cookie',['require','exports','module'],function(require,exports){'use strict';function e(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');var t={};try{e=decodeURIComponent(e.replace(/\+/g,' ')),$.each(e.split(';'),function(e,i){var n=i.split('='),o=$.trim(n[0]),r=$.trim(n[1]);if(o)t[o]=r;});}catch(i){}return t;}function t(e,t,n){var o=n.expires;if($.isNumeric(o)){var r=o;o=new Date(),o.setTime(o.getTime()+r*i);}document.cookie=[encodeURIComponent(e),'=',encodeURIComponent(t),o?';expires='+o.toUTCString():'',n.path?';path='+n.path:'',n.domain?';domain='+n.domain:'',n.secure?';secure':''].join('');}var i=3600000;exports.get=function(t){var i=e(document.cookie);return'string'===$.type(t)?i[t]:i;},exports.set=function(e,i,n){if($.isPlainObject(e))n=i,i=null;if(n=$.extend({},exports.defaultOptions,n),null===i)$.each(e,function(e,i){t(e,i,n);});else t(e,i,n);},exports.remove=function(e,i){if(null!=e)i=i||{},i.expires=-1,t(e,'',$.extend({},exports.defaultOptions,i));},exports.defaultOptions={path:'/'};}),define('cobble/util/url',['require','exports','module'],function(require,exports){'use strict';exports.parseQuery=function(e){var t={};if('string'===$.type(e)&&e.length>1){var i=0,n=e.charAt(0);if('?'===n)i=1;else if('#'===n){i=1;var o=e.charAt(1);if('/'===o)i=2;}if(i>0)e=e.substr(i);$.each(e.split('&'),function(e,i){var n=i.split('=');if(2===n.length){var o=$.trim(n[0]);if(o)t[o]=decodeURIComponent($.trim(n[1]));}});}return t;},exports.getOrigin=function(e){if(!e)e=document.URL;return exports.parse(e).origin;},exports.parse=function(e){var t=document.createElement('a');t.href=e,e=t.href;var i='';if(t.protocol&&t.host)i=t.protocol+'//'+t.host;else if(/^(http[s]?:\/\/[^\/]+)(?=\/)/.test(e))i=RegExp.$1;var n=i.split(':');if(0===i.indexOf('http:')&&3===n.length&&80==n[2])n.length=2,i=n.join(':');var o=t.pathname;if(o&&'/'!==o.charAt(0))o='/'+o;return{origin:i,pathname:o,search:t.search};};}),define('activity/videoList/ad_da35cc9b91',['require','exports','common/store_a1a35b3dfc','common/service_9c322508d3','common/eventEmitter_8bcc038860','common/component/Slider_e976f1c044','common/function/getAdMonitorUrl_4b5526f5c9','tpl!../videoList/ad_e57106b00b.tpl'],function(require,exports){'use strict';var e=require('common/store_a1a35b3dfc'),t=require('common/service_9c322508d3'),i=require('common/eventEmitter_8bcc038860'),n=require('common/component/Slider_e976f1c044'),o=require('common/function/getAdMonitorUrl_4b5526f5c9');require('tpl!../videoList/ad_e57106b00b.tpl');var r,a,c=function(){new n({element:$('.slider-container'),itemSelector:'.promotion-slideritem',iconSelector:'.promotion-slider-navitem',prevSelector:'.promotion-slider-left',nextSelector:'.promotion-slider-right',duration:3000,onChange:function(e,t){var i=$('.promotion-slideritem[data-index="'+t.to+'"]',this.element);if(i.addClass('active'),t.from>=0)$('.promotion-slideritem[data-index="'+t.from+'"]',this.element).removeClass('active');}});},l=function(e){var t={material:'http://img.gsxservice.com/0cms/d/file/content/2016/04/5714bd74ec168.jpg',click:'http://ju.genshuixue.com?zn=zn_juhuixue_banner_pc ',monitor:'',clickMonitor:'',hover:'聚惠学'};if(!e||!e.length)e=[t];for(var i=e.length-1;i>=0;i--){var n=e[i];if(!n.material)e[i]=t;else if(!n.click)n.click='javascript:void(0);';}var o=$('#slider-container');o.prepend(Simplite.render('ad-slider',e)),c();},s=[],u=function(e,t,i){if(e){var n=e.replace(/^http:\/\//,'//');if(t)if(n){n=o(n,!0,i);var r=new Image(),a=s.push(r)-1;r.onload=r.onerror=function(){r=r.onload=r.onerror=null,delete s[a];},r.src=n;}}},f=function(){r.on('click','.slider-container [data-click-monitor]',function(){var e=$(this).data('click-monitor');return u(e,!0),!0;});},p=function(){if(a=r.find('#slider-container').data('adid'))t.fetchadvertisement({adId:a,cityId:e.get('cityId')}).done(function(e){if(e&&!e.status){var t=e.data;if(!t)i.emit('ad-promotion-data-fail');else i.emit('ad-promotion-data',t);}else i.emit('ad-promotion-data-fail');}).fail(function(){i.emit('ad-promotion-data-fail');});};exports.init=function(){r=this,p(),f(),i.on('ad-promotion-data',function(e,t){l(t[a]);}),i.on('ad-promotion-data-fail',function(){l();});};}),define('activity/videoList/ad_html',function(){return'{{ -- tpl:ad-slider -- }}<ul class="promotion-slider"><% for (var i = 0; i < _this.length; i++) {var data = _this[i];%><li class="promotion-slideritem" data-index="<%= i %>"><a href="<%= data.click %>" target="_blank" title="<%= data.hover %>" data-click-monitor="<%= data.clickMonitor %>"><img src="<%= data.material %>" width="1190" height="390"  alt="<%= data.hover %>"></a><div class="mask"></div></li><% } %></ul><% if (_this.length > 1) {%><ul class="promotion-slider-nav"><% for (var i = 0; i < _this.length; i++) {%><li><span class="promotion-slider-navitem"></span></li><% } %></ul><a href="javascript:;" class="promotion-slider-left" title="上一个"><i class="icon icon-chevron-left"></i></a><a href="javascript:;" class="promotion-slider-right" title="下一张"><i class="icon icon-chevron-right"></i></a><% } %>{{ -- /tpl -- }}';}),define('common/component/Slider_e976f1c044',['require','exports','module','cobble/ui/Carousel'],function(require){'use strict';function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=require('cobble/ui/Carousel');return e.prototype={constructor:e,init:function(){{var e,i=this,n=i.element,o=i.itemSelector,r=n.find(o),a=r.parent(),c=r.length,l=2,s=c+l,u=r.eq(0),f=r.eq(c-1),p=u.width(),d=u.height(),m=0,h=!i.isVertical?function(){a.css('left',-1*e*p);}:function(){a.css('top',-1*e*d);};new t({element:n,itemSelector:o,iconSelector:i.iconSelector,prevSelector:i.prevSelector,nextSelector:i.nextSelector,activeClass:'active',trigger:i.trigger,loop:i.loop,delay:i.delay,autoPlay:i.autoPlay,pauseOnHover:!0,onChange:i.onChange,animation:function(t){var n=t.to,o=t.from;if(!(0>o)){if(m>0)if(a.stop(),e>-1)h();{var r;this.element;}if(0===n&&o===c-1)r=s-1,e=1;else if(!i.scrollOneDirection&&n===c-1&&0===o)r=0,e=s-l;else r=n+1,e=-1;m++,a.animate(i.isVertical?{top:-1*r*d}:{left:-1*r*p},this.duration,'easeOutQuad',function(){if(m--,e>-1)h();});}}});}if(u=u.clone(),f=f.clone(),a.prepend(f),a.append(u),!i.isVertical)a.css({width:s*p,left:-1*p});else a.css({height:s*d,top:-1*d});}},e.defaultOptions={duration:300,trigger:'click',isVertical:!1,scrollOneDirection:!1,loop:!0,delay:5000},e;}),define('common/eventEmitter_8bcc038860',['require','exports'],function(require,exports){var e=$({});exports.emit=function(){e.trigger.apply(e,arguments);},exports.on=function(){e.on.apply(e,arguments);},exports.un=function(){e.off.apply(e,arguments);},exports.once=function(){e.one.apply(e,arguments);};}),define('common/function/getAdMonitorUrl_4b5526f5c9',['require','exports','cobble/util/url','cobble/util/cookie'],function(require){'use strict';var e,t=require('cobble/util/url'),i=require('cobble/util/cookie');return function(n,o,r){if(!n)return null;var a=n.indexOf('?'),c={};if(-1!=a)c=n.substring(a),c=t.parseQuery(c);else n+='?';if(o){if(!e)e=i.get('PHPSESSID');c.uuid=e;}if(r&&r.length>0){var l={p:c.p||'',c:r.join(',')};c=l;}var s=Math.ceil(Math.random()*Math.pow(10,13));return $.extend(c,{_:s}),c=$.param(c),n=n.replace(/\?.*$/,'?'+c);};});