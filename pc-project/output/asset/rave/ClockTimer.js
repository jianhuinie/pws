define("rave/ClockTimer",["require","exports"],function(){function t(t){this.options=$.extend({limit:18e5,step:1e3,noleave:!1,onnext:n,onend:n},t),this.start()}function o(t){var o=t,n=36e5,i=6e4,e=Math.floor(o/n),r=Math.floor((o-e*n)/i),s=Math.floor((o-(60*e+r)*i)/1e3);return{hour:e,min:r,sec:s}}var n=function(){};return t.prototype.start=function(){var t=this,n=t.options.start;if(t.options.start<t.options.current)n=t.options.start+t.options.limit;var i=n-t.options.current,e=!1;if(0>i||t.options.noleave)i+=t.options.limit,e=!0;var r=function(){if(i-=t.options.step,setTimeout(function(){t.options.onnext.call(t,o(i>0?i:0,t.options.limit))},0),0>=i)t.options.onend.call(t,e);else setTimeout(r,t.options.step)};r()},t.prototype.reset=function(t){var o=this;setTimeout(function(){o.options.current=t.current,o.options.start=t.start,o.start()},0)},t});