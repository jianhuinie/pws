define('sem/component/searchBox',['require','exports','common/service_9c322508d3','common/store_a1a35b3dfc'],function(require,exports){'use strict';function e(){if(''!=o)return o;else return r.getCityList().done(function(e){if(0===e.code)o=t(e.data.city);return o;});}function t(e){var t=n.get('source'),r=n.get('plan'),o=n.get('group'),c=n.get('keyword'),i=n.get('query'),a='';return $.each(e,function(e,n){if($(n).length){var s='';$.each(n,function(e,n){var a='<a target="_self" href="/sem/k12?city='+n.id;if(t)a+='&source='+t;if(r)a+='&plan='+r;if(o)a+='&group='+o;if(c)a+='&keyword='+c;if(i)a+='&q='+i;a+='" class="common">'+n.name+'</a>',s+=a;});var u='<dl id="alphabet-'+e+'"><dt>'+e.toUpperCase()+'</dt><dd>'+s+'</dd></dl>';a+=u;}}),a;}var r=require('common/service_9c322508d3'),n=require('common/store_a1a35b3dfc');exports.init=function(){var t=$('.search-box');e(),t.on('click','.current-city .icon',function(t){var r=$(t.currentTarget),n=r.closest('.current-city'),o=n.siblings('.all-city'),c=e();o.html(c).show();}).on('mouseleave','.all-city',function(e){$(e.currentTarget).hide();});};var o='';});