define('cobble/function/pageScrollTop',['require','exports','module'],function(){'use strict';return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop);};}),define('common/bindScroll_f2ce0a166a',function(){'use strict';var n=function(n,e){return n===e.target||n===window&&e.target===document;},e=function(n){for(;n.length>1;)clearTimeout(n.shift());};return function(o,t,i,c){var r=[],u=null,f=$(o);if(o=f[0],isNaN(i)||0>i)if(c)u=t;else u=function(e){if(n(o,e))t(e);};else if(c)u=function(n){r.push(setTimeout(function(){e(r),t(n);},i));};else u=function(c){r.push(setTimeout(function(){if(e(r),n(o,c))t(c);},i));};f.scroll(u);};}),define('social/common/backTop_2714a76f26',['require','exports','common/bindScroll_f2ce0a166a','cobble/function/pageScrollTop'],function(require,exports){var n=require('common/bindScroll_f2ce0a166a'),e=require('cobble/function/pageScrollTop');exports.init=function(o){var t=!1;if(o=o||$('.back-top'),!o||!o.length)return!1;else return o.click(function(){var n=o;t=!0,n.animate({bottom:'1000px'},700,function(){n.hide(),n.css('bottom','');}),$('html, body').animate({scrollTop:'0px'},550,function(){t=!1;});}),void n(window,function(){if(t)return!1;var n=e();if(n>500)o.show();else o.hide();});};}),define('social/common/header',['require','exports','./backTop_2714a76f26','common/store_a1a35b3dfc','common/service_9c322508d3'],function(require,exports){var n=require('./backTop_2714a76f26'),e=require('common/store_a1a35b3dfc'),o=require('common/service_9c322508d3');exports.init=function(){var t=e.get('user');if(n.init(),$('.city-trigger').length)if($('.city-trigger a').click(function(){return location.href='/changecity/init?next='+encodeURIComponent(window.location.href),!1;}),$('#header').find('.notify').click(function(){var n=e.get('user');if(n&&'0'==n.type)window.open('/teacher_center/message','_blank');else window.open('/student_center/message','_blank');}),t&&t.id){var i=$('#header').find('.notify-num');o.getUnreadMessage().done(function(n){if(!n.code&&n.data&&+n.data.forum)i.text(n.data.forum).show();});}};});