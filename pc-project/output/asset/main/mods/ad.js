define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var t=$.prototype,n={on:function(){return t.on.apply(e(this),arguments),this;},off:function(){return t.off.apply(e(this),arguments),this;},emit:function(n,i){var r=this,o=e(r);if(o){if(!n[$.expando])n='string'===$.type(n)?$.Event(n):$.Event(null,n);n.cobble=r;var s=[n];if(i)s.push(i);var a=r[$.camelCase('on-'+n.type)];if($.isFunction(a)&&a.apply(r,s)===!1)n.preventDefault();if(!n.isPropagationStopped())t.trigger.apply(o,s);return n;}},before:function(t){e(this).before(t);},after:function(t){e(this).after(t);},appendTo:function(t){e(this).appendTo(t);},prependTo:function(t){e(this).prependTo(t);}};return function(e){$.each(n,function(t,n){if(null==e[t])e[t]=n;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,t){var n=e.constructor,i='__cobble__'+n.prototype.type,r=t.element;if(r&&r.data(i))e=r.data(i);else if($.extend(e,n.defaultOptions,t),e.init(),r)r.data(i,e);return e;},exports.dispose=function(e){var t='__cobble__'+e.constructor.prototype.type,n=e.element;if(n)n.removeData(t);};}),define('cobble/function/toNumber',['require','exports','module'],function(){'use strict';var e={'int':parseInt,'float':parseFloat};return function(t,n,i){if('number'!==$.type(t)){var r=e[i];if(t=r?r(t,10):+t,isNaN(t))t=n;}return t;};}),define('cobble/helper/Switchable',['require','exports','module','../function/jquerify','../function/lifeCycle','../function/toNumber'],function(require){'use strict';function e(e){return n.init(this,e);}var t=require('../function/jquerify'),n=require('../function/lifeCycle'),i=require('../function/toNumber');e.prototype={constructor:e,type:'Switchable',init:function(){var e=this,t=e.element,n=e.selector,s=e.items=t.find(n),a=i(e.index,o),c=e.activeClass;if(a===o&&c)a=s.index(t.find('.'+c));if(n){var l=e.trigger;if('click'===l)t.on('click'+r,n,function(){e.to(s.index(this));});else if('over'===l)t.on('mouseenter'+r,n,function(){var t=this;e.timer=setTimeout(function(){if(e.element)e.to(s.index(t));},150);}),t.on('mouseleave'+r,n,function(){if(e.timer)clearTimeout(e.timer),e.timer=null;});}if(e.index=o,a>=0)e.to(a);},to:function(e){var t=this;e=i(e,o);var n=t.index;if(e!==n){var r=t.activeClass,s=t.items;if(r){if(n>=0)s.eq(n).removeClass(r);if(e>=0)s.eq(e).addClass(r);}t.index=e,t.change({from:n,to:e});}},dispose:function(){var e=this;n.dispose(e),e.element.off(r),e.element=e.items=null;}},t(e.prototype),e.defaultOptions={index:0,trigger:'click'};var r='.cobble_helper_switchable',o=-1;return e;}),define('cobble/ui/Carousel',['require','exports','module','../function/jquerify','../function/lifeCycle','../helper/Switchable'],function(require){'use strict';function e(e){return n.init(this,e);}var t=require('../function/jquerify'),n=require('../function/lifeCycle'),i=require('../helper/Switchable');e.prototype={constructor:e,type:'Carousel',init:function(){var e=this,t=e.element,n='click'+r,o='mouseenter'+r,s='mouseleave'+r,a=e.prevSelector;if(a)t.on(n,a,$.proxy(e.prev,e));var c=e.nextSelector;if(c)t.on(n,c,$.proxy(e.next,e));var l=e.autoPlay,p=e.itemSelector;if(l&&e.pauseOnHover)t.on(o,p,$.proxy(e.pause,e)).on(s,p,$.proxy(e.play,e));if(e.minIndex=0,e.maxIndex=t.find(p).length-1-(e.showCount-1),e.switcher=new i({element:t,index:e.index,trigger:e.trigger,selector:e.iconSelector,activeClass:e.activeClass,change:function(t){e.index=t.to,e.animation(t),e.emit('change',t);}}),l)e.play();},prev:function(){var e=this,t=e.index-e.step;if(t<e.minIndex)if(e.loop)t=e.maxIndex;else return;e.to(t);},next:function(){var e=this,t=e.index+e.step;if(t>e.maxIndex)if(e.loop)t=e.minIndex;else return;e.to(t);},to:function(e){var t=this;if(t.autoPlay)t.play(e);else t.switcher.to(e);},play:function(e){var t=this;if(t.autoPlay){if(t.playing)t.pause();if(t.playing=!0,t.playTimer=setTimeout($.proxy(t.next,t),t.delay),e!==t.index&&$.isNumeric(e))t.switcher.to(e);}},pause:function(){var e=this;if(e.autoPlay)if(e.playing=!1,e.playTimer)clearTimeout(e.playTimer),e.playTimer=null;},dispose:function(){var e=this;if(n.dispose(e),e.playing)e.pause();e.element.off(r),e.switcher.dispose(),e.element=e.switcher=null;}},t(e.prototype),e.defaultOptions={index:0,step:1,delay:5000,showCount:1,trigger:'over',loop:!0,autoPlay:!0,pauseOnHover:!0};var r='.cobble_ui_carousel';return e;}),define('cobble/util/etpl',function(){function e(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e;}function t(){this.raw=[],this.length=0;}function n(){return'___'+I++;}function i(e,t){var n=new Function();n.prototype=t.prototype,e.prototype=new n(),e.prototype.constructor=e;}function r(e){return S[e];}function o(e){return'"'+e.replace(/\x5C/g,'\\\\').replace(/"/g,'\\"').replace(/\x0A/g,'\\n').replace(/\x09/g,'\\t').replace(/\x0D/g,'\\r')+'"';}function s(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return'\\'+e;});}function a(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,n){return t[n-0+1];});}function c(e){return e=e.replace(/^\s*\*/,''),a('gv({0},["{1}"])',o(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return'.'+t;}).split('.').join('","'));}function l(e,t,n,i,r,o){for(var s=n.length,a=e.split(t),c=0,l=[],p=0,u=a.length;u>p;p++){var f=a[p];if(p){var h=1;for(c++;;){var d=f.indexOf(n);if(0>d){l.push(c>1&&h?t:'',f);break;}if(c=i?c-1:0,l.push(c>0&&h?t:'',f.slice(0,d),c>0?n:''),f=f.slice(d+s),h=0,0===c)break;}if(0===c)r(l.join('')),o(f),l=[];}else f&&o(f);}if(c>0&&l.length>0)o(t),o(l.join(''));}function p(e,t,n){var i,r=[],s=t.options,a='',u='',f='',h='';if(n)a='ts(',u=')',f=D,h=A,i=s.defaultFilter;return l(e,s.variableOpen,s.variableClose,1,function(e){if(n&&e.indexOf('|')<0&&i)e+='|'+i;var o=e.indexOf('|'),s=(o>0?e.slice(0,o):e).replace(/^\s+/,'').replace(/\s+$/,''),l=o>0?e.slice(o+1):'',d=0===s.indexOf('*'),m=[d?'':a,c(s),d?'':u];if(l){l=p(l,t);for(var g=l.split('|'),y=0,v=g.length;v>y;y++){var x=g[y];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(x)){if(m.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)m.push(',',RegExp.$3);m.push(')');}}}r.push(f,m.join(''),h);},function(e){r.push(f,n?o(e):e,h);}),r.join('');}function u(e,t){this.value=e,this.engine=t;}function f(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[];}function h(e,t){var n=e.stack,i=t?n.find(function(e){return e instanceof t;}):n.bottom();if(i){for(var r;(r=n.top())!==i;){if(!r.autoClose)throw new Error(r.type+' must be closed manually: '+r.value);r.autoClose(e);}i.close(e);}return i;}function d(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.master=RegExp.$3,this.name=RegExp.$1,f.call(this,e,t),this.blocks={};}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,f.call(this,e,t),this.cloneProps=['name'];}function g(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,f.call(this,e,t),this.cloneProps=['name','state','blocks'],this.blocks={};}function y(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.expr=RegExp.$2,f.call(this,e,t),this.cloneProps=['name','expr'];}function v(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.args=RegExp.$3,f.call(this,e,t),this.cloneProps=['name','args'];}function x(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.args=RegExp.$3,f.call(this,e,t),this.cloneProps=['name','args'];}function b(e,t){var n=new RegExp(a('^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$',s(t.options.variableOpen),s(t.options.variableClose)),'i');if(!n.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,f.call(this,e,t),this.cloneProps=['list','item','index'];}function $(e,t){f.call(this,e,t);}function w(e,t){$.call(this,e,t);}function R(e,t){f.call(this,e,t);}function E(e,t){t.target=e;var n=t.engine,i=e.name;if(n.targets[i])switch(n.options.namingConflict){case'override':n.targets[i]=e,t.targets.push(i);case'ignore':break;default:throw new Error('Target exists: '+i);}else n.targets[i]=e,t.targets.push(i);}function C(e,t){T[e]=t,t.prototype.type=e;}function k(t){this.options={commandOpen:'<!--',commandClose:'-->',commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:'${',variableClose:'}',defaultFilter:'html'},this.config(t),this.targets={},this.filters=e({},_);}function O(e,n){function i(){var e;if(d.length>0&&(e=d.join(''))){var t=new u(e,n);if(t.beforeAdd(p),c.top().addChild(t),d=[],n.options.strip&&p.current instanceof f)t.value=e.replace(/^[\x20\t\r]*\n/,'');p.current=t;}}var r,o=n.options.commandOpen,s=n.options.commandClose,a=n.options.commandSyntax,c=new t(),p={engine:n,targets:[],stack:c,target:null},d=[];return l(e,o,s,0,function(e){var t=a.exec(e);if(t&&(r=T[t[2].toLowerCase()])&&'function'==typeof r){i();var c=p.current;if(n.options.strip&&c instanceof u)c.value=c.value.replace(/\r?\n[\x20\t]*$/,'\n');if(t[1])c=h(p,r);else{if(c=new r(t[3],n),'function'==typeof c.beforeOpen)c.beforeOpen(p);c.open(p);}p.current=c;}else if(!/^\s*\/\//.test(e))d.push(o,e,s);r=null;},function(e){d.push(e);}),i(),h(p),p.targets;}t.prototype={push:function(e){this.raw[this.length++]=e;},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e;}},top:function(){return this.raw[this.length-1];},bottom:function(){return this.raw[0];},find:function(e){for(var t=this.length;t--;){var n=this.raw[t];if(e(n))return n;}}};var I=178245,S={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'},_={html:function(e){return e.replace(/[&<>"']/g,r);},url:encodeURIComponent,raw:function(e){return e;}},P='var r="";',D='r+=',A=';',q='return r;';if('undefined'!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)P='var r=[],ri=0;',D='r[ri++]=',q='return r.join("");';u.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return'';else return p(e,this.engine,1);},clone:function(){return this;}},f.prototype={addChild:function(e){this.children.push(e);},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this);},close:function(e){if(e.stack.top()===this)e.stack.pop();},getRendererBody:function(){for(var e=[],t=this.children,n=0;n<t.length;n++)e.push(t[n].getRendererBody());return e.join('');},clone:function(){for(var e=new this.constructor(this.value,this.engine),t=0,n=this.children.length;n>t;t++)e.addChild(this.children[t].clone());for(var t=0,n=this.cloneProps.length;n>t;t++){var i=this.cloneProps[t];e[i]=this[i];}return e;}};var j='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(d,f),i(m,f),i(g,f),i(y,f),i(v,f),i(x,f),i(b,f),i($,f),i(w,$),i(R,$);var B={READING:1,READED:2,APPLIED:3,READY:4};g.prototype.applyMaster=d.prototype.applyMaster=function(e){function t(e){var i=e.children;if(i instanceof Array)for(var r=0,o=i.length;o>r;r++){var s=i[r];if(s instanceof m&&n[s.name])s=i[r]=n[s.name];t(s);}}if(this.state>=B.APPLIED)return 1;var n=this.blocks,i=this.engine.targets[e];if(i&&i.applyMaster(i.master))return this.children=i.clone().children,t(this),this.state=B.APPLIED,1;else return void 0;},d.prototype.isReady=function(){function e(i){for(var r=0,o=i.children.length;o>r;r++){var s=i.children[r];if(s instanceof g){var a=t.targets[s.name];n=n&&a&&a.isReady(t);}else if(s instanceof f)e(s);}}if(this.state>=B.READY)return 1;var t=this.engine,n=1;if(this.applyMaster(this.master))return e(this),n&&(this.state=B.READY),n;else return void 0;},d.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function('data','engine',[j,P,this.getRendererBody(),q].join('\n')),t=this.engine;return this.renderer=function(n){return e(n,t);},this.renderer;}return null;},d.prototype.open=function(e){h(e),f.prototype.open.call(this,e),this.state=B.READING,E(this,e);},y.prototype.open=x.prototype.open=function(e){e.stack.top().addChild(this);},m.prototype.open=function(e){f.prototype.open.call(this,e),(e.imp||e.target).blocks[this.name]=this;},w.prototype.open=function(e){var t=new R();t.open(e);var n=h(e,$);n.addChild(this),e.stack.push(this);},R.prototype.open=function(e){var t=h(e,$);t.addChild(this),e.stack.push(this);},g.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,f.prototype.open.call(this,e),this.state=B.READING,e.imp=this;},x.prototype.close=y.prototype.close=function(){},g.prototype.close=function(e){f.prototype.close.call(this,e),this.state=B.READED,e.imp=null;},d.prototype.close=function(e){f.prototype.close.call(this,e),this.state=this.master?B.READED:B.APPLIED,e.target=null;},g.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(e);},x.prototype.beforeOpen=g.prototype.beforeOpen=y.prototype.beforeOpen=b.prototype.beforeOpen=v.prototype.beforeOpen=m.prototype.beforeOpen=$.prototype.beforeOpen=u.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new d(n(),e.engine);t.open(e);}},g.prototype.getRendererBody=function(){return this.applyMaster(this.name),f.prototype.getRendererBody.call(this);},x.prototype.getRendererBody=function(){return a('{0}engine.render({2},{{3}}){1}',D,A,o(this.name),p(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,n){return(t||'')+o(n)+':';}));},y.prototype.getRendererBody=function(){if(this.expr)return a('v[{0}]={1};',o(this.name),p(this.expr,this.engine));else return'';},$.prototype.getRendererBody=function(){return a('if({0}){{1}}',p(this.value,this.engine),f.prototype.getRendererBody.call(this));},R.prototype.getRendererBody=function(){return a('}else{{0}',f.prototype.getRendererBody.call(this));},b.prototype.getRendererBody=function(){return a('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',n(),p(this.list,this.engine),o(this.index||n()),o(this.item),n(),n(),f.prototype.getRendererBody.call(this));},v.prototype.getRendererBody=function(){var e=this.args;return a('{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}',P,q,D,A,f.prototype.getRendererBody.call(this),o(this.name),e?','+p(e,this.engine):'');};var T={};C('target',d),C('block',m),C('import',g),C('use',x),C('var',y),C('for',b),C('if',$),C('elif',w),C('else',R),C('filter',v),k.prototype.config=function(t){e(this.options,t);},k.prototype.compile=k.prototype.parse=function(e){if(e){var t=O(e,this);if(t.length)return this.targets[t[0]].getRenderer();}return new Function('return ""');},k.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return void 0;},k.prototype.render=function(e,t){var n=this.getRenderer(e);if(n)return n(t);else return'';},k.prototype.addFilter=function(e,t){if('function'==typeof t)this.filters[e]=t;};var z=new k();return z.Engine=k,z;}),define('common/component/Slider_e976f1c044',['require','exports','module','cobble/ui/Carousel'],function(require){'use strict';function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=require('cobble/ui/Carousel');return e.prototype={constructor:e,init:function(){{var e,n=this,i=n.element,r=n.itemSelector,o=i.find(r),s=o.parent(),a=o.length,c=2,l=a+c,p=o.eq(0),u=o.eq(a-1),f=p.width(),h=p.height(),d=0,m=!n.isVertical?function(){s.css('left',-1*e*f);}:function(){s.css('top',-1*e*h);};new t({element:i,itemSelector:r,iconSelector:n.iconSelector,prevSelector:n.prevSelector,nextSelector:n.nextSelector,activeClass:'active',trigger:n.trigger,loop:n.loop,delay:n.delay,autoPlay:n.autoPlay,pauseOnHover:!0,onChange:n.onChange,animation:function(t){var i=t.to,r=t.from;if(!(0>r)){if(d>0)if(s.stop(),e>-1)m();{var o;this.element;}if(0===i&&r===a-1)o=l-1,e=1;else if(!n.scrollOneDirection&&i===a-1&&0===r)o=0,e=l-c;else o=i+1,e=-1;d++,s.animate(n.isVertical?{top:-1*o*h}:{left:-1*o*f},this.duration,'easeOutQuad',function(){if(d--,e>-1)m();});}}});}if(p=p.clone(),u=u.clone(),s.prepend(u),s.append(p),!n.isVertical)s.css({width:l*f,left:-1*f});else s.css({height:l*h,top:-1*h});}},e.defaultOptions={duration:300,trigger:'click',isVertical:!1,scrollOneDirection:!1,loop:!0,delay:5000},e;}),define('common/eventEmitter_8bcc038860',['require','exports'],function(require,exports){var e=$({});exports.emit=function(){e.trigger.apply(e,arguments);},exports.on=function(){e.on.apply(e,arguments);},exports.un=function(){e.off.apply(e,arguments);},exports.once=function(){e.one.apply(e,arguments);};}),define('main/mods/ad',['require','exports','cobble/util/etpl','common/service_9c322508d3','common/store_a1a35b3dfc','common/component/Slider_e976f1c044','common/eventEmitter_8bcc038860'],function(require,exports){function e(e){WAT.send(e);}function t(t){t.on('click','a[data-click-monitor]',function(){e($(this).data('click-monitor'));});}function n(n,i){if(!i||0==i.length)return!1;else return n.html(f({ads:i})),new l({element:n,itemSelector:'.special-ad-item',duration:150,isVertical:!0,scrollOneDirection:!0,onChange:function(t,n){var i=$('.special-ad-item:eq('+(+n.to+1)+')',this.element);if(!i.data('is-pv'))i.data('is-pv','1'),e($('a',i).data('monitor'));}}),void t(n);}function i(){var e,t,i={},r=[];$('.special-wrapper [data-ad-id]').each(function(n,o){e=$(o),t=e.data('ad-id'),r.push(t),i[t]=e;}),a.fetchadvertisement({adId:r.join(','),cityId:c.get('cityId')}).done(function(e){var t=e.data;$.each(r,function(e,r){n(i[r],t[r]);});});}function r(){var n=$('.ad-banner-wrapper'),i=n.data('ad-id');a.fetchadvertisement({adId:i,cityId:c.get('cityId')}).done(function(r){if(!r.status){var o=r.data[i];if(o&&o[0])n.html(h({ad:o[0]})),e($('a',n).data('monitor')),t(n);}p.emit('ad.banner.ready');});}function o(){var e=($('.main-banner-promotion'),['5','6','7','8','9','10','11']);a.fetchadvertisement({adId:e.join(','),cityId:c.get('cityId')}).done(function(e){if(e&&!e.status){var t=e.data;if(!t)p.emit('ad-promotion-data-fail');else p.emit('ad-promotion-data',t);}else p.emit('ad-promotion-data-fail');}).fail(function(){p.emit('ad-promotion-data-fail');});}var s=require('cobble/util/etpl'),a=require('common/service_9c322508d3'),c=require('common/store_a1a35b3dfc'),l=require('common/component/Slider_e976f1c044'),p=require('common/eventEmitter_8bcc038860'),u='<a href="${ad.click}" data-click-monitor="${ad.clickMonitor}" data-monitor="${ad.monitor}" target="_blank"><img alt="${ad.hover}" src="${ad.material}" width="1190" height="90" title="${ad.hover}"/></a>',f=s.compile($('#ad-text-template').html()),h=s.compile(u);exports.init=function(e){if(s.addFilter('usehot',function(e){return-1==e.indexOf('teacher')&&-1==e.indexOf('organization');}),o(),'sougou'!=e)r(),i();};});