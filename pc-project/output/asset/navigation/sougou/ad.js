define('cobble/function/contains',['require','exports','module'],function(){'use strict';return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t);};}),define('cobble/function/debounce',['require','exports','module'],function(){'use strict';return function(e,t){t='number'===$.type(t)?t:50;var i;return function(){if(!i){var n=arguments;i=setTimeout(function(){i=null,e.apply(null,$.makeArray(n));},t);}};};}),define('cobble/function/decimalLength',['require','exports','module'],function(){'use strict';return function(e){var t=(''+e).split('.');return 2===t.length?t[1].length:0;};}),define('cobble/function/disableSelection',['require','exports','module'],function(){'use strict';var e=$('<i></i>')[0],t='onselectstart'in e,i='MozUserSelect'in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=function(){return!1;};};if(i)return function(e){e=e||document.body,e.style.MozUserSelect='none';};else return $.noop;}),define('cobble/function/divide',['require','exports','module','./decimalLength','./float2Int'],function(require){'use strict';var e=require('./decimalLength'),t=require('./float2Int');return function(i,n){var o=Math.max(e(i),e(n));return i=t(i,o),n=t(n,o),i/n;};}),define('cobble/function/dragGlobal',['require','exports','module','../helper/Draggable','../util/instance','../util/dimension','./pin'],function(require){'use strict';{var e=require('../helper/Draggable'),t=require('../util/instance'),i=require('../util/dimension');require('./pin');}return function(n){return new e({element:n.element,container:t.body,draggingClass:n.draggingClass,handleSelector:n.handleSelector,cancelSelector:n.cancelSelector,rect:function(){var e=n.fixed,t=n.scrollable;return{x:e||t?0:i.getPageScrollLeft(),y:e||t?0:i.getPageScrollTop(),width:e||!t?i.getViewportWidth():i.getPageWidth(),height:e||!t?i.getViewportHeight():i.getPageHeight()};}});};}),define('cobble/function/enableSelection',['require','exports','module'],function(){'use strict';var e=$('<i></i>')[0],t='onselectstart'in e,i='MozUserSelect'in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=null;};if(i)return function(e){e=e||document.body,e.style.MozUserSelect='';};else return $.noop;}),define('cobble/function/eventOffset',['require','exports','module'],function(){'use strict';return function(e){var t=e.offsetX,i=e.offsetY;if('number'!=typeof t){var n=e.target.getBoundingClientRect();t=e.clientX-n.left,i=e.clientY-n.top;}return{x:t,y:i};};}),define('cobble/function/float2Int',['require','exports','module'],function(){'use strict';return function(e,t){var i,n=(''+e).split('.');if(t>=0);else t=0;if(1===n.length)i=e+new Array(t+1).join('0');else t=Math.max(0,t-n[1].length),i=n.join('')+new Array(t+1).join('0');return+i;};}),define('cobble/function/innerOffset',['require','exports','module','./toNumber'],function(require){'use strict';var e=require('./toNumber');return function(t){var i=t.offset(),n=t.css('border-left-width'),o=t.css('border-top-width');return{left:i.left+e(n,0,'int'),top:i.top+e(o,0,'int')};};}),define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var t=$.prototype,i={on:function(){return t.on.apply(e(this),arguments),this;},off:function(){return t.off.apply(e(this),arguments),this;},emit:function(i,n){var o=this,r=e(o);if(r){if(!i[$.expando])i='string'===$.type(i)?$.Event(i):$.Event(null,i);i.cobble=o;var a=[i];if(n)a.push(n);var c=o[$.camelCase('on-'+i.type)];if($.isFunction(c)&&c.apply(o,a)===!1)i.preventDefault();if(!i.isPropagationStopped())t.trigger.apply(r,a);return i;}},before:function(t){e(this).before(t);},after:function(t){e(this).after(t);},appendTo:function(t){e(this).appendTo(t);},prependTo:function(t){e(this).prependTo(t);}};return function(e){$.each(i,function(t,i){if(null==e[t])e[t]=i;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,t){var i=e.constructor,n='__cobble__'+i.prototype.type,o=t.element;if(o&&o.data(n))e=o.data(n);else if($.extend(e,i.defaultOptions,t),e.init(),o)o.data(n,e);return e;},exports.dispose=function(e){var t='__cobble__'+e.constructor.prototype.type,i=e.element;if(i)i.removeData(t);};}),define('cobble/function/multiply',['require','exports','module','./decimalLength','./float2Int'],function(require){'use strict';var e=require('./decimalLength'),t=require('./float2Int');return function(i,n){var o=Math.max(e(i),e(n));i=t(i,o),n=t(n,o);var r=Math.pow(10,o);return i*n/(r*r);};}),define('cobble/function/offsetParent',['require','exports','module'],function(){'use strict';function e(e){return e.is('body')||'static'!==e.css('position');}return function(t){if(t.is('body'))return t;for(var i=t.parent();!e(i);)i=i.parent();return i;};}),define('cobble/function/outerOffset',['require','exports','module','./toNumber'],function(require){'use strict';var e=require('./toNumber');return function(t){var i=t.offset(),n=e(t.css('margin-left'),0,'int'),o=e(t.css('margin-top'),0,'int');return{left:i.left-n,top:i.top-o};};}),define('cobble/function/page',['require','exports','module','../util/instance'],function(require){'use strict';var e=require('../util/instance');return function(){if(e.body.prop('clientHeight')<e.html.prop('clientHeight'))return e.html;else return e.body;};}),define('cobble/function/pageHeight',['require','exports','module','./page'],function(require){'use strict';var e=require('./page');return function(){var t=e()[0];return Math.max(t.scrollHeight,t.clientHeight);};}),define('cobble/function/pageScrollLeft',['require','exports','module'],function(){'use strict';return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);};}),define('cobble/function/pageScrollTop',['require','exports','module'],function(){'use strict';return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop);};}),define('cobble/function/pageWidth',['require','exports','module','./page'],function(require){'use strict';var e=require('./page');return function(){var t=e()[0];return Math.max(t.scrollWidth,t.clientWidth);};}),define('cobble/function/parsePercent',['require','exports','module','./divide'],function(require){'use strict';var e=require('./divide'),t=/(-?\d+(\.\d+)?)%/;return function(i){if(t.test(i))return e(RegExp.$1,100);else return void 0;};}),define('cobble/function/pin',['require','exports','module','../util/instance','./parsePercent'],function(require){'use strict';function e(e){var t=o[e.x];if(null==t)t=e.x;if('string'===$.type(t)){var i=n(t);if(null!=i)t=i*(e.width||e.element.outerWidth());}return t;}function t(e){var t=o[e.y];if(null==t)t=e.y;if('string'===$.type(t)){var i=n(t);if(null!=i)t=i*(e.height||e.element.outerHeight());}return t;}var i=require('../util/instance'),n=require('./parsePercent'),o={left:0,top:0,center:'50%',middle:'50%',right:'100%',bottom:'100%'};return function(n){var o=n.element,r=n.attachment||{};if(!r.element)r.element=i.body;var a=r.element.offset(),c=a.left+e(r),l=a.top+t(r),s=c-e(n),u=l-t(n),f=n.offset;if(f){if('number'===$.type(f.x))s+=f.x;if('number'===$.type(f.y))u+=f.y;}var d={left:s,top:u},p=o.css('position');if('absolute'!==p&&'fixed'!==p)d.position='absolute';if(n.silence)return d;else o.css(d);};}),define('cobble/function/pinGlobal',['require','exports','module','./pin','../util/dimension','../function/viewport'],function(require){'use strict';var e=require('./pin'),t=require('../util/dimension'),i=require('../function/viewport');return function(n){var o={silence:!0,element:n.element,x:'50%'===n.x?'50%':0,y:'50%'===n.y?'50%':0,attachment:{element:i(),width:t.getViewportWidth(),height:t.getViewportHeight(),x:n.x,y:n.y}};if(!n.fixed)o.offset={x:t.getPageScrollLeft(),y:t.getPageScrollTop()};return e(o);};}),define('cobble/function/position',['require','exports','module','./offsetParent'],function(require){'use strict';var e=require('./offsetParent');return function(t){var i=e(t),n=t.css('position'),o=parseInt(t.css('left'),10),r=parseInt(t.css('top'),10),a=isNaN(o),c=isNaN(r);if(a||c)if(1===i.length){var l=t.offset(),s=i.offset();if(a)o=l.left-s.left-(parseInt(i.css('border-left-width'),10)||0);if(c)r=l.top-s.top-(parseInt(i.css('border-top-width'),10)||0);}else o=r=0;if(!n||'static'===n)n='absolute';return{position:n,left:o,top:r};};}),define('cobble/function/restrain',['require','exports','module'],function(){'use strict';return function(e,t,i){if(t>e)e=t;else if(e>i)e=i;return e;};}),define('cobble/function/toNumber',['require','exports','module'],function(){'use strict';var e={'int':parseInt,'float':parseFloat};return function(t,i,n){if('number'!==$.type(t)){var o=e[n];if(t=o?o(t,10):+t,isNaN(t))t=i;}return t;};}),define('cobble/function/viewport',['require','exports','module','../util/instance'],function(require){'use strict';var e=require('../util/instance');return function(){if(e.body.prop('clientHeight')>e.html.prop('clientHeight'))return e.html;else return e.body;};}),define('cobble/function/viewportHeight',['require','exports','module'],function(){'use strict';return function(){return window.innerHeight||document.documentElement.clientHeight;};}),define('cobble/function/viewportWidth',['require','exports','module'],function(){'use strict';return function(){return window.innerWidth||document.documentElement.clientWidth;};}),define('cobble/helper/Draggable',['require','exports','module','../function/page','../function/toNumber','../function/restrain','../function/position','../function/contains','../function/jquerify','../function/lifeCycle','../function/innerOffset','../function/outerOffset','../function/pageScrollLeft','../function/pageScrollTop','../function/enableSelection','../function/disableSelection','../util/instance','../util/mouse'],function(require){'use strict';function e(e){return s.init(this,e);}function t(e){var t=b(e),i=y(e);if(k.left!==t||k.top!==i){k.left=t,k.top=i;var n=e.data;if(1===++x){var o=n.draggingClass;if(o)n.element.addClass(o);n.emit('beforeDrag');}if(!n.silence)n.element.css(k);n.emit('drag',k);}}function i(e){m(),g.document.off(w);var t=e.data,i=t.draggingClass;if(i)t.element.removeClass(i);if(x>0)t.emit('afterDrag',k);x=b=y=null;}function n(e,t,i){var n=!1;if($.isArray(t))t=t.join(',');return e.find(t).each(function(){if(n=c(this,i))return!1;else return void 0;}),n;}var o=require('../function/page'),r=(require('../function/toNumber'),require('../function/restrain')),a=require('../function/position'),c=require('../function/contains'),l=require('../function/jquerify'),s=require('../function/lifeCycle'),u=require('../function/innerOffset'),f=require('../function/outerOffset'),d=require('../function/pageScrollLeft'),p=require('../function/pageScrollTop'),m=require('../function/enableSelection'),h=require('../function/disableSelection'),g=require('../util/instance'),v=require('../util/mouse');e.prototype={constructor:e,type:'Draggable',init:function(){var e=this,r=e.element;if(!e.container)e.container=o();r.css(a(r)),$.each(v,function(o,l){if(l.support)r.on(l.mousedown+w,function(s){var d=s.target,p=e.handleSelector,m=e.cancelSelector;if(!(p&&!n(r,p,d)||m&&n(r,m,d))){var v=_[o],$=f(r),C=v.absoluteX(s)-$.left,q=v.absoluteY(s)-$.top,P=e.container;if(c(P,r)){var T=u(P);C+=T.left,q+=T.top;}var O=a(r),E=O.position;k.left=O.left,k.top=O.top;var D=e.axis,R=e.getRectange(!0);b='y'===D?S.constant(k.left):S.change(v[E+'X'],C,R.x,R.x+R.width),y='x'===D?S.constant(k.top):S.change(v[E+'Y'],q,R.y,R.y+R.height),x=0,h(),g.document.on(l.mousemove+w,e,t).on(l.mouseup+w,e,i);}});});},getRectange:function(e){var t=this,i=t.rect;if($.isFunction(i))i=t.rect();if(e){var n=t.element,o=i.width-n.outerWidth(!0),r=i.height-n.outerHeight(!0);i.width=Math.max(0,o),i.height=Math.max(0,r);}return i;},setRectange:function(e){this.rect=e;},dispose:function(){var e=this;s.dispose(e),e.element.off(w),e.element=e.container=null;}},l(e.prototype),e.defaultOptions={rect:function(){var e=this,t=e.container,i={x:0,y:0,width:t.innerWidth(),height:t.innerHeight()};if(!c(t,e.element)){var n=u(t);i.x=n.left,i.y=n.top;}return i;}};var b,y,x,w='.cobble_helper_draggable',k={},S={constant:function(e){return function(){return e;};},change:function(e,t,i,n){return function(o){return r(e(o)-t,i,n);};}},_={};return $.each(v,function(e,t){if(t.support)_[e]={absoluteX:function(e){return t.clientX(e)+d();},absoluteY:function(e){return t.clientY(e)+p();},fixedX:function(e){return t.clientX(e);},fixedY:function(e){return t.clientY(e);}};}),e;}),define('cobble/helper/Switchable',['require','exports','module','../function/jquerify','../function/lifeCycle','../function/toNumber'],function(require){'use strict';function e(e){return i.init(this,e);}var t=require('../function/jquerify'),i=require('../function/lifeCycle'),n=require('../function/toNumber');e.prototype={constructor:e,type:'Switchable',init:function(){var e=this,t=e.element,i=e.selector,a=e.items=t.find(i),c=n(e.index,r),l=e.activeClass;if(c===r&&l)c=a.index(t.find('.'+l));if(i){var s=e.trigger;if('click'===s)t.on('click'+o,i,function(){e.to(a.index(this));});else if('over'===s)t.on('mouseenter'+o,i,function(){var t=this;e.timer=setTimeout(function(){if(e.element)e.to(a.index(t));},150);}),t.on('mouseleave'+o,i,function(){if(e.timer)clearTimeout(e.timer),e.timer=null;});}if(e.index=r,c>=0)e.to(c);},to:function(e){var t=this;e=n(e,r);var i=t.index;if(e!==i){var o=t.activeClass,a=t.items;if(o){if(i>=0)a.eq(i).removeClass(o);if(e>=0)a.eq(e).addClass(o);}t.index=e,t.change({from:i,to:e});}},dispose:function(){var e=this;i.dispose(e),e.element.off(o),e.element=e.items=null;}},t(e.prototype),e.defaultOptions={index:0,trigger:'click'};var o='.cobble_helper_switchable',r=-1;return e;}),define('cobble/helper/Wheel',['require','exports','module','../function/lifeCycle','../function/jquerify','../util/instance'],function(require){'use strict';function e(e){return t.init(this,e);}var t=require('../function/lifeCycle'),i=require('../function/jquerify'),n=require('../util/instance');e.prototype={constructor:e,type:'Wheel',init:function(){var e=this;e.element.on(r+o,function(t){var i=0,n=t.originalEvent;if('mousewheel'===r)i=-n.wheelDelta/120;else i=n.detail/3;t.type='scroll',e.emit(t,{delta:i});});},dispose:function(){var e=this;t.dispose(e),e.element.off(o),e.element=null;}},i(e.prototype),e.defaultOptions={element:n.document};var o='.cobble_helper_wheel',r='onmousewheel'in n.body[0]?'mousewheel':'DOMMouseScroll';return e;}),define('cobble/ui/Carousel',['require','exports','module','../function/jquerify','../function/lifeCycle','../helper/Switchable'],function(require){'use strict';function e(e){return i.init(this,e);}var t=require('../function/jquerify'),i=require('../function/lifeCycle'),n=require('../helper/Switchable');e.prototype={constructor:e,type:'Carousel',init:function(){var e=this,t=e.element,i='click'+o,r='mouseenter'+o,a='mouseleave'+o,c=e.prevSelector;if(c)t.on(i,c,$.proxy(e.prev,e));var l=e.nextSelector;if(l)t.on(i,l,$.proxy(e.next,e));var s=e.autoPlay,u=e.itemSelector;if(s&&e.pauseOnHover)t.on(r,u,$.proxy(e.pause,e)).on(a,u,$.proxy(e.play,e));if(e.minIndex=0,e.maxIndex=t.find(u).length-1-(e.showCount-1),e.switcher=new n({element:t,index:e.index,trigger:e.trigger,selector:e.iconSelector,activeClass:e.activeClass,change:function(t){e.index=t.to,e.animation(t),e.emit('change',t);}}),s)e.play();},prev:function(){var e=this,t=e.index-e.step;if(t<e.minIndex)if(e.loop)t=e.maxIndex;else return;e.to(t);},next:function(){var e=this,t=e.index+e.step;if(t>e.maxIndex)if(e.loop)t=e.minIndex;else return;e.to(t);},to:function(e){var t=this;if(t.autoPlay)t.play(e);else t.switcher.to(e);},play:function(e){var t=this;if(t.autoPlay){if(t.playing)t.pause();if(t.playing=!0,t.playTimer=setTimeout($.proxy(t.next,t),t.delay),e!==t.index&&$.isNumeric(e))t.switcher.to(e);}},pause:function(){var e=this;if(e.autoPlay)if(e.playing=!1,e.playTimer)clearTimeout(e.playTimer),e.playTimer=null;},dispose:function(){var e=this;if(i.dispose(e),e.playing)e.pause();e.element.off(o),e.switcher.dispose(),e.element=e.switcher=null;}},t(e.prototype),e.defaultOptions={index:0,step:1,delay:5000,showCount:1,trigger:'over',loop:!0,autoPlay:!0,pauseOnHover:!0};var o='.cobble_ui_carousel';return e;}),define('cobble/ui/Dialog',['require','exports','module','../util/instance','../util/dimension','../function/jquerify','../function/lifeCycle','../function/offsetParent','../function/debounce','../function/pinGlobal','../function/dragGlobal'],function(require){'use strict';function e(e){return o.init(this,e);}var t=require('../util/instance'),i=require('../util/dimension'),n=require('../function/jquerify'),o=require('../function/lifeCycle'),r=require('../function/offsetParent'),a=require('../function/debounce'),c=require('../function/pinGlobal'),l=require('../function/dragGlobal');e.prototype={constructor:e,type:'Dialog',init:function(){var e=this,i=e.element||(e.element=$(e.template)),n=[],o=e.skinClass;if(o)n.push(o);var a=e.draggableClass;if(e.draggable&&a)n.push(a);if(n.length>0)i.addClass(n.join(' '));var c=e.removeOnEmpty,l=e.title;if(l)i.find(e.titleSelector).html(l);else if(c)i.find(e.headerSelector).remove();var u=e.content,f=i.find(e.bodySelector);if(u)f.html(u);else if(c)f.remove();var d=e.closeSelector,p=$.proxy(e.hide,e);if(d)i.on('click'+s,d,p);var m={};if(e.width)m.width=e.width;var h=e.fixed?'fixed':'absolute';if(i.css('position')!==h)m.position=h;if(!r(i).is('body'))t.body.append(i);if(e.modal){var g=e.mask||(e.mask=$(e.maskTemplate));if(i.before(g),e.hideOnClickMask)g.on('click'+s,p);var v='zIndex',b=e[v];if(!$.isNumeric(b))if(b=g.css(v),!$.isNumeric(b))b='auto';var y={overflow:'hidden'};y[v]=b,g.css(y),m[v]=b;}if(i.css(m),!e.hidden)e.hidden=!0,e.show();},show:function(){var e=this;if(e.hidden!==!1){var i=e.emit('beforeShow');if(!i.isDefaultPrevented()){var n=e.element,o=e.scrollable;if(e.draggable)e.drager=l({element:n,handleSelector:e.draggableHandleSelector,cancelSelector:e.draggableCancelSelector,draggingClass:e.draggingClass,fixed:e.fixed,scrollable:o});if(e.refresh(),e.showAnimation(),e.mask)e.showMaskAnimation();e.hidden=!1,t.window.resize(e.resizer=a(function(){e.refresh(!0);},50)),e.emit('afterShow');}}},hide:function(){var e=this;if(e.hidden!==!0){var i=e.emit('beforeHide');if(!i.isDefaultPrevented()){if(e.resizer)t.window.off('resize',e.resizer),e.resizer=null;if(e.drager)e.drager.dispose(),e.drager=null;if(e.hideAnimation(),e.mask)e.hideMaskAnimation();if(e.hidden=!0,e.emit('afterHide'),e.disposeOnHide)e.dispose();}}},refresh:function(){var e=this,t=arguments[0];if(!t||e.positionOnResize){var n=e.element,o=c({element:n,x:e.x,y:e.y,fixed:e.fixed});if(t)e.resizeAnimation(o);else n.css(o);}var r=e.mask;if(r)r.css({width:i.getPageWidth(),height:i.getPageHeight()});},dispose:function(){var e=this;if(o.dispose(e),!e.hidden)e.disposeOnHide=!1,e.hide();var t=e.element,i=e.mask;if(t.off(s),i)i.off(s);if(e.removeOnDispose)if(t.remove(),i)i.remove();e.element=e.mask=null;}},n(e.prototype),e.defaultOptions={x:'50%',y:'50%',modal:!0,fixed:!0,hidden:!1,draggable:!0,scrollable:!0,removeOnEmpty:!0,disposeOnHide:!0,removeOnDispose:!0,hideOnClickMask:!1,positionOnResize:!0,draggableClass:'draggable',draggableHandleSelector:'.dialog-header',draggableCancelSelector:['.dialog-header h1','.dialog-close'],headerSelector:'.dialog-header',titleSelector:'.dialog-header h1',closeSelector:'.dialog-close',bodySelector:'.dialog-body',template:'<div class="dialog"><i class="dialog-close">&times;</i><div class="dialog-header"><h1></h1></div><div class="dialog-body"></div></div>',maskTemplate:'<div class="dialog-mask"></div>',showAnimation:function(){this.element.show();},hideAnimation:function(){this.element.hide();},showMaskAnimation:function(){this.mask.show();},hideMaskAnimation:function(){this.mask.hide();},resizeAnimation:function(e){this.element.css(e);}};{var s='.cobble_ui_dialog';t.html.css('overflow'),t.body.css('overflow');}return e;}),define('cobble/ui/ScrollBar',['require','exports','module','../function/divide','../function/multiply','../function/restrain','../function/jquerify','../function/contains','../function/eventOffset','../function/lifeCycle','../helper/Wheel','../helper/Draggable'],function(require){'use strict';function e(e){return c.init(this,e);}var t=require('../function/divide'),i=require('../function/multiply'),n=require('../function/restrain'),o=require('../function/jquerify'),r=require('../function/contains'),a=require('../function/eventOffset'),c=require('../function/lifeCycle'),l=require('../helper/Wheel'),s=require('../helper/Draggable');e.prototype={constructor:e,type:'ScrollBar',init:function(){var e=this,t=e.element,i=function(t,i){var n=i.delta*e.scrollStep,o=e.panelPixelToValue(n);return!e.to(e.value+o,{from:'wheel'});};e.panelWheel=new l({element:e.panel,onScroll:i}),e.barWheel=new l({element:t,onScroll:i});var n=e.thumbSelector,o=t.find(n);if(0===o.length)t.html(e.template),o=t.find(n);e.thumb=o;var c,u;if('vertical'===e.orientation)c='y',u='top';else c='x',u='left';var f=function(t,i){e.to(e.barPixelToValue(t),{from:i});},p=e.draggingClass;e.draggable=new s({element:o,container:t,axis:c,onBeforeDrag:function(){if('string'===$.type(p))t.addClass(p);},onDrag:function(e,t){f(t[u],'bar');},onAfterDrag:function(){if('string'===$.type(p))t.removeClass(p);}}),t.on('click'+d,function(e){if(!r(o,e.target))f(a(e)[c],'click');}),e.refresh({value:e.value},!0);},refresh:function(e){var n,o=this;if($.isPlainObject(e))$.extend(o,e);if(e===!0||arguments[1]===!0)n=!0;var r,a,c,l,s,d;if('vertical'===o.orientation)r='innerHeight',a='outerHeight',c='scrollHeight',l='minHeight',s='top',d='scrollTop';else r='innerWidth',a='outerWidth',c='scrollWidth',l='minWidth',s='left',d='scrollLeft';var p=o.panel,m=p[r](),h=p.prop(c),g=h>0?m/h:1;if(g>0&&1>g){o.showAnimation();var v=o.element,b=o.thumb,y=v[r](),x=i(g,y),w=o[l];if(w>x)x=w;x=Math.ceil(x),b[a](x);var k=h-m,S=y-x;o.panelPixelToValue=function(e){return i(f,t(e,k));},o.valueToPanelPixel=function(e){return i(k,t(e,f));},o.barPixelToValue=function(e){return i(f,t(e,S));},o.valueToBarPixel=function(e){return i(S,t(e,f));},o.syncBar=function(e){var t=o.valueToBarPixel(e);b.css(s,t);},o.syncPanel=function(e){var t=o.valueToPanelPixel(e);p[d](t);};var _,C=e&&e.value;if(C>=u&&f>=C);else _='panel',C=o.panelPixelToValue(p[d]());o.to(C,{force:!0,silence:n,from:_});}else o.hideAnimation(),o.panelPixelToValue=o.valueToPanelPixel=o.barPixelToValue=o.valueToBarPixel=o.syncPanel=o.syncBar=$.noop;},to:function(e,t){var i=this;if(t=t||{},e=n(e,u,f),t.force||e!=i.value){i.value=e;var o=t.from;if('panel'!==o)i.syncPanel(e);if('bar'!==o)i.syncBar(e);if(!t.silence)i.emit('scroll');return!0;}return!1;},dispose:function(){var e=this;c.dispose(e),e.element.off(d),e.panelWheel.dispose(),e.barWheel.dispose(),e.draggable.dispose(),e.element=e.panelWheel=e.barWheel=e.draggable=e.thumb=null;}},o(e.prototype);var u=0,f=100,d='.cobble_ui_scrollbar';return e.defaultOptions={scrollStep:20,orientation:'vertical',minWidth:10,minHeight:10,template:'<i class="scroll-thumb"></i>',thumbSelector:'.scroll-thumb',showAnimation:function(){this.element.show();},hideAnimation:function(){this.element.hide();}},e;}),define('cobble/util/cookie',['require','exports','module'],function(require,exports){'use strict';function e(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');var t={};try{e=decodeURIComponent(e.replace(/\+/g,' ')),$.each(e.split(';'),function(e,i){var n=i.split('='),o=$.trim(n[0]),r=$.trim(n[1]);if(o)t[o]=r;});}catch(i){}return t;}function t(e,t,n){var o=n.expires;if($.isNumeric(o)){var r=o;o=new Date(),o.setTime(o.getTime()+r*i);}document.cookie=[encodeURIComponent(e),'=',encodeURIComponent(t),o?';expires='+o.toUTCString():'',n.path?';path='+n.path:'',n.domain?';domain='+n.domain:'',n.secure?';secure':''].join('');}var i=3600000;exports.get=function(t){var i=e(document.cookie);return'string'===$.type(t)?i[t]:i;},exports.set=function(e,i,n){if($.isPlainObject(e))n=i,i=null;if(n=$.extend({},exports.defaultOptions,n),null===i)$.each(e,function(e,i){t(e,i,n);});else t(e,i,n);},exports.remove=function(e,i){if(null!=e)i=i||{},i.expires=-1,t(e,'',$.extend({},exports.defaultOptions,i));},exports.defaultOptions={path:'/'};}),define('cobble/util/dimension',['require','exports','module','../function/pageScrollTop','../function/pageScrollLeft','../function/pageWidth','../function/pageHeight','../function/viewportWidth','../function/viewportHeight'],function(require,exports){'use strict';var e=require('../function/pageScrollTop'),t=require('../function/pageScrollLeft'),i=require('../function/pageWidth'),n=require('../function/pageHeight'),o=require('../function/viewportWidth'),r=require('../function/viewportHeight');exports.getPageScrollTop=e,exports.getPageScrollLeft=t,exports.getPageWidth=i,exports.getPageHeight=n,exports.getViewportWidth=o,exports.getViewportHeight=r;}),define('cobble/util/etpl',function(){function e(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i];return e;}function t(){this.raw=[],this.length=0;}function i(){return'___'+P++;}function n(e,t){var i=new Function();i.prototype=t.prototype,e.prototype=new i(),e.prototype.constructor=e;}function o(e){return T[e];}function r(e){return'"'+e.replace(/\x5C/g,'\\\\').replace(/"/g,'\\"').replace(/\x0A/g,'\\n').replace(/\x09/g,'\\t').replace(/\x0D/g,'\\r')+'"';}function a(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return'\\'+e;});}function c(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,i){return t[i-0+1];});}function l(e){return e=e.replace(/^\s*\*/,''),c('gv({0},["{1}"])',r(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return'.'+t;}).split('.').join('","'));}function s(e,t,i,n,o,r){for(var a=i.length,c=e.split(t),l=0,s=[],u=0,f=c.length;f>u;u++){var d=c[u];if(u){var p=1;for(l++;;){var m=d.indexOf(i);if(0>m){s.push(l>1&&p?t:'',d);break;}if(l=n?l-1:0,s.push(l>0&&p?t:'',d.slice(0,m),l>0?i:''),d=d.slice(m+a),p=0,0===l)break;}if(0===l)o(s.join('')),r(d),s=[];}else d&&r(d);}if(l>0&&s.length>0)r(t),r(s.join(''));}function u(e,t,i){var n,o=[],a=t.options,c='',f='',d='',p='';if(i)c='ts(',f=')',d=D,p=R,n=a.defaultFilter;return s(e,a.variableOpen,a.variableClose,1,function(e){if(i&&e.indexOf('|')<0&&n)e+='|'+n;var r=e.indexOf('|'),a=(r>0?e.slice(0,r):e).replace(/^\s+/,'').replace(/\s+$/,''),s=r>0?e.slice(r+1):'',m=0===a.indexOf('*'),h=[m?'':c,l(a),m?'':f];if(s){s=u(s,t);for(var g=s.split('|'),v=0,b=g.length;b>v;v++){var y=g[v];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(y)){if(h.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)h.push(',',RegExp.$3);h.push(')');}}}o.push(d,h.join(''),p);},function(e){o.push(d,i?r(e):e,p);}),o.join('');}function f(e,t){this.value=e,this.engine=t;}function d(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[];}function p(e,t){var i=e.stack,n=t?i.find(function(e){return e instanceof t;}):i.bottom();if(n){for(var o;(o=i.top())!==n;){if(!o.autoClose)throw new Error(o.type+' must be closed manually: '+o.value);o.autoClose(e);}n.close(e);}return n;}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.master=RegExp.$3,this.name=RegExp.$1,d.call(this,e,t),this.blocks={};}function h(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,d.call(this,e,t),this.cloneProps=['name'];}function g(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,d.call(this,e,t),this.cloneProps=['name','state','blocks'],this.blocks={};}function v(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.expr=RegExp.$2,d.call(this,e,t),this.cloneProps=['name','expr'];}function b(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.args=RegExp.$3,d.call(this,e,t),this.cloneProps=['name','args'];}function y(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.args=RegExp.$3,d.call(this,e,t),this.cloneProps=['name','args'];}function x(e,t){var i=new RegExp(c('^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$',a(t.options.variableOpen),a(t.options.variableClose)),'i');if(!i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,d.call(this,e,t),this.cloneProps=['list','item','index'];}function w(e,t){d.call(this,e,t);}function $(e,t){w.call(this,e,t);}function k(e,t){d.call(this,e,t);}function S(e,t){t.target=e;var i=t.engine,n=e.name;if(i.targets[n])switch(i.options.namingConflict){case'override':i.targets[n]=e,t.targets.push(n);case'ignore':break;default:throw new Error('Target exists: '+n);}else i.targets[n]=e,t.targets.push(n);}function _(e,t){j[e]=t,t.prototype.type=e;}function C(t){this.options={commandOpen:'<!--',commandClose:'-->',commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:'${',variableClose:'}',defaultFilter:'html'},this.config(t),this.targets={},this.filters=e({},O);}function q(e,i){function n(){var e;if(m.length>0&&(e=m.join(''))){var t=new f(e,i);if(t.beforeAdd(u),l.top().addChild(t),m=[],i.options.strip&&u.current instanceof d)t.value=e.replace(/^[\x20\t\r]*\n/,'');u.current=t;}}var o,r=i.options.commandOpen,a=i.options.commandClose,c=i.options.commandSyntax,l=new t(),u={engine:i,targets:[],stack:l,target:null},m=[];return s(e,r,a,0,function(e){var t=c.exec(e);if(t&&(o=j[t[2].toLowerCase()])&&'function'==typeof o){n();var l=u.current;if(i.options.strip&&l instanceof f)l.value=l.value.replace(/\r?\n[\x20\t]*$/,'\n');if(t[1])l=p(u,o);else{if(l=new o(t[3],i),'function'==typeof l.beforeOpen)l.beforeOpen(u);l.open(u);}u.current=l;}else if(!/^\s*\/\//.test(e))m.push(r,e,a);o=null;},function(e){m.push(e);}),n(),p(u),u.targets;}t.prototype={push:function(e){this.raw[this.length++]=e;},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e;}},top:function(){return this.raw[this.length-1];},bottom:function(){return this.raw[0];},find:function(e){for(var t=this.length;t--;){var i=this.raw[t];if(e(i))return i;}}};var P=178245,T={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'},O={html:function(e){return e.replace(/[&<>"']/g,o);},url:encodeURIComponent,raw:function(e){return e;}},E='var r="";',D='r+=',R=';',I='return r;';if('undefined'!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)E='var r=[],ri=0;',D='r[ri++]=',I='return r.join("");';f.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return'';else return u(e,this.engine,1);},clone:function(){return this;}},d.prototype={addChild:function(e){this.children.push(e);},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this);},close:function(e){if(e.stack.top()===this)e.stack.pop();},getRendererBody:function(){for(var e=[],t=this.children,i=0;i<t.length;i++)e.push(t[i].getRendererBody());return e.join('');},clone:function(){for(var e=new this.constructor(this.value,this.engine),t=0,i=this.children.length;i>t;t++)e.addChild(this.children[t].clone());for(var t=0,i=this.cloneProps.length;i>t;t++){var n=this.cloneProps[t];e[n]=this[n];}return e;}};var A='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';n(m,d),n(h,d),n(g,d),n(v,d),n(b,d),n(y,d),n(x,d),n(w,d),n($,w),n(k,w);var H={READING:1,READED:2,APPLIED:3,READY:4};g.prototype.applyMaster=m.prototype.applyMaster=function(e){function t(e){var n=e.children;if(n instanceof Array)for(var o=0,r=n.length;r>o;o++){var a=n[o];if(a instanceof h&&i[a.name])a=n[o]=i[a.name];t(a);}}if(this.state>=H.APPLIED)return 1;var i=this.blocks,n=this.engine.targets[e];if(n&&n.applyMaster(n.master))return this.children=n.clone().children,t(this),this.state=H.APPLIED,1;else return void 0;},m.prototype.isReady=function(){function e(n){for(var o=0,r=n.children.length;r>o;o++){var a=n.children[o];if(a instanceof g){var c=t.targets[a.name];i=i&&c&&c.isReady(t);}else if(a instanceof d)e(a);}}if(this.state>=H.READY)return 1;var t=this.engine,i=1;if(this.applyMaster(this.master))return e(this),i&&(this.state=H.READY),i;else return void 0;},m.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function('data','engine',[A,E,this.getRendererBody(),I].join('\n')),t=this.engine;return this.renderer=function(i){return e(i,t);},this.renderer;}return null;},m.prototype.open=function(e){p(e),d.prototype.open.call(this,e),this.state=H.READING,S(this,e);},v.prototype.open=y.prototype.open=function(e){e.stack.top().addChild(this);},h.prototype.open=function(e){d.prototype.open.call(this,e),(e.imp||e.target).blocks[this.name]=this;},$.prototype.open=function(e){var t=new k();t.open(e);var i=p(e,w);i.addChild(this),e.stack.push(this);},k.prototype.open=function(e){var t=p(e,w);t.addChild(this),e.stack.push(this);},g.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,d.prototype.open.call(this,e),this.state=H.READING,e.imp=this;},y.prototype.close=v.prototype.close=function(){},g.prototype.close=function(e){d.prototype.close.call(this,e),this.state=H.READED,e.imp=null;},m.prototype.close=function(e){d.prototype.close.call(this,e),this.state=this.master?H.READED:H.APPLIED,e.target=null;},g.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var i in this.blocks)this.target.blocks[i]=this.blocks[i];this.blocks={},this.close(e);},y.prototype.beforeOpen=g.prototype.beforeOpen=v.prototype.beforeOpen=x.prototype.beforeOpen=b.prototype.beforeOpen=h.prototype.beforeOpen=w.prototype.beforeOpen=f.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new m(i(),e.engine);t.open(e);}},g.prototype.getRendererBody=function(){return this.applyMaster(this.name),d.prototype.getRendererBody.call(this);},y.prototype.getRendererBody=function(){return c('{0}engine.render({2},{{3}}){1}',D,R,r(this.name),u(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,i){return(t||'')+r(i)+':';}));},v.prototype.getRendererBody=function(){if(this.expr)return c('v[{0}]={1};',r(this.name),u(this.expr,this.engine));else return'';},w.prototype.getRendererBody=function(){return c('if({0}){{1}}',u(this.value,this.engine),d.prototype.getRendererBody.call(this));},k.prototype.getRendererBody=function(){return c('}else{{0}',d.prototype.getRendererBody.call(this));},x.prototype.getRendererBody=function(){return c('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',i(),u(this.list,this.engine),r(this.index||i()),r(this.item),i(),i(),d.prototype.getRendererBody.call(this));},b.prototype.getRendererBody=function(){var e=this.args;return c('{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}',E,I,D,R,d.prototype.getRendererBody.call(this),r(this.name),e?','+u(e,this.engine):'');};var j={};_('target',m),_('block',h),_('import',g),_('use',y),_('var',v),_('for',x),_('if',w),_('elif',$),_('else',k),_('filter',b),C.prototype.config=function(t){e(this.options,t);},C.prototype.compile=C.prototype.parse=function(e){if(e){var t=q(e,this);if(t.length)return this.targets[t[0]].getRenderer();}return new Function('return ""');},C.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return void 0;},C.prototype.render=function(e,t){var i=this.getRenderer(e);if(i)return i(t);else return'';},C.prototype.addFilter=function(e,t){if('function'==typeof t)this.filters[e]=t;};var W=new C();return W.Engine=C,W;}),define('cobble/util/instance',['require','exports','module'],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body);}),define('cobble/util/mouse',['require','exports','module'],function(){'use strict';function e(e){return e.originalEvent.changedTouches[0];}var t=document.createElement('div'),i={support:'ontouchend'in t,click:'touchstart',mousedown:'touchstart',mousemove:'touchmove',mouseup:'touchend',pageX:function(t){return e(t).pageX;},pageY:function(t){return e(t).pageY;},clientX:function(t){return e(t).clientX;},clientY:function(t){return e(t).clientY;}},n={support:'onclick'in t,click:'click',mousedown:'mousedown',mousemove:'mousemove',mouseup:'mouseup',pageX:function(e){return e.pageX;},pageY:function(e){return e.pageY;},clientX:function(e){return e.clientX;},clientY:function(e){return e.clientY;}};return t=null,{touch:i,mouse:n};}),define('cobble/util/url',['require','exports','module'],function(require,exports){'use strict';exports.parseQuery=function(e){var t={};if('string'===$.type(e)&&e.length>1){var i=0,n=e.charAt(0);if('?'===n)i=1;else if('#'===n){i=1;var o=e.charAt(1);if('/'===o)i=2;}if(i>0)e=e.substr(i);$.each(e.split('&'),function(e,i){var n=i.split('=');if(2===n.length){var o=$.trim(n[0]);if(o)t[o]=decodeURIComponent($.trim(n[1]));}});}return t;},exports.getOrigin=function(e){if(!e)e=document.URL;return exports.parse(e).origin;},exports.parse=function(e){var t=document.createElement('a');t.href=e,e=t.href;var i='';if(t.protocol&&t.host)i=t.protocol+'//'+t.host;else if(/^(http[s]?:\/\/[^\/]+)(?=\/)/.test(e))i=RegExp.$1;var n=i.split(':');if(0===i.indexOf('http:')&&3===n.length&&80==n[2])n.length=2,i=n.join(':');var o=t.pathname;if(o&&'/'!==o.charAt(0))o='/'+o;return{origin:i,pathname:o,search:t.search};};}),define('common/bindScroll_f2ce0a166a',function(){'use strict';var e=function(e,t){return e===t.target||e===window&&t.target===document;},t=function(e){for(;e.length>1;)clearTimeout(e.shift());};return function(i,n,o,r){var a=[],c=null,l=$(i);if(i=l[0],isNaN(o)||0>o)if(r)c=n;else c=function(t){if(e(i,t))n(t);};else if(r)c=function(e){a.push(setTimeout(function(){t(a),n(e);},o));};else c=function(r){a.push(setTimeout(function(){if(t(a),e(i,r))n(r);},o));};l.scroll(c);};}),define('common/component/ClickMonitor_2ea1c7c842',function(){function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=function(){};return e.defaultOptions={selector:'[data-click-monitor="1"]',monitorUrl:'http://click.genshuixue.com/',defaultParams:{},useDataHref:!0,isSend:!0,interceptor:t},e.prototype.setInterceptor=function(e){this.interceptor=e;},e.prototype.init=function(){var e=this;$(document).on('click',e.selector,function(){var t=$(this),i=e.useDataHref?t.data('href'):'',n={};if(e.interceptor)n=e.interceptor(t);if(e.isSend&&e.monitorUrl)WAT.send(e.monitorUrl,$.extend({},e.defaultParams,n));else console.log($.extend({},e.defaultParams,n));if(i&&window.open(i,'_blank'),e.useDataHref)return!1;else return void 0;});},e;}),define('common/component/Slider_e976f1c044',['require','exports','module','cobble/ui/Carousel'],function(require){'use strict';function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=require('cobble/ui/Carousel');return e.prototype={constructor:e,init:function(){{var e,i=this,n=i.element,o=i.itemSelector,r=n.find(o),a=r.parent(),c=r.length,l=2,s=c+l,u=r.eq(0),f=r.eq(c-1),d=u.width(),p=u.height(),m=0,h=!i.isVertical?function(){a.css('left',-1*e*d);}:function(){a.css('top',-1*e*p);};new t({element:n,itemSelector:o,iconSelector:i.iconSelector,prevSelector:i.prevSelector,nextSelector:i.nextSelector,activeClass:'active',trigger:i.trigger,loop:i.loop,delay:i.delay,autoPlay:i.autoPlay,pauseOnHover:!0,onChange:i.onChange,animation:function(t){var n=t.to,o=t.from;if(!(0>o)){if(m>0)if(a.stop(),e>-1)h();{var r;this.element;}if(0===n&&o===c-1)r=s-1,e=1;else if(!i.scrollOneDirection&&n===c-1&&0===o)r=0,e=s-l;else r=n+1,e=-1;m++,a.animate(i.isVertical?{top:-1*r*p}:{left:-1*r*d},this.duration,'easeOutQuad',function(){if(m--,e>-1)h();});}}});}if(u=u.clone(),f=f.clone(),a.prepend(f),a.append(u),!i.isVertical)a.css({width:s*d,left:-1*d});else a.css({height:s*p,top:-1*p});}},e.defaultOptions={duration:300,trigger:'click',isVertical:!1,scrollOneDirection:!1,loop:!0,delay:5000},e;}),define('common/component/VideoDialog_031b44a844',['require','cobble/ui/Dialog'],function(require){'use strict';function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=require('cobble/ui/Dialog');return e.prototype={init:function(){var e=this,i=new t({width:e.videoWidth,skinClass:'video-dialog',title:e.title,content:'<iframe src="'+e.url+'" style="width:'+e.videoWidth+'px;height:'+e.videoHeight+'px;border:0" frameborder="no" border="0"></iframe>'});e.dialog=i;},show:function(){this.dialog.show();}},e.defaultOptions={videoWidth:676,videoHeight:383},e;}),define('common/eventEmitter_8bcc038860',['require','exports'],function(require,exports){var e=$({});exports.emit=function(){e.trigger.apply(e,arguments);},exports.on=function(){e.on.apply(e,arguments);},exports.un=function(){e.off.apply(e,arguments);},exports.once=function(){e.one.apply(e,arguments);};}),define('common/function/getAdMonitorUrl_4b5526f5c9',['require','exports','cobble/util/url','cobble/util/cookie'],function(require){'use strict';var e,t=require('cobble/util/url'),i=require('cobble/util/cookie');return function(n,o,r){if(!n)return null;var a=n.indexOf('?'),c={};if(-1!=a)c=n.substring(a),c=t.parseQuery(c);else n+='?';if(o){if(!e)e=i.get('PHPSESSID');c.uuid=e;}if(r&&r.length>0){var l={p:c.p||'',c:r.join(',')};c=l;}var s=Math.ceil(Math.random()*Math.pow(10,13));return $.extend(c,{_:s}),c=$.param(c),n=n.replace(/\?.*$/,'?'+c);};}),define('common/lazyImage_92160e3789',['require','common/bindScroll_f2ce0a166a','cobble/util/instance','cobble/function/viewportHeight'],function(require){'use strict';function e(e){if(!e.prop('loading'))e.prop('loading',!0).addClass('img-loading');}function t(e){for(var t=e.height();!t;)e=e.parent(),t=e.height();return t;}var i=require('common/bindScroll_f2ce0a166a'),n=require('cobble/util/instance'),o=require('cobble/function/viewportHeight'),r=n.window,a=n.body,c=0,l=null,exports={init:function(e){i(e||r,exports.scanning,c),exports.scanning(!0),setTimeout(function(){r.scroll();},0);},scanning:function(i,n){var c=o(),s=r.scrollTop(),u=s+c;if(i)n=n?$(n):a,l=n.find('img[data-src]');l.each(function(){var i=$(this),n=i.offset().top,o=t(i);if(u>=n-o-c&&n+o+c>=s){if(!i.prop('loaded'))i.prop('src',i.data('src')).prop('loaded',!0).removeAttr('data-src').removeClass('img-loading');}else e(i);});var f=n.find('iframe'),d=f.length;if(d)for(var p,m=0;d>m;m++){var h=f[m],g=$(h).offset();p=$(f[m].contentWindow.document).find('img[data-src]'),p.each(function(){var i=$(this),n=i.offset().top+g.top,o=t(i);if(u>=n&&n+o+c>=s){if(!i.prop('loaded'))i.prop('src',i.data('src')).prop('loaded',!0).removeAttr('data-src').removeClass('img-loading');}else e(i);});}}};return exports;}),define('main/mods/ad_55e2fcc7fd',['require','exports','cobble/util/etpl','common/service_9c322508d3','common/store_a1a35b3dfc','common/component/Slider_e976f1c044','common/eventEmitter_8bcc038860'],function(require,exports){function e(e){WAT.send(e);}function t(t){t.on('click','a[data-click-monitor]',function(){e($(this).data('click-monitor'));});}function i(i,n){if(!n||0==n.length)return!1;else return i.html(d({ads:n})),new s({element:i,itemSelector:'.special-ad-item',duration:150,isVertical:!0,scrollOneDirection:!0,onChange:function(t,i){var n=$('.special-ad-item:eq('+(+i.to+1)+')',this.element);if(!n.data('is-pv'))n.data('is-pv','1'),e($('a',n).data('monitor'));}}),void t(i);}function n(){var e,t,n={},o=[];$('.special-wrapper [data-ad-id]').each(function(i,r){e=$(r),t=e.data('ad-id'),o.push(t),n[t]=e;}),c.fetchadvertisement({adId:o.join(','),cityId:l.get('cityId')}).done(function(e){var t=e.data;$.each(o,function(e,o){i(n[o],t[o]);});});}function o(){var i=$('.ad-banner-wrapper'),n=i.data('ad-id');c.fetchadvertisement({adId:n,cityId:l.get('cityId')}).done(function(o){if(!o.status){var r=o.data[n];if(r&&r[0])i.html(p({ad:r[0]})),e($('a',i).data('monitor')),t(i);}u.emit('ad.banner.ready');});}function r(){var e=($('.main-banner-promotion'),['5','6','7','8','9','10','11']);c.fetchadvertisement({adId:e.join(','),cityId:l.get('cityId')}).done(function(e){if(e&&!e.status){var t=e.data;if(!t)u.emit('ad-promotion-data-fail');else u.emit('ad-promotion-data',t);}else u.emit('ad-promotion-data-fail');}).fail(function(){u.emit('ad-promotion-data-fail');});}var a=require('cobble/util/etpl'),c=require('common/service_9c322508d3'),l=require('common/store_a1a35b3dfc'),s=require('common/component/Slider_e976f1c044'),u=require('common/eventEmitter_8bcc038860'),f='<a href="${ad.click}" data-click-monitor="${ad.clickMonitor}" data-monitor="${ad.monitor}" target="_blank"><img alt="${ad.hover}" src="${ad.material}" width="1190" height="90" title="${ad.hover}"/></a>',d=a.compile($('#ad-text-template').html()),p=a.compile(f);exports.init=function(e){if(a.addFilter('usehot',function(e){return-1==e.indexOf('teacher')&&-1==e.indexOf('organization');}),r(),'sougou'!=e)o(),n();};}),define('main/mods/floor_b18c9d8414',['require','exports','cobble/function/viewportWidth','cobble/function/viewportHeight','common/bindScroll_f2ce0a166a','cobble/util/instance','common/eventEmitter_8bcc038860'],function(require,exports){function e(e,i){var n=!0,o=1000;c(u,function(){if(u.scrollTop()>o)e.show(),n&&t(i);else e.hide();}),e.on('click','.floor-item',function(){var e,t=$(this),i=t.data('floor-index');if(n=!1,t.siblings().removeClass('active'),0!=i)t.addClass('active'),e=$('[data-floor="'+i+'"]').offset().top;else e=0;setTimeout(function(){$('html, body').stop().animate({scrollTop:e+'px'},1000,function(){n=!0;});},0);});}function t(e){for(var t,i=e.length,n=u.scrollTop()+o;i--&&(t=e[i],!(n>=t.offsetTop)););if(n>=t.offsetTop)t.nav.addClass('active').siblings().removeClass('active');else t.nav.removeClass('active').siblings().removeClass('active');}function i(e){e=e||[],$('.floor-wrapper .floor-list .floor-item').not('.last').each(function(t){var i=$(this);e.push({offsetTop:$('[data-floor="'+i.data('floor-index')+'"]').offset().top-t*p,nav:i});});}function n(e){var t=r(),i=(t-m)/2-d-2;if(i>10)i-=10;if(0>i)i=0;e.css({left:i});}var o,r=require('cobble/function/viewportWidth'),a=require('cobble/function/viewportHeight'),c=require('common/bindScroll_f2ce0a166a'),l=require('cobble/util/instance'),s=require('common/eventEmitter_8bcc038860'),u=l.window,f=296,d=42,p=42,m=1190;exports.init=function(){var r=this;o=(a()-f)/2,n(r),function(){var e=null,t=function(){o=(a()-f)/2,n(r);},i=u[0].setTimeout,c=u[0].clearTimeout;u.on('resize',function(){c(e),e=i(t,0);});}();var c=[];i(c),e(r,c),t(c),s.on('ad.banner.ready',function(){c.length=0,i(c);});};}),define('main/mods/hotLive_24dfbd27f4',['require','exports','common/service_9c322508d3','cobble/util/etpl','common/lazyImage_92160e3789','common/store_a1a35b3dfc','cobble/util/cookie'],function(require,exports){function e(e,t){for(var i,n=e.length-1;n>=0;n--)i=e[n],e[n].log_url=n+1+','+i.number+','+t+','+i.is_cms;}function t(t,i){var n={isCurrent:!0,list:i.today,qid:i.qid},o={isCurrent:!1,list:i.tomorrow,qid:i.qid};if(e(n.list,i.qid),e(o.list,i.qid),t.html(l({data:n})+l({data:o})),t.find('.week-item:eq(0)').addClass('active'),r.scanning(!0,t),n.list.length<=0)t.find('.week-title:eq(0)').addClass('hide');}function i(e){e.find('.list-wrapper .week-item').hover(function(){var e=$(this);if(!e.hasClass('active'))$('.list-wrapper .week-item.active').removeClass('active'),e.addClass('active');}),e.find('.list-wrapper').mouseover(function(){var e=$(this);e.addClass('hover');}).mouseout(function(){var e=$(this);e.removeClass('hover');});}var n=require('common/service_9c322508d3'),o=require('cobble/util/etpl'),r=require('common/lazyImage_92160e3789'),a=require('common/store_a1a35b3dfc'),c=require('cobble/util/cookie'),l=o.compile($('#hot-live-template').html());o.addFilter('truncate',function(e,t){if(e.length>t)return e.substring(0,t-1)+'...';else return e.substring(0,t);}),exports.init=function(){{var e=this;e.find('.now-week').data('qid');}n.getHotLiveList().done(function(n){if(!n.code){t($('.list-liner',e),n.data),i(e);var o='http://click.genshuixue.com/sl.gif',r=[];e.find('.week-list .week-item').each(function(e,t){r.push($(t).data('num'),$(t).data('cms'));});var a={type:'search',stype:'index_page_hot_online',qid:e.find('.now-week').data('qid'),data:r.join()};WAT.send(o,a);}}),e.on('click','[log]',function(){var e=$(this),t=(e.closest('.org-list-wrapper').prev('.special-wrapper'),'http://click.genshuixue.com/w.gif'),i=e.attr('log'),n=i.split(','),o=n[0],r=n[1],l=n[2],s=n[3],u=c.get('PHPSESSID'),f=new Date().getTime(),d=a.get('user').id?a.get('user').id:-1,p={type:'search',stype:'index_page_hot_online',rank:o,item_id:r,qid:l,item_type:s,uid:u,t:f,user_id:d};WAT.send(t,p);});};}),define('main/mods/preferentialCourse_02e54c6f2c',['require','exports','common/store_a1a35b3dfc','cobble/util/cookie'],function(require,exports){var e=require('common/store_a1a35b3dfc'),t=require('cobble/util/cookie');exports.init=function(){function i(e,t,i){var n=[];e.find('.media-item').each(function(e,t){n.push($(t).data('num'),$(t).data('cms'));});var o={type:'search',stype:t,qid:i,data:n.join()};WAT.send('http://click.genshuixue.com/sl.gif',o);}var n=this,o=$('.preferent-right',n);o.find('.list-category').on('click','.category-item',function(){var e=$(this);if(!e.hasClass('active'))e.addClass('active').siblings().removeClass('active'),o.find('.media-list').removeClass('active').filter('.'+e.data('nav-for')).addClass('active');}),$('.teacher-banner a[data-monitor]',n).each(function(e,t){WAT.send($(t).data('monitor'));}),$('.teacher-banner a[data-click-monitor]',n).click(function(){WAT.send($(this).data('click-monitor'));});var r=o.find('.teacher-list'),a=o.find('.course-list'),c=o.find('.org-list');i(r,'index_page_top_teacher',r.data('qid')),i(a,'index_page_top_course',a.data('qid')),i(c,'index_page_top_org',c.data('qid')),n.on('click','[log]',function(){var i,n=$(this),o=n.parent().attr('class').split(' ')[1];if('teacher-list'==o)i='teacher';else if('course-list'==o)i='course';else if('org-list'==o)i='org';var r='http://click.genshuixue.com/w.gif',a=n.attr('log'),c=a.split(','),l=c[0],s=c[1],u=c[2],f=c[3],d=t.get('PHPSESSID'),p=new Date().getTime(),m=e.get('user').id?e.get('user').id:-1,h={type:'search',stype:'index_page_top_'+i,rank:l,item_id:s,qid:u,item_type:f,uid:d,t:p,user_id:m};WAT.send(r,h);});};}),define('main/mods/recommendTeacher_2cbf46509f',['require','exports','common/service_9c322508d3','cobble/util/etpl','common/lazyImage_92160e3789','cobble/util/cookie','common/store_a1a35b3dfc'],function(require,exports){function e(){return n.compile($('#recommend-teacher-template').html());}function t(e){i.getRecommendTeachers({offset:c}).done(function(t){if(!t.code)e(t),c+=5;});}var i=require('common/service_9c322508d3'),n=require('cobble/util/etpl'),o=require('common/lazyImage_92160e3789'),r=require('cobble/util/cookie'),a=require('common/store_a1a35b3dfc'),c=0;n.addFilter('toText',function(e){if(-1==e)return'30';else return e+'';}),exports.init=function(){var i=this,n=$('.teacher-list',i),c=e(),l=function(e){n.html(c({teachers:e.data})),o.scanning(!0,n);};i.find('.refresh').on('click',function(){t(l);}),n.on('click','.link-wrapper',function(){var e=$(this),t=e.data('monitorTid'),i=e.data('index')+1,n=a.get('user').number,o=e.data('qid');WAT.send('http://click.genshuixue.com/w.gif',{type:'search',stype:'teacher_recommend',rank:i,uid:r.get('__track_id__'),item_id:t,qid:o,user_id:n});}),t(l);};}),define('main/mods/special_229acd6e12',['require','exports','common/component/Slider_e976f1c044','common/component/VideoDialog_031b44a844','cobble/util/cookie','common/store_a1a35b3dfc'],function(require,exports){function e(e){return new t({element:e,itemSelector:'.comment-item',scrollOneDirection:!0,duration:10000});}var t=require('common/component/Slider_e976f1c044'),i=require('common/component/VideoDialog_031b44a844'),n=require('cobble/util/cookie'),o=require('common/store_a1a35b3dfc');exports.init=function(){function t(e,t,i){var a=[];r.find(e).each(function(e,t){a.push($(t).data('num'),$(t).data('cms'));});var c={type:'search',stype:t,qid:i,uid:n.get('PHPSESSID')?n.get('PHPSESSID'):'',user_id:o.get('user').id?o.get('user').id:-1,t:new Date().getTime(),data:a.join()};WAT.send('http://click.genshuixue.com/sl.gif',c);}var r=this;e($('.comment-list',r)),r.on('click','.icon-play-oo',function(){var e=$(this);return new i({url:e.data('video'),title:''}),!1;}),r.on('click','[log]',function(){var e=$(this),t=e.closest('.special-wrapper'),i='http://click.genshuixue.com/w.gif',r=e.attr('log'),a=r.split(',');console.log(a);var c=a[0],l=a[1],s=a[2],u=a[3],f=n.get('PHPSESSID'),d=new Date().getTime(),p=o.get('user').id?o.get('user').id:-1,m={type:'search',stype:'index_page_'+t.data('floor')+'_'+e.data('type'),rank:c,item_id:l,qid:s,item_type:u,uid:f,t:d,user_id:p};WAT.send(i,m);}),r.next('.org-list-wrapper').on('click','[log]',function(){var e=$(this),t=e.closest('.org-list-wrapper').prev('.special-wrapper'),i='http://click.genshuixue.com/w.gif',r=e.attr('log'),a=r.split(','),c=a[0],l=a[1],s=a[2],u=a[3],f=n.get('PHPSESSID'),d=new Date().getTime(),p=o.get('user').id?o.get('user').id:-1,m={type:'search',stype:'index_page_'+t.data('floor')+'_4',rank:c,item_id:l,qid:s,item_type:u,uid:f,t:d,user_id:p};WAT.send(i,m);});var a=r.data('floor'),c=r.data('qid');t('.course-media-list .course-media','index_page_'+a+'_1',c.media_list),t('.course-recommend-list li','index_page_'+a+'_2',c.latest_courses),t('.special-right-content .hot-list li','index_page_'+a+'_3',c.hot_teachers);var l=r.next('.org-list-wrapper').find('.org-list .org-logo');t(l,'index_page_'+a+'_4',c.org_list);};}),define('navigation/sougou/ad',['require','exports','cobble/ui/Carousel','cobble/helper/Switchable','cobble/ui/ScrollBar','common/service_9c322508d3','common/store_a1a35b3dfc','common/component/Slider_e976f1c044','common/function/getAdMonitorUrl_4b5526f5c9','cobble/util/url','main/mods/ad_55e2fcc7fd','cobble/util/etpl','common/component/ClickMonitor_2ea1c7c842','common/eventEmitter_8bcc038860','main/mods/special_229acd6e12','main/mods/hotLive_24dfbd27f4','main/mods/floor_b18c9d8414','main/mods/recommendTeacher_2cbf46509f','main/mods/preferentialCourse_02e54c6f2c'],function(require,exports){'use strict';function e(e){var t,i={material:window.require.toUrl('../../img/main/slider_top_default_dfa8f2ee4b.jpg'),click:'http://ju.genshuixue.com',monitor:'',clickMonitor:'',hover:''},n=$('.promotion-slider-container');if(!e||!e.length)e=[i];for(var o=e.length-1;o>=0;o--)if(t=e[o],!t.material)e[o]=i;else if(!t.click)t.click='javascript:void(0);';n.html(v({promotionList:e})),new u({element:$('.promotion-slider-container'),itemSelector:'.promotion-slideritem',iconSelector:'.promotion-slider-navitem',prevSelector:'.promotion-slider-left',nextSelector:'.promotion-slider-right',duration:150,delay:8000,onChange:function(e,t){a(n.find('.promotion-slideritem'),t.to);}});}function t(e){var t={material:window.require.toUrl('../../img/main/banner_top_default_646586856d.jpg'),click:'http://www.genshuixue.com/static/windows',monitor:'',clickMonitor:'',hover:''},i=$('.promotion-right-banner');if(!e||!e.length||!e[0].material)e=t;if(e[0]&&e[0].material)if(e=e[0],!e.click)e.click='javascript:void(0);';i.html(b({data:e}));}function i(e){var t={material:window.require.toUrl('../../img/main/city/guding/shipin_763c294725.png'),click:'http://www.genshuixue.com/activity/center?id=43?source=gsx_shipinke2_pc',monitor:'',clickMonitor:'',hover:''},i=$('.bottom-right-banner');if(!e||!e.length||!e[0].material)e=t;if(e&&e[0]&&e[0].material)if(e=e[0],!e.click)e.click='javascript:void(0);';i.html(b({data:e}));}function n(e){var t,i=$('.bottom-slider-container'),n=function(e,t,i,n){var o;if(e&&e.length||n){for(var r=e.length;t>r;r++)e.push(i);for(r=t-e.length-1;r>=0;r--)o=e[r],o.cls=i.cls,!o.click&&(o.click='javascript:void(0);'),!o.material&&(e[r]=i);}return e;},o=function(e){var t=!0;if(e&&e.length)for(var i=e.length-1;i>=0;i--)if(e[i].material)return!1;return t;},r={6:{material:window.require.toUrl('../../img/main/city/guding/banner_Henry-yeh_130x180_54ed84d028.jpg'),click:'http://www.genshuixue.com/teacher/classCourseDetail?number=150417549130',monitor:'',clickMonitor:'',hover:'',cls:'style1'},7:{material:window.require.toUrl('../../img/main/city/guding/shoudan300_e296b2e646.jpg'),click:'http://ju.genshuixue.com/',monitor:'',clickMonitor:'',hover:'',cls:'style2'},8:{material:window.require.toUrl('../../img/main/city/guding/shoudan300_e296b2e646.jpg'),click:'http://ju.genshuixue.com/',monitor:'',clickMonitor:'',hover:'',cls:'style2'},9:{material:window.require.toUrl('../../img/main/city/beijing/banner_logos_huanyuhongze_130x60_4e33e93d05.jpg'),click:'http://gicorg.genshuixue.com/',monitor:'',clickMonitor:'',hover:'',cls:'style3'}},c=[];if(!o(t=e[6]))c.push(n(t,4,r[6]));if(!o(t=e[7]))c.push(n(t,2,r[7]));if(!o(t=e[8]))c.push(n(t,2,r[8]));if(!o(t=e[9]))c.push(n(t,12,r[9],!0));return i.html(y({sliderList:c})),new u({element:$('.bottom-slider-container'),itemSelector:'.bottom-slideritem',iconSelector:'.bottom-slider-navitem',prevSelector:'.bottom-slider-left',nextSelector:'.bottom-slider-right',duration:150,delay:8000,onChange:function(e,t){a(i.find('.bottom-slideritem'),t.to);}});}function o(){var e=s.get('user')||{},t=s.get(),i={user_number:e.number||'',user_role:e.type||'',city_id:t.cityId},n=function(e){var t,i={},n='monitor',o=e.data();for(var r in o)if(0===r.indexOf(n))if(t=r.substring(n.length).toLowerCase())i[t]=o[r];return i._timestamp=new Date().getTime(),i;};return new h({selector:'.click-monitor',monitorUrl:'//pb0.genshuixue.com/gs.gif',defaultParams:i,useDataHref:!1,isSend:'www'===s.get('env'),interceptor:n});}function r(){l.on('click','.main-banner [data-click-monitor]',function(){var e=$(this).data('click-monitor');return c(e,!0),!0;});}function a(e,t){var i=e.filter('[data-index="'+t+'"]'),n=i.find('img');if(i.data('reported'))n.each(function(e,t){c($(t).data('monitor'));});else{if(i.data('combine')){var o,r=$.map(n,function(e){var t=$(e).data('monitor');if(t){o=t;var i=-1!=t.indexOf('?')?t.substring(t.indexOf('?')):'',n=d.parseQuery(i);return n.c;}});c(o,!0,r);}else n.each(function(e,t){c($(t).data('monitor'),!0);});i.data('reported',!0);}}function c(e,t,i){if(e){var n=e.replace(/^http:\/\//,'//');if(t)if(n){n=f(n,!0,i);var o=new Image(),r=x.push(o)-1;o.onload=o.onerror=function(){o=o.onload=o.onerror=null,delete x[r];},o.src=n;}}}var l,s=(require('cobble/ui/Carousel'),require('cobble/helper/Switchable'),require('cobble/ui/ScrollBar'),require('common/service_9c322508d3'),require('common/store_a1a35b3dfc')),u=require('common/component/Slider_e976f1c044'),f=require('common/function/getAdMonitorUrl_4b5526f5c9'),d=require('cobble/util/url'),p=require('main/mods/ad_55e2fcc7fd'),m=require('cobble/util/etpl'),h=require('common/component/ClickMonitor_2ea1c7c842'),g=require('common/eventEmitter_8bcc038860');require('main/mods/special_229acd6e12'),require('main/mods/hotLive_24dfbd27f4'),require('main/mods/floor_b18c9d8414'),require('main/mods/recommendTeacher_2cbf46509f'),require('main/mods/preferentialCourse_02e54c6f2c');var v=m.compile($('#ad-5-template').html()),b=m.compile($('#ad-10-template').html()),y=m.compile($('#ad-6-to-9-template').html()),x=[];exports.init=function(){l=$('#main'),g.on('ad-promotion-data',function(a,c){e(c[5]),t(c[10]),n(c),i(c[11]),r(),o(),$('.main-banner-promotion.loading').removeClass('loading');}),p.init('sougou');};});