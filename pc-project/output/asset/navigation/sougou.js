define('cobble/form/Select',['require','exports','module','../ui/ComboBox','../function/jquerify','../function/lifeCycle'],function(require){'use strict';function e(e){return i.init(this,e);}var t=require('../ui/ComboBox'),n=require('../function/jquerify'),i=require('../function/lifeCycle');return e.prototype={constructor:e,type:'Select',init:function(){var e=this,n=e.element,i='<input type="hidden" name="'+e.name+'"';if(null!=e.value)i+=' value="'+e.value+'"';if(n.attr('required'))i+=' required';i+=' />';var o=e.input=$(i);n.append(o),e.comboBox=new t({element:n,button:n.find(e.buttonSelector),menu:n.find(e.menuSelector),data:e.data,value:e.value,show:e.show,hide:e.hide,defaultText:e.defaultText,template:e.template,renderTemplate:e.renderTemplate,activeClass:e.activeClass,openClass:e.openClass,setText:$.proxy(e.setText,e),onChange:function(t,n){if(e.setValue(n.value),!e.silence)e.emit('change',n);},onAfterShow:function(){n.trigger('focusin');},onAfterHide:function(){n.trigger('focusout');}});},disable:function(){var e=this,t=e.element;t.find(e.buttonSelector).prop('disabled',!0);},enable:function(){var e=this,t=e.element;t.find(e.buttonSelector).prop('disabled',!1);},getValue:function(){return this.value;},setValue:function(e,t){var n=this;if(t=t||{},t.force||e!=n.value)n.value=e,n.input.val(null==e?'':e),n.silence=t.silence,n.comboBox.setValue(e),delete n.silence;},refresh:function(e){this.comboBox.refresh(e);},dispose:function(){var e=this;i.dispose(e),e.comboBox.dispose(),e.input=e.element=e.comboBox=null;}},n(e.prototype),e.defaultOptions={defaultText:'请选择',buttonSelector:'.btn-default',menuSelector:'.dropdown-menu',labelSelector:'.btn-default span',activeClass:'active',openClass:'open',renderTemplate:function(e){var t=[];return $.each(e,function(e,n){var i=[];$.each(n,function(e,t){if('text'!==e&&null!=t)i.push('data-'+e+'="'+t+'"');}),t.push('<li '+i.join(' ')+'>'+n.text+'</li>');}),t.join('');},setText:function(e){this.element.find(this.labelSelector).html(e);}},e;}),define('cobble/function/contains',['require','exports','module'],function(){'use strict';return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t);};}),define('cobble/function/debounce',['require','exports','module'],function(){'use strict';return function(e,t){t='number'===$.type(t)?t:50;var n;return function(){if(!n){var i=arguments;n=setTimeout(function(){n=null,e.apply(null,$.makeArray(i));},t);}};};}),define('cobble/function/decimalLength',['require','exports','module'],function(){'use strict';return function(e){var t=(''+e).split('.');return 2===t.length?t[1].length:0;};}),define('cobble/function/disableSelection',['require','exports','module'],function(){'use strict';var e=$('<i></i>')[0],t='onselectstart'in e,n='MozUserSelect'in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=function(){return!1;};};if(n)return function(e){e=e||document.body,e.style.MozUserSelect='none';};else return $.noop;}),define('cobble/function/divide',['require','exports','module','./decimalLength','./float2Int'],function(require){'use strict';var e=require('./decimalLength'),t=require('./float2Int');return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),n/ i;};}),define('cobble/function/dragGlobal',['require','exports','module','../helper/Draggable','../util/instance','../util/dimension','./pin'],function(require){'use strict';{var e=require('../helper/Draggable'),t=require('../util/instance'),n=require('../util/dimension');require('./pin');}return function(i){return new e({element:i.element,container:t.body,draggingClass:i.draggingClass,handleSelector:i.handleSelector,cancelSelector:i.cancelSelector,rect:function(){var e=i.fixed,t=i.scrollable;return{x:e||t?0:n.getPageScrollLeft(),y:e||t?0:n.getPageScrollTop(),width:e||!t?n.getViewportWidth():n.getPageWidth(),height:e||!t?n.getViewportHeight():n.getPageHeight()};}});};}),define('cobble/function/enableSelection',['require','exports','module'],function(){'use strict';var e=$('<i></i>')[0],t='onselectstart'in e,n='MozUserSelect'in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=null;};if(n)return function(e){e=e||document.body,e.style.MozUserSelect='';};else return $.noop;}),define('cobble/function/eventOffset',['require','exports','module'],function(){'use strict';return function(e){var t=e.offsetX,n=e.offsetY;if('number'!=typeof t){var i=e.target.getBoundingClientRect();t=e.clientX-i.left,n=e.clientY-i.top;}return{x:t,y:n};};}),define('cobble/function/float2Int',['require','exports','module'],function(){'use strict';return function(e,t){var n,i=(''+e).split('.');if(t>=0);else t=0;if(1===i.length)n=e+new Array(t+1).join('0');else t=Math.max(0,t-i[1].length),n=i.join('')+new Array(t+1).join('0');return+n;};}),define('cobble/function/innerOffset',['require','exports','module','./toNumber'],function(require){'use strict';var e=require('./toNumber');return function(t){var n=t.offset(),i=t.css('border-left-width'),o=t.css('border-top-width');return{left:n.left+e(i,0,'int'),top:n.top+e(o,0,'int')};};}),define('cobble/function/isHidden',['require','exports','module'],function(){'use strict';return function(e){e.css('display');return'none'===e.css('display')||0==e.css('opacity')||'hidden'===e.css('visibility');};}),define('cobble/function/jquerify',['require','exports','module'],function(){'use strict';function e(e){return e.faker||e.element;}var t=$.prototype,n={on:function(){return t.on.apply(e(this),arguments),this;},off:function(){return t.off.apply(e(this),arguments),this;},emit:function(n,i){var o=this,r=e(o);if(r){if(!n[$.expando])n='string'===$.type(n)?$.Event(n):$.Event(null,n);n.cobble=o;var a=[n];if(i)a.push(i);var c=o[$.camelCase('on-'+n.type)];if($.isFunction(c)&&c.apply(o,a)===!1)n.preventDefault();if(!n.isPropagationStopped())t.trigger.apply(r,a);return n;}},before:function(t){e(this).before(t);},after:function(t){e(this).after(t);},appendTo:function(t){e(this).appendTo(t);},prependTo:function(t){e(this).prependTo(t);}};return function(e){$.each(n,function(t,n){if(null==e[t])e[t]=n;});};}),define('cobble/function/lifeCycle',['require','exports'],function(require,exports){'use strict';exports.init=function(e,t){var n=e.constructor,i='__cobble__'+n.prototype.type,o=t.element;if(o&&o.data(i))e=o.data(i);else if($.extend(e,n.defaultOptions,t),e.init(),o)o.data(i,e);return e;},exports.dispose=function(e){var t='__cobble__'+e.constructor.prototype.type,n=e.element;if(n)n.removeData(t);};}),define('cobble/function/multiply',['require','exports','module','./decimalLength','./float2Int'],function(require){'use strict';var e=require('./decimalLength'),t=require('./float2Int');return function(n,i){var o=Math.max(e(n),e(i));n=t(n,o),i=t(i,o);var r=Math.pow(10,o);return n*i/(r*r);};}),define('cobble/function/offsetParent',['require','exports','module'],function(){'use strict';function e(e){return e.is('body')||'static'!==e.css('position');}return function(t){if(t.is('body'))return t;for(var n=t.parent();!e(n);)n=n.parent();return n;};}),define('cobble/function/outerOffset',['require','exports','module','./toNumber'],function(require){'use strict';var e=require('./toNumber');return function(t){var n=t.offset(),i=e(t.css('margin-left'),0,'int'),o=e(t.css('margin-top'),0,'int');return{left:n.left-i,top:n.top-o};};}),define('cobble/function/page',['require','exports','module','../util/instance'],function(require){'use strict';var e=require('../util/instance');return function(){if(e.body.prop('clientHeight')<e.html.prop('clientHeight'))return e.html;else return e.body;};}),define('cobble/function/pageHeight',['require','exports','module','./page'],function(require){'use strict';var e=require('./page');return function(){var t=e()[0];return Math.max(t.scrollHeight,t.clientHeight);};}),define('cobble/function/pageScrollLeft',['require','exports','module'],function(){'use strict';return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);};}),define('cobble/function/pageScrollTop',['require','exports','module'],function(){'use strict';return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop);};}),define('cobble/function/pageWidth',['require','exports','module','./page'],function(require){'use strict';var e=require('./page');return function(){var t=e()[0];return Math.max(t.scrollWidth,t.clientWidth);};}),define('cobble/function/parsePercent',['require','exports','module','./divide'],function(require){'use strict';var e=require('./divide'),t=/(-?\d+(\.\d+)?)%/;return function(n){if(t.test(n))return e(RegExp.$1,100);else return void 0;};}),define('cobble/function/pin',['require','exports','module','../util/instance','./parsePercent'],function(require){'use strict';function e(e){var t=o[e.x];if(null==t)t=e.x;if('string'===$.type(t)){var n=i(t);if(null!=n)t=n*(e.width||e.element.outerWidth());}return t;}function t(e){var t=o[e.y];if(null==t)t=e.y;if('string'===$.type(t)){var n=i(t);if(null!=n)t=n*(e.height||e.element.outerHeight());}return t;}var n=require('../util/instance'),i=require('./parsePercent'),o={left:0,top:0,center:'50%',middle:'50%',right:'100%',bottom:'100%'};return function(i){var o=i.element,r=i.attachment||{};if(!r.element)r.element=n.body;var a=r.element.offset(),c=a.left+e(r),l=a.top+t(r),s=c-e(i),u=l-t(i),f=i.offset;if(f){if('number'===$.type(f.x))s+=f.x;if('number'===$.type(f.y))u+=f.y;}var d={left:s,top:u},p=o.css('position');if('absolute'!==p&&'fixed'!==p)d.position='absolute';if(i.silence)return d;else o.css(d);};}),define('cobble/function/pinGlobal',['require','exports','module','./pin','../util/dimension','../function/viewport'],function(require){'use strict';var e=require('./pin'),t=require('../util/dimension'),n=require('../function/viewport');return function(i){var o={silence:!0,element:i.element,x:'50%'===i.x?'50%':0,y:'50%'===i.y?'50%':0,attachment:{element:n(),width:t.getViewportWidth(),height:t.getViewportHeight(),x:i.x,y:i.y}};if(!i.fixed)o.offset={x:t.getPageScrollLeft(),y:t.getPageScrollTop()};return e(o);};}),define('cobble/function/position',['require','exports','module','./offsetParent'],function(require){'use strict';var e=require('./offsetParent');return function(t){var n=e(t),i=t.css('position'),o=parseInt(t.css('left'),10),r=parseInt(t.css('top'),10),a=isNaN(o),c=isNaN(r);if(a||c)if(1===n.length){var l=t.offset(),s=n.offset();if(a)o=l.left-s.left-(parseInt(n.css('border-left-width'),10)||0);if(c)r=l.top-s.top-(parseInt(n.css('border-top-width'),10)||0);}else o=r=0;if(!i||'static'===i)i='absolute';return{position:i,left:o,top:r};};}),define('cobble/function/restrain',['require','exports','module'],function(){'use strict';return function(e,t,n){if(t>e)e=t;else if(e>n)e=n;return e;};}),define('cobble/function/split',['require','exports','module'],function(){'use strict';return function(e,t){var n=[];return $.each(e.split(t),function(e,t){if(t=$.trim(t))n.push(t);}),n;};}),define('cobble/function/toNumber',['require','exports','module'],function(){'use strict';var e={'int':parseInt,'float':parseFloat};return function(t,n,i){if('number'!==$.type(t)){var o=e[i];if(t=o?o(t,10):+t,isNaN(t))t=n;}return t;};}),define('cobble/function/viewport',['require','exports','module','../util/instance'],function(require){'use strict';var e=require('../util/instance');return function(){if(e.body.prop('clientHeight')>e.html.prop('clientHeight'))return e.html;else return e.body;};}),define('cobble/function/viewportHeight',['require','exports','module'],function(){'use strict';return function(){return window.innerHeight||document.documentElement.clientHeight;};}),define('cobble/function/viewportWidth',['require','exports','module'],function(){'use strict';return function(){return window.innerWidth||document.documentElement.clientWidth;};}),define('cobble/helper/Draggable',['require','exports','module','../function/page','../function/toNumber','../function/restrain','../function/position','../function/contains','../function/jquerify','../function/lifeCycle','../function/innerOffset','../function/outerOffset','../function/pageScrollLeft','../function/pageScrollTop','../function/enableSelection','../function/disableSelection','../util/instance','../util/mouse'],function(require){'use strict';function e(e){return s.init(this,e);}function t(e){var t=y(e),n=b(e);if(S.left!==t||S.top!==n){S.left=t,S.top=n;var i=e.data;if(1===++x){var o=i.draggingClass;if(o)i.element.addClass(o);i.emit('beforeDrag');}if(!i.silence)i.element.css(S);i.emit('drag',S);}}function n(e){m(),g.document.off(w);var t=e.data,n=t.draggingClass;if(n)t.element.removeClass(n);if(x>0)t.emit('afterDrag',S);x=y=b=null;}function i(e,t,n){var i=!1;if($.isArray(t))t=t.join(',');return e.find(t).each(function(){if(i=c(this,n))return!1;else return void 0;}),i;}var o=require('../function/page'),r=(require('../function/toNumber'),require('../function/restrain')),a=require('../function/position'),c=require('../function/contains'),l=require('../function/jquerify'),s=require('../function/lifeCycle'),u=require('../function/innerOffset'),f=require('../function/outerOffset'),d=require('../function/pageScrollLeft'),p=require('../function/pageScrollTop'),m=require('../function/enableSelection'),h=require('../function/disableSelection'),g=require('../util/instance'),v=require('../util/mouse');e.prototype={constructor:e,type:'Draggable',init:function(){var e=this,r=e.element;if(!e.container)e.container=o();r.css(a(r)),$.each(v,function(o,l){if(l.support)r.on(l.mousedown+w,function(s){var d=s.target,p=e.handleSelector,m=e.cancelSelector;if(!(p&&!i(r,p,d)||m&&i(r,m,d))){var v=k[o],$=f(r),_=v.absoluteX(s)-$.left,q=v.absoluteY(s)-$.top,T=e.container;if(c(T,r)){var P=u(T);_+=P.left,q+=P.top;}var O=a(r),D=O.position;S.left=O.left,S.top=O.top;var E=e.axis,R=e.getRectange(!0);y='y'===E?C.constant(S.left):C.change(v[D+'X'],_,R.x,R.x+R.width),b='x'===E?C.constant(S.top):C.change(v[D+'Y'],q,R.y,R.y+R.height),x=0,h(),g.document.on(l.mousemove+w,e,t).on(l.mouseup+w,e,n);}});});},getRectange:function(e){var t=this,n=t.rect;if($.isFunction(n))n=t.rect();if(e){var i=t.element,o=n.width-i.outerWidth(!0),r=n.height-i.outerHeight(!0);n.width=Math.max(0,o),n.height=Math.max(0,r);}return n;},setRectange:function(e){this.rect=e;},dispose:function(){var e=this;s.dispose(e),e.element.off(w),e.element=e.container=null;}},l(e.prototype),e.defaultOptions={rect:function(){var e=this,t=e.container,n={x:0,y:0,width:t.innerWidth(),height:t.innerHeight()};if(!c(t,e.element)){var i=u(t);n.x=i.left,n.y=i.top;}return n;}};var y,b,x,w='.cobble_helper_draggable',S={},C={constant:function(e){return function(){return e;};},change:function(e,t,n,i){return function(o){return r(e(o)-t,n,i);};}},k={};return $.each(v,function(e,t){if(t.support)k[e]={absoluteX:function(e){return t.clientX(e)+d();},absoluteY:function(e){return t.clientY(e)+p();},fixedX:function(e){return t.clientX(e);},fixedY:function(e){return t.clientY(e);}};}),e;}),define('cobble/helper/Popup',['require','exports','module','../function/split','../function/isHidden','../function/contains','../function/jquerify','../function/lifeCycle','../util/instance'],function(require){'use strict';function e(e){return k.init(this,e);}function t(e,t){$.each(e.showConfigList,function(n,i){i[t](e);});}function n(e,t){$.each(e.hideConfigList,function(n,i){i[t](e);});}function i(e,t){if(e)e.type=t;else e=t;return e;}function o(e){var t=e.currentTarget;return t&&'HTML'===t.tagName?null:t;}function r(e,t){return e.emit(i(t,'beforeShow'));}function a(e,i){return e.layer.data(D,o(i)),t(e,'off'),n(e,'on'),e.emit('afterShow');}function c(e,t){return e.emit(i(t,'beforeHide'));}function l(e){return e.layer.removeData(D),n(e,'off'),t(e,'on'),e.emit('afterHide');}function s(){return $.now();}function u(e){return'__'+e+'Handler__';}function f(e,t){return null==e[t];}function d(e,t){return e.layer.data(D)!==o(t);}function p(e,t,n){return!t||t(e,n);}function m(e,t){return t-e[O]>50;}function h(t,n){return function(i){var o=i.data,r=s(i);if(f(o,T)&&d(o,i)&&p(o,n,i))o[O]=r,v({popup:o,delay:o.show.delay,toggle:e.trigger.show[t].delay,timer:T,success:function(){var e=function(){o.open(i);},t=o[q];if(t)t.done(e);else e();}});};}function g(t,n){return function(i){var o=i.data,r=s(i);if(f(o,P)&&p(o,n,i)&&m(o,r))o[O]=r,o[q]=$.Deferred(),v({popup:o,delay:o.hide.delay,toggle:e.trigger.hide[t].delay,timer:P,success:function(){o.close(i),o[q].resolve();},fail:function(){o[q]=null;}});};}function v(e){var t=e.delay,n=e.success;if(t>0){var i=e.popup,o=e.timer,r=e.toggle||{},a=r.on||$.noop,c=r.off||$.noop,l=e.fail||$.noop,s=function(){clearTimeout(i[o]),c(i,u),i[o]=null;},u=function(e){var t=i[o];if(t)s();if(t&&e===O)n();else l();};a(i,u),i[o]=setTimeout(function(){u(O);},t);}else n();}function y(e){var t=this,n=t.type,i=t.handler,o=u(n);if(e[o]!==i)e.element.on(n,e.selector,e,i),e[o]=i;}function b(e){var t=this;if(!e.selector){var n=t.type;e.element.off(n,t.handler),e[u(n)]=null;}}var x=require('../function/split'),w=require('../function/isHidden'),S=require('../function/contains'),C=require('../function/jquerify'),k=require('../function/lifeCycle'),_=require('../util/instance');e.prototype={constructor:e,type:'Popup',init:function(){var i=this,o=i.showConfigList=[],r=i.hideConfigList=[],a=i.show.trigger,c=i.hide.trigger;if(a)$.each(x(a,','),function(t,n){var i=e.trigger.show[n];if(i)o.push(i);});if(c)$.each(x(i.hide.trigger,','),function(t,n){var i=e.trigger.hide[n];if(i)r.push(i);});if(i.hidden=w(i.layer))t(i,'on');else n(i,'on');},open:function(){var e=this,t=arguments[0];if(!t)e[O]=s();if(t=r(e,t),!t.isDefaultPrevented()){var n=e.layer,i=e.show.animation;if($.isFunction(i))i.call(e,n);else n.show();e.hidden=!1,a(e,t);}},close:function(){var e=this;if(!e.hidden){var t=arguments[0];if(!t)e[O]=s();if(t=c(e,t),!t.isDefaultPrevented()){var n=e.layer,i=e.hide.animation;if($.isFunction(i))i.call(e,n);else n.hide();e.hidden=!0,l(e);}}},dispose:function(){var e=this;k.dispose(e),e.close(),t(e,'off'),e.element=e.layer=null;}},C(e.prototype),e.defaultOptions={show:{trigger:'click'},hide:{trigger:'click'}};var q='__hidePromise__',T='__showTimer__',P='__hideTimer__',O='__lastTriggerTime__',D='__sourceElement__',E=function(e,t){if(!t)return!1;else return S(e.layer,t);};return e.trigger={show:{focus:{type:'focusin',handler:h('focus'),on:y,off:b},click:{type:'click',handler:h('click'),on:y,off:b},over:{type:'mouseenter',handler:h('over'),on:y,off:b,delay:{on:function(e,t){e.element.on('mouseleave',e.selector,t);},off:function(e,t){e.element.off('mouseleave',t);}}},context:{type:'contextmenu',handler:h('context'),on:y,off:b}},hide:{blur:{type:'focusout',handler:g('blur'),on:y,off:b},click:{type:'click',handler:function(){return g(this.type,function(e,t){return!E(e,t.target);});},on:function(e){var t=this;_.document.on(t.type,e,e.clickHandler=t.handler());},off:function(e){_.document.off(this.type,e.clickHandler);}},out:{type:'mouseleave',handler:g('out'),on:function(e){var t=this.type,n=this.handler;e.layer.on(t,e,n),e.element.on(t,e.selector,e,n);},off:function(e){var t=this.type,n=this.handler;e.element.off(t,n),e.layer.off(t,n);},delay:{on:function(e,t){e.element.on('mouseenter',e.selector,t),e.layer.on('mouseenter',t);},off:function(e,t){e.element.off('mouseenter',t),e.layer.off('mouseenter',t);}}},context:{type:'contextmenu',handler:function(){return g('context',function(e,t){return!E(e,t.target);});},on:function(e){var t=this;_.document.on(t.type,e,e.contextHandler=t.handler());},off:function(e){_.document.off(this.type,e.contextHandler);}}}},e;}),define('cobble/helper/Switchable',['require','exports','module','../function/jquerify','../function/lifeCycle','../function/toNumber'],function(require){'use strict';function e(e){return n.init(this,e);}var t=require('../function/jquerify'),n=require('../function/lifeCycle'),i=require('../function/toNumber');e.prototype={constructor:e,type:'Switchable',init:function(){var e=this,t=e.element,n=e.selector,a=e.items=t.find(n),c=i(e.index,r),l=e.activeClass;if(c===r&&l)c=a.index(t.find('.'+l));if(n){var s=e.trigger;if('click'===s)t.on('click'+o,n,function(){e.to(a.index(this));});else if('over'===s)t.on('mouseenter'+o,n,function(){var t=this;e.timer=setTimeout(function(){if(e.element)e.to(a.index(t));},150);}),t.on('mouseleave'+o,n,function(){if(e.timer)clearTimeout(e.timer),e.timer=null;});}if(e.index=r,c>=0)e.to(c);},to:function(e){var t=this;e=i(e,r);var n=t.index;if(e!==n){var o=t.activeClass,a=t.items;if(o){if(n>=0)a.eq(n).removeClass(o);if(e>=0)a.eq(e).addClass(o);}t.index=e,t.change({from:n,to:e});}},dispose:function(){var e=this;n.dispose(e),e.element.off(o),e.element=e.items=null;}},t(e.prototype),e.defaultOptions={index:0,trigger:'click'};var o='.cobble_helper_switchable',r=-1;return e;}),define('cobble/helper/Wheel',['require','exports','module','../function/lifeCycle','../function/jquerify','../util/instance'],function(require){'use strict';function e(e){return t.init(this,e);}var t=require('../function/lifeCycle'),n=require('../function/jquerify'),i=require('../util/instance');e.prototype={constructor:e,type:'Wheel',init:function(){var e=this;e.element.on(r+o,function(t){var n=0,i=t.originalEvent;if('mousewheel'===r)n=-i.wheelDelta/120;else n=i.detail/3;t.type='scroll',e.emit(t,{delta:n});});},dispose:function(){var e=this;t.dispose(e),e.element.off(o),e.element=null;}},n(e.prototype),e.defaultOptions={element:i.document};var o='.cobble_helper_wheel',r='onmousewheel'in i.body[0]?'mousewheel':'DOMMouseScroll';return e;}),define('cobble/ui/Carousel',['require','exports','module','../function/jquerify','../function/lifeCycle','../helper/Switchable'],function(require){'use strict';function e(e){return n.init(this,e);}var t=require('../function/jquerify'),n=require('../function/lifeCycle'),i=require('../helper/Switchable');e.prototype={constructor:e,type:'Carousel',init:function(){var e=this,t=e.element,n='click'+o,r='mouseenter'+o,a='mouseleave'+o,c=e.prevSelector;if(c)t.on(n,c,$.proxy(e.prev,e));var l=e.nextSelector;if(l)t.on(n,l,$.proxy(e.next,e));var s=e.autoPlay,u=e.itemSelector;if(s&&e.pauseOnHover)t.on(r,u,$.proxy(e.pause,e)).on(a,u,$.proxy(e.play,e));if(e.minIndex=0,e.maxIndex=t.find(u).length-1-(e.showCount-1),e.switcher=new i({element:t,index:e.index,trigger:e.trigger,selector:e.iconSelector,activeClass:e.activeClass,change:function(t){e.index=t.to,e.animation(t),e.emit('change',t);}}),s)e.play();},prev:function(){var e=this,t=e.index-e.step;if(t<e.minIndex)if(e.loop)t=e.maxIndex;else return;e.to(t);},next:function(){var e=this,t=e.index+e.step;if(t>e.maxIndex)if(e.loop)t=e.minIndex;else return;e.to(t);},to:function(e){var t=this;if(t.autoPlay)t.play(e);else t.switcher.to(e);},play:function(e){var t=this;if(t.autoPlay){if(t.playing)t.pause();if(t.playing=!0,t.playTimer=setTimeout($.proxy(t.next,t),t.delay),e!==t.index&&$.isNumeric(e))t.switcher.to(e);}},pause:function(){var e=this;if(e.autoPlay)if(e.playing=!1,e.playTimer)clearTimeout(e.playTimer),e.playTimer=null;},dispose:function(){var e=this;if(n.dispose(e),e.playing)e.pause();e.element.off(o),e.switcher.dispose(),e.element=e.switcher=null;}},t(e.prototype),e.defaultOptions={index:0,step:1,delay:5000,showCount:1,trigger:'over',loop:!0,autoPlay:!0,pauseOnHover:!0};var o='.cobble_ui_carousel';return e;}),define('cobble/ui/ComboBox',['require','exports','module','../function/jquerify','../function/lifeCycle','../helper/Popup'],function(require){'use strict';function e(e){return n.init(this,e);}var t=require('../function/jquerify'),n=require('../function/lifeCycle'),i=require('../helper/Popup');e.prototype={constructor:e,type:'ComboBox',init:function(){var e=this,t=e.button,n=e.menu,r=e.element||t,a=e.openClass,c=e.show,l=e.hide,s=c.animation;if($.isFunction(s))c.animation=$.proxy(s,e);if(s=l.animation,$.isFunction(s))l.animation=$.proxy(s,e);if(e.popup=new i({element:t,layer:n,show:c,hide:l,onBeforeShow:function(t){e.emit(t);},onBeforeHide:function(t){e.emit(t);},onAfterShow:function(t){if(a)r.addClass(a);e.emit(t);},onAfterHide:function(t){if(a)r.removeClass(a);e.emit(t);}}),null==e.value){var u=n.find('.'+e.activeClass);if(1===u.length)e.value=u.data('value');}if(e.data)n.html(e.renderTemplate(e.data,e.template));if(null!=e.value)e.setValue(e.value,{force:!0,silence:!0});n.on('click'+o,'[data-value]',function(){e.setValue($(this).data('value')),e.close();});},getValue:function(){return this.value;},setValue:function(e,t){var n,i=this,o=i.menu,r=o.find('[data-value="'+e+'"]');if(1===r.length){if(n=r.data(),null==n.text)n.text=r.html();}else n={};if(t=t||{},t.force||e!=i.value){var a=i.activeClass;if(a)o.find('.'+a).removeClass(a);if(1===r.length){if(i.value=e,a)r.addClass(a);}else i.value=null;if(!t.silence)i.emit('change',n);}if($.isFunction(i.setText))i.setText(n.text||i.defaultText);},refresh:function(e){var t=this,n=t.value,i={};if(e){var o=e.data;if(o)t.menu.html(t.renderTemplate(o,t.template));if('value'in e)n=e.value,i.force=!0;}t.setValue(n,i);},open:function(){this.popup.open();},close:function(){this.popup.close();},dispose:function(){var e=this;n.dispose(e),e.menu.off(o),e.popup.dispose(),e.popup=e.element=e.button=e.menu=null;}},t(e.prototype),e.defaultOptions={show:{trigger:'click'},hide:{trigger:'click'}};var o='.cobble_ui_combobox';return e;}),define('cobble/ui/Dialog',['require','exports','module','../util/instance','../util/dimension','../function/jquerify','../function/lifeCycle','../function/offsetParent','../function/debounce','../function/pinGlobal','../function/dragGlobal'],function(require){'use strict';function e(e){return o.init(this,e);}var t=require('../util/instance'),n=require('../util/dimension'),i=require('../function/jquerify'),o=require('../function/lifeCycle'),r=require('../function/offsetParent'),a=require('../function/debounce'),c=require('../function/pinGlobal'),l=require('../function/dragGlobal');e.prototype={constructor:e,type:'Dialog',init:function(){var e=this,n=e.element||(e.element=$(e.template)),i=[],o=e.skinClass;if(o)i.push(o);var a=e.draggableClass;if(e.draggable&&a)i.push(a);if(i.length>0)n.addClass(i.join(' '));var c=e.removeOnEmpty,l=e.title;if(l)n.find(e.titleSelector).html(l);else if(c)n.find(e.headerSelector).remove();var u=e.content,f=n.find(e.bodySelector);if(u)f.html(u);else if(c)f.remove();var d=e.closeSelector,p=$.proxy(e.hide,e);if(d)n.on('click'+s,d,p);var m={};if(e.width)m.width=e.width;var h=e.fixed?'fixed':'absolute';if(n.css('position')!==h)m.position=h;if(!r(n).is('body'))t.body.append(n);if(e.modal){var g=e.mask||(e.mask=$(e.maskTemplate));if(n.before(g),e.hideOnClickMask)g.on('click'+s,p);var v='zIndex',y=e[v];if(!$.isNumeric(y))if(y=g.css(v),!$.isNumeric(y))y='auto';var b={overflow:'hidden'};b[v]=y,g.css(b),m[v]=y;}if(n.css(m),!e.hidden)e.hidden=!0,e.show();},show:function(){var e=this;if(e.hidden!==!1){var n=e.emit('beforeShow');if(!n.isDefaultPrevented()){var i=e.element,o=e.scrollable;if(e.draggable)e.drager=l({element:i,handleSelector:e.draggableHandleSelector,cancelSelector:e.draggableCancelSelector,draggingClass:e.draggingClass,fixed:e.fixed,scrollable:o});if(e.refresh(),e.showAnimation(),e.mask)e.showMaskAnimation();e.hidden=!1,t.window.resize(e.resizer=a(function(){e.refresh(!0);},50)),e.emit('afterShow');}}},hide:function(){var e=this;if(e.hidden!==!0){var n=e.emit('beforeHide');if(!n.isDefaultPrevented()){if(e.resizer)t.window.off('resize',e.resizer),e.resizer=null;if(e.drager)e.drager.dispose(),e.drager=null;if(e.hideAnimation(),e.mask)e.hideMaskAnimation();if(e.hidden=!0,e.emit('afterHide'),e.disposeOnHide)e.dispose();}}},refresh:function(){var e=this,t=arguments[0];if(!t||e.positionOnResize){var i=e.element,o=c({element:i,x:e.x,y:e.y,fixed:e.fixed});if(t)e.resizeAnimation(o);else i.css(o);}var r=e.mask;if(r)r.css({width:n.getPageWidth(),height:n.getPageHeight()});},dispose:function(){var e=this;if(o.dispose(e),!e.hidden)e.disposeOnHide=!1,e.hide();var t=e.element,n=e.mask;if(t.off(s),n)n.off(s);if(e.removeOnDispose)if(t.remove(),n)n.remove();e.element=e.mask=null;}},i(e.prototype),e.defaultOptions={x:'50%',y:'50%',modal:!0,fixed:!0,hidden:!1,draggable:!0,scrollable:!0,removeOnEmpty:!0,disposeOnHide:!0,removeOnDispose:!0,hideOnClickMask:!1,positionOnResize:!0,draggableClass:'draggable',draggableHandleSelector:'.dialog-header',draggableCancelSelector:['.dialog-header h1','.dialog-close'],headerSelector:'.dialog-header',titleSelector:'.dialog-header h1',closeSelector:'.dialog-close',bodySelector:'.dialog-body',template:'<div class="dialog"><i class="dialog-close">&times;</i><div class="dialog-header"><h1></h1></div><div class="dialog-body"></div></div>',maskTemplate:'<div class="dialog-mask"></div>',showAnimation:function(){this.element.show();},hideAnimation:function(){this.element.hide();},showMaskAnimation:function(){this.mask.show();},hideMaskAnimation:function(){this.mask.hide();},resizeAnimation:function(e){this.element.css(e);}};{var s='.cobble_ui_dialog';t.html.css('overflow'),t.body.css('overflow');}return e;}),define('cobble/ui/ScrollBar',['require','exports','module','../function/divide','../function/multiply','../function/restrain','../function/jquerify','../function/contains','../function/eventOffset','../function/lifeCycle','../helper/Wheel','../helper/Draggable'],function(require){'use strict';function e(e){return c.init(this,e);}var t=require('../function/divide'),n=require('../function/multiply'),i=require('../function/restrain'),o=require('../function/jquerify'),r=require('../function/contains'),a=require('../function/eventOffset'),c=require('../function/lifeCycle'),l=require('../helper/Wheel'),s=require('../helper/Draggable');e.prototype={constructor:e,type:'ScrollBar',init:function(){var e=this,t=e.element,n=function(t,n){var i=n.delta*e.scrollStep,o=e.panelPixelToValue(i);return!e.to(e.value+o,{from:'wheel'});};e.panelWheel=new l({element:e.panel,onScroll:n}),e.barWheel=new l({element:t,onScroll:n});var i=e.thumbSelector,o=t.find(i);if(0===o.length)t.html(e.template),o=t.find(i);e.thumb=o;var c,u;if('vertical'===e.orientation)c='y',u='top';else c='x',u='left';var f=function(t,n){e.to(e.barPixelToValue(t),{from:n});},p=e.draggingClass;e.draggable=new s({element:o,container:t,axis:c,onBeforeDrag:function(){if('string'===$.type(p))t.addClass(p);},onDrag:function(e,t){f(t[u],'bar');},onAfterDrag:function(){if('string'===$.type(p))t.removeClass(p);}}),t.on('click'+d,function(e){if(!r(o,e.target))f(a(e)[c],'click');}),e.refresh({value:e.value},!0);},refresh:function(e){var i,o=this;if($.isPlainObject(e))$.extend(o,e);if(e===!0||arguments[1]===!0)i=!0;var r,a,c,l,s,d;if('vertical'===o.orientation)r='innerHeight',a='outerHeight',c='scrollHeight',l='minHeight',s='top',d='scrollTop';else r='innerWidth',a='outerWidth',c='scrollWidth',l='minWidth',s='left',d='scrollLeft';var p=o.panel,m=p[r](),h=p.prop(c),g=h>0?m/h:1;if(g>0&&1>g){o.showAnimation();var v=o.element,y=o.thumb,b=v[r](),x=n(g,b),w=o[l];if(w>x)x=w;x=Math.ceil(x),y[a](x);var S=h-m,C=b-x;o.panelPixelToValue=function(e){return n(f,t(e,S));},o.valueToPanelPixel=function(e){return n(S,t(e,f));},o.barPixelToValue=function(e){return n(f,t(e,C));},o.valueToBarPixel=function(e){return n(C,t(e,f));},o.syncBar=function(e){var t=o.valueToBarPixel(e);y.css(s,t);},o.syncPanel=function(e){var t=o.valueToPanelPixel(e);p[d](t);};var k,_=e&&e.value;if(_>=u&&f>=_);else k='panel',_=o.panelPixelToValue(p[d]());o.to(_,{force:!0,silence:i,from:k});}else o.hideAnimation(),o.panelPixelToValue=o.valueToPanelPixel=o.barPixelToValue=o.valueToBarPixel=o.syncPanel=o.syncBar=$.noop;},to:function(e,t){var n=this;if(t=t||{},e=i(e,u,f),t.force||e!=n.value){n.value=e;var o=t.from;if('panel'!==o)n.syncPanel(e);if('bar'!==o)n.syncBar(e);if(!t.silence)n.emit('scroll');return!0;}return!1;},dispose:function(){var e=this;c.dispose(e),e.element.off(d),e.panelWheel.dispose(),e.barWheel.dispose(),e.draggable.dispose(),e.element=e.panelWheel=e.barWheel=e.draggable=e.thumb=null;}},o(e.prototype);var u=0,f=100,d='.cobble_ui_scrollbar';return e.defaultOptions={scrollStep:20,orientation:'vertical',minWidth:10,minHeight:10,template:'<i class="scroll-thumb"></i>',thumbSelector:'.scroll-thumb',showAnimation:function(){this.element.show();},hideAnimation:function(){this.element.hide();}},e;}),define('cobble/util/cookie',['require','exports','module'],function(require,exports){'use strict';function e(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');var t={};try{e=decodeURIComponent(e.replace(/\+/g,' ')),$.each(e.split(';'),function(e,n){var i=n.split('='),o=$.trim(i[0]),r=$.trim(i[1]);if(o)t[o]=r;});}catch(n){}return t;}function t(e,t,i){var o=i.expires;if($.isNumeric(o)){var r=o;o=new Date(),o.setTime(o.getTime()+r*n);}document.cookie=[encodeURIComponent(e),'=',encodeURIComponent(t),o?';expires='+o.toUTCString():'',i.path?';path='+i.path:'',i.domain?';domain='+i.domain:'',i.secure?';secure':''].join('');}var n=3600000;exports.get=function(t){var n=e(document.cookie);return'string'===$.type(t)?n[t]:n;},exports.set=function(e,n,i){if($.isPlainObject(e))i=n,n=null;if(i=$.extend({},exports.defaultOptions,i),null===n)$.each(e,function(e,n){t(e,n,i);});else t(e,n,i);},exports.remove=function(e,n){if(null!=e)n=n||{},n.expires=-1,t(e,'',$.extend({},exports.defaultOptions,n));},exports.defaultOptions={path:'/'};}),define('cobble/util/dimension',['require','exports','module','../function/pageScrollTop','../function/pageScrollLeft','../function/pageWidth','../function/pageHeight','../function/viewportWidth','../function/viewportHeight'],function(require,exports){'use strict';var e=require('../function/pageScrollTop'),t=require('../function/pageScrollLeft'),n=require('../function/pageWidth'),i=require('../function/pageHeight'),o=require('../function/viewportWidth'),r=require('../function/viewportHeight');exports.getPageScrollTop=e,exports.getPageScrollLeft=t,exports.getPageWidth=n,exports.getPageHeight=i,exports.getViewportWidth=o,exports.getViewportHeight=r;}),define('cobble/util/etpl',function(){function e(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e;}function t(){this.raw=[],this.length=0;}function n(){return'___'+T++;}function i(e,t){var n=new Function();n.prototype=t.prototype,e.prototype=new n(),e.prototype.constructor=e;}function o(e){return P[e];}function r(e){return'"'+e.replace(/\x5C/g,'\\\\').replace(/"/g,'\\"').replace(/\x0A/g,'\\n').replace(/\x09/g,'\\t').replace(/\x0D/g,'\\r')+'"';}function a(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return'\\'+e;});}function c(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,n){return t[n-0+1];});}function l(e){return e=e.replace(/^\s*\*/,''),c('gv({0},["{1}"])',r(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return'.'+t;}).split('.').join('","'));}function s(e,t,n,i,o,r){for(var a=n.length,c=e.split(t),l=0,s=[],u=0,f=c.length;f>u;u++){var d=c[u];if(u){var p=1;for(l++;;){var m=d.indexOf(n);if(0>m){s.push(l>1&&p?t:'',d);break;}if(l=i?l-1:0,s.push(l>0&&p?t:'',d.slice(0,m),l>0?n:''),d=d.slice(m+a),p=0,0===l)break;}if(0===l)o(s.join('')),r(d),s=[];}else d&&r(d);}if(l>0&&s.length>0)r(t),r(s.join(''));}function u(e,t,n){var i,o=[],a=t.options,c='',f='',d='',p='';if(n)c='ts(',f=')',d=E,p=R,i=a.defaultFilter;return s(e,a.variableOpen,a.variableClose,1,function(e){if(n&&e.indexOf('|')<0&&i)e+='|'+i;var r=e.indexOf('|'),a=(r>0?e.slice(0,r):e).replace(/^\s+/,'').replace(/\s+$/,''),s=r>0?e.slice(r+1):'',m=0===a.indexOf('*'),h=[m?'':c,l(a),m?'':f];if(s){s=u(s,t);for(var g=s.split('|'),v=0,y=g.length;y>v;v++){var b=g[v];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(b)){if(h.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)h.push(',',RegExp.$3);h.push(')');}}}o.push(d,h.join(''),p);},function(e){o.push(d,n?r(e):e,p);}),o.join('');}function f(e,t){this.value=e,this.engine=t;}function d(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[];}function p(e,t){var n=e.stack,i=t?n.find(function(e){return e instanceof t;}):n.bottom();if(i){for(var o;(o=n.top())!==i;){if(!o.autoClose)throw new Error(o.type+' must be closed manually: '+o.value);o.autoClose(e);}i.close(e);}return i;}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.master=RegExp.$3,this.name=RegExp.$1,d.call(this,e,t),this.blocks={};}function h(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,d.call(this,e,t),this.cloneProps=['name'];}function g(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,d.call(this,e,t),this.cloneProps=['name','state','blocks'],this.blocks={};}function v(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.expr=RegExp.$2,d.call(this,e,t),this.cloneProps=['name','expr'];}function y(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.args=RegExp.$3,d.call(this,e,t),this.cloneProps=['name','args'];}function b(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.name=RegExp.$1,this.args=RegExp.$3,d.call(this,e,t),this.cloneProps=['name','args'];}function x(e,t){var n=new RegExp(c('^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$',a(t.options.variableOpen),a(t.options.variableClose)),'i');if(!n.test(e))throw new Error('Invalid '+this.type+' syntax: '+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,d.call(this,e,t),this.cloneProps=['list','item','index'];}function w(e,t){d.call(this,e,t);}function $(e,t){w.call(this,e,t);}function S(e,t){d.call(this,e,t);}function C(e,t){t.target=e;var n=t.engine,i=e.name;if(n.targets[i])switch(n.options.namingConflict){case'override':n.targets[i]=e,t.targets.push(i);case'ignore':break;default:throw new Error('Target exists: '+i);}else n.targets[i]=e,t.targets.push(i);}function k(e,t){j[e]=t,t.prototype.type=e;}function _(t){this.options={commandOpen:'<!--',commandClose:'-->',commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:'${',variableClose:'}',defaultFilter:'html'},this.config(t),this.targets={},this.filters=e({},O);}function q(e,n){function i(){var e;if(m.length>0&&(e=m.join(''))){var t=new f(e,n);if(t.beforeAdd(u),l.top().addChild(t),m=[],n.options.strip&&u.current instanceof d)t.value=e.replace(/^[\x20\t\r]*\n/,'');u.current=t;}}var o,r=n.options.commandOpen,a=n.options.commandClose,c=n.options.commandSyntax,l=new t(),u={engine:n,targets:[],stack:l,target:null},m=[];return s(e,r,a,0,function(e){var t=c.exec(e);if(t&&(o=j[t[2].toLowerCase()])&&'function'==typeof o){i();var l=u.current;if(n.options.strip&&l instanceof f)l.value=l.value.replace(/\r?\n[\x20\t]*$/,'\n');if(t[1])l=p(u,o);else{if(l=new o(t[3],n),'function'==typeof l.beforeOpen)l.beforeOpen(u);l.open(u);}u.current=l;}else if(!/^\s*\/\//.test(e))m.push(r,e,a);o=null;},function(e){m.push(e);}),i(),p(u),u.targets;}t.prototype={push:function(e){this.raw[this.length++]=e;},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e;}},top:function(){return this.raw[this.length-1];},bottom:function(){return this.raw[0];},find:function(e){for(var t=this.length;t--;){var n=this.raw[t];if(e(n))return n;}}};var T=178245,P={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'},O={html:function(e){return e.replace(/[&<>"']/g,o);},url:encodeURIComponent,raw:function(e){return e;}},D='var r="";',E='r+=',R=';',H='return r;';if('undefined'!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)D='var r=[],ri=0;',E='r[ri++]=',H='return r.join("");';f.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return'';else return u(e,this.engine,1);},clone:function(){return this;}},d.prototype={addChild:function(e){this.children.push(e);},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this);},close:function(e){if(e.stack.top()===this)e.stack.pop();},getRendererBody:function(){for(var e=[],t=this.children,n=0;n<t.length;n++)e.push(t[n].getRendererBody());return e.join('');},clone:function(){for(var e=new this.constructor(this.value,this.engine),t=0,n=this.children.length;n>t;t++)e.addChild(this.children[t].clone());for(var t=0,n=this.cloneProps.length;n>t;t++){var i=this.cloneProps[t];e[i]=this[i];}return e;}};var A='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(m,d),i(h,d),i(g,d),i(v,d),i(y,d),i(b,d),i(x,d),i(w,d),i($,w),i(S,w);var I={READING:1,READED:2,APPLIED:3,READY:4};g.prototype.applyMaster=m.prototype.applyMaster=function(e){function t(e){var i=e.children;if(i instanceof Array)for(var o=0,r=i.length;r>o;o++){var a=i[o];if(a instanceof h&&n[a.name])a=i[o]=n[a.name];t(a);}}if(this.state>=I.APPLIED)return 1;var n=this.blocks,i=this.engine.targets[e];if(i&&i.applyMaster(i.master))return this.children=i.clone().children,t(this),this.state=I.APPLIED,1;else return void 0;},m.prototype.isReady=function(){function e(i){for(var o=0,r=i.children.length;r>o;o++){var a=i.children[o];if(a instanceof g){var c=t.targets[a.name];n=n&&c&&c.isReady(t);}else if(a instanceof d)e(a);}}if(this.state>=I.READY)return 1;var t=this.engine,n=1;if(this.applyMaster(this.master))return e(this),n&&(this.state=I.READY),n;else return void 0;},m.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function('data','engine',[A,D,this.getRendererBody(),H].join('\n')),t=this.engine;return this.renderer=function(n){return e(n,t);},this.renderer;}return null;},m.prototype.open=function(e){p(e),d.prototype.open.call(this,e),this.state=I.READING,C(this,e);},v.prototype.open=b.prototype.open=function(e){e.stack.top().addChild(this);},h.prototype.open=function(e){d.prototype.open.call(this,e),(e.imp||e.target).blocks[this.name]=this;},$.prototype.open=function(e){var t=new S();t.open(e);var n=p(e,w);n.addChild(this),e.stack.push(this);},S.prototype.open=function(e){var t=p(e,w);t.addChild(this),e.stack.push(this);},g.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,d.prototype.open.call(this,e),this.state=I.READING,e.imp=this;},b.prototype.close=v.prototype.close=function(){},g.prototype.close=function(e){d.prototype.close.call(this,e),this.state=I.READED,e.imp=null;},m.prototype.close=function(e){d.prototype.close.call(this,e),this.state=this.master?I.READED:I.APPLIED,e.target=null;},g.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(e);},b.prototype.beforeOpen=g.prototype.beforeOpen=v.prototype.beforeOpen=x.prototype.beforeOpen=y.prototype.beforeOpen=h.prototype.beforeOpen=w.prototype.beforeOpen=f.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new m(n(),e.engine);t.open(e);}},g.prototype.getRendererBody=function(){return this.applyMaster(this.name),d.prototype.getRendererBody.call(this);},b.prototype.getRendererBody=function(){return c('{0}engine.render({2},{{3}}){1}',E,R,r(this.name),u(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,n){return(t||'')+r(n)+':';}));},v.prototype.getRendererBody=function(){if(this.expr)return c('v[{0}]={1};',r(this.name),u(this.expr,this.engine));else return'';},w.prototype.getRendererBody=function(){return c('if({0}){{1}}',u(this.value,this.engine),d.prototype.getRendererBody.call(this));},S.prototype.getRendererBody=function(){return c('}else{{0}',d.prototype.getRendererBody.call(this));},x.prototype.getRendererBody=function(){return c('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',n(),u(this.list,this.engine),r(this.index||n()),r(this.item),n(),n(),d.prototype.getRendererBody.call(this));},y.prototype.getRendererBody=function(){var e=this.args;return c('{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}',D,H,E,R,d.prototype.getRendererBody.call(this),r(this.name),e?','+u(e,this.engine):'');};var j={};k('target',m),k('block',h),k('import',g),k('use',b),k('var',v),k('for',x),k('if',w),k('elif',$),k('else',S),k('filter',y),_.prototype.config=function(t){e(this.options,t);},_.prototype.compile=_.prototype.parse=function(e){if(e){var t=q(e,this);if(t.length)return this.targets[t[0]].getRenderer();}return new Function('return ""');},_.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return void 0;},_.prototype.render=function(e,t){var n=this.getRenderer(e);if(n)return n(t);else return'';},_.prototype.addFilter=function(e,t){if('function'==typeof t)this.filters[e]=t;};var W=new _();return W.Engine=_,W;}),define('cobble/util/instance',['require','exports','module'],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body);}),define('cobble/util/mouse',['require','exports','module'],function(){'use strict';function e(e){return e.originalEvent.changedTouches[0];}var t=document.createElement('div'),n={support:'ontouchend'in t,click:'touchstart',mousedown:'touchstart',mousemove:'touchmove',mouseup:'touchend',pageX:function(t){return e(t).pageX;},pageY:function(t){return e(t).pageY;},clientX:function(t){return e(t).clientX;},clientY:function(t){return e(t).clientY;}},i={support:'onclick'in t,click:'click',mousedown:'mousedown',mousemove:'mousemove',mouseup:'mouseup',pageX:function(e){return e.pageX;},pageY:function(e){return e.pageY;},clientX:function(e){return e.clientX;},clientY:function(e){return e.clientY;}};return t=null,{touch:n,mouse:i};}),define('cobble/util/url',['require','exports','module'],function(require,exports){'use strict';exports.parseQuery=function(e){var t={};if('string'===$.type(e)&&e.length>1){var n=0,i=e.charAt(0);if('?'===i)n=1;else if('#'===i){n=1;var o=e.charAt(1);if('/'===o)n=2;}if(n>0)e=e.substr(n);$.each(e.split('&'),function(e,n){var i=n.split('=');if(2===i.length){var o=$.trim(i[0]);if(o)t[o]=decodeURIComponent($.trim(i[1]));}});}return t;},exports.getOrigin=function(e){if(!e)e=document.URL;return exports.parse(e).origin;},exports.parse=function(e){var t=document.createElement('a');t.href=e,e=t.href;var n='';if(t.protocol&&t.host)n=t.protocol+'//'+t.host;else if(/^(http[s]?:\/\/[^\/]+)(?=\/)/.test(e))n=RegExp.$1;var i=n.split(':');if(0===n.indexOf('http:')&&3===i.length&&80==i[2])i.length=2,n=i.join(':');var o=t.pathname;if(o&&'/'!==o.charAt(0))o='/'+o;return{origin:n,pathname:o,search:t.search};};}),define('common/bindScroll_f2ce0a166a',function(){'use strict';var e=function(e,t){return e===t.target||e===window&&t.target===document;},t=function(e){for(;e.length>1;)clearTimeout(e.shift());};return function(n,i,o,r){var a=[],c=null,l=$(n);if(n=l[0],isNaN(o)||0>o)if(r)c=i;else c=function(t){if(e(n,t))i(t);};else if(r)c=function(e){a.push(setTimeout(function(){t(a),i(e);},o));};else c=function(r){a.push(setTimeout(function(){if(t(a),e(n,r))i(r);},o));};l.scroll(c);};}),define('common/component/ClickMonitor_2ea1c7c842',function(){function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=function(){};return e.defaultOptions={selector:'[data-click-monitor="1"]',monitorUrl:'http://click.genshuixue.com/',defaultParams:{},useDataHref:!0,isSend:!0,interceptor:t},e.prototype.setInterceptor=function(e){this.interceptor=e;},e.prototype.init=function(){var e=this;$(document).on('click',e.selector,function(){var t=$(this),n=e.useDataHref?t.data('href'):'',i={};if(e.interceptor)i=e.interceptor(t);if(e.isSend&&e.monitorUrl)WAT.send(e.monitorUrl,$.extend({},e.defaultParams,i));else console.log($.extend({},e.defaultParams,i));if(n&&window.open(n,'_blank'),e.useDataHref)return!1;else return void 0;});},e;}),define('common/component/RegionSelect_28068924d5',['require','cobble/form/Select','common/service_9c322508d3','common/store_a1a35b3dfc'],function(require){'use strict';function e(e){$.extend(this,e),this.init();}function t(e,t){setTimeout(function(){e.resolve(t);},0);}function n(){var e=$.Deferred();if(d)t(e,$.extend(!0,[],d));else s.getRegionList({filter:f}).done(function(n){d=n,t(e,$.extend(!0,[],n));});return e;}function i(e){var n=$.Deferred();if(!e)t(n,[]);else if(p[e])t(n,$.extend(!0,[],p[e]));else s.getRegionList({id:e,filter:f}).done(function(i){p[e]=i,t(n,$.extend(!0,[],i));});return n;}function o(e){var n=$.Deferred();if(!e)t(n,[]);else if(m[e])t(n,$.extend(!0,[],m[e]));else s.getRegionList({id:e,filter:f}).done(function(i){m[e]=i,t(n,$.extend(!0,[],i));});return n;}function r(e){var n=$.Deferred();if(!e)t(n,[]);else if(h[e])t(n,$.extend(!0,[],h[e]));else s.getRegionList({id:e,filter:f}).done(function(i){h[e]=i,t(n,$.extend(!0,[],i));});return n;}function a(e){return $.map(e||[],function(e){return{text:e.name,value:e.id};});}function c(e,t,n){e.refresh({data:a(t),value:null!=n?n:null});}var l=require('cobble/form/Select'),s=require('common/service_9c322508d3'),u=require('common/store_a1a35b3dfc'),f='';e.prototype={init:function(){var e=this,t=e.element;f=e.filter;var n=e.prefix||'';e.provinceSelect=new l({element:t.find('.province'),defaultText:e.provinceText||'- 省 -',name:n+'province',onChange:function(t,n){if(i(n.value).done(function(t){if('1'==u.get('user').globalDistrict)if(e.eachAll&&t.length>1)t.unshift({id:n.value,name:'全省'});c(e.citySelect,t,1===t.length?t[0].id:null);}),$.isFunction(e.onProvinceChange))e.onProvinceChange(n);}}),e.citySelect=new l({element:t.find('.city'),defaultText:e.cityText||'- 市 -',name:n+'city',onChange:function(t,n){if(o(n.value).done(function(t){if(e.eachAll)t.unshift({id:n.value,name:'全市'});c(e.areaSelect,t,null);}),$.isFunction(e.onCityChange))e.onCityChange(n);}}),e.areaSelect=new l({element:t.find('.area'),defaultText:e.areaText||'- 区 -',name:n+'area',onChange:function(t,n){if(r(n.value).done(function(t){if(e.eachAll)t.unshift({id:n.value,name:'全部'});c(e.countrySelect,t,null);}),$.isFunction(e.onAreaChange))e.onAreaChange(n);}}),e.countrySelect=new l({element:t.find('.country'),defaultText:e.countrySelect||'- 商圈 -',name:n+'country',onChange:function(t,n){if($.isFunction(e.onCountryChange))e.onCountryChange(n);}}),e.refresh();},refresh:function(e){var t=this;if(e)$.extend(t,e);var a=t.provinceSelect.onChange,l=t.citySelect.onChange,s=t.areaSelect.onChange,f=t.countrySelect.onChange;t.provinceSelect.onChange=t.citySelect.onChange=t.areaSelect.onChange=t.countrySelect.onChange=null,$.when(n(),i(t.provinceId),o(t.cityId),r(t.areaId)).done(function(e,n,i,o){if('1'==u.get('user').globalDistrict)if(t.eachAll)e.unshift({id:0,name:'全国'});if(c(t.provinceSelect,e,t.provinceId),c(t.citySelect,n,t.cityId),c(t.areaSelect,i,t.areaId),c(t.countrySelect,o,t.countryId),t.provinceSelect.onChange=a,t.citySelect.onChange=l,t.areaSelect.onChange=s,t.countrySelect.onChange=f,$.isFunction(t.callback))t.callback();});}};var d=null,p={},m={},h={};return e;}),define('common/component/Slider_e976f1c044',['require','exports','module','cobble/ui/Carousel'],function(require){'use strict';function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=require('cobble/ui/Carousel');return e.prototype={constructor:e,init:function(){{var e,n=this,i=n.element,o=n.itemSelector,r=i.find(o),a=r.parent(),c=r.length,l=2,s=c+l,u=r.eq(0),f=r.eq(c-1),d=u.width(),p=u.height(),m=0,h=!n.isVertical?function(){a.css('left',-1*e*d);}:function(){a.css('top',-1*e*p);};new t({element:i,itemSelector:o,iconSelector:n.iconSelector,prevSelector:n.prevSelector,nextSelector:n.nextSelector,activeClass:'active',trigger:n.trigger,loop:n.loop,delay:n.delay,autoPlay:n.autoPlay,pauseOnHover:!0,onChange:n.onChange,animation:function(t){var i=t.to,o=t.from;if(!(0>o)){if(m>0)if(a.stop(),e>-1)h();{var r;this.element;}if(0===i&&o===c-1)r=s-1,e=1;else if(!n.scrollOneDirection&&i===c-1&&0===o)r=0,e=s-l;else r=i+1,e=-1;m++,a.animate(n.isVertical?{top:-1*r*p}:{left:-1*r*d},this.duration,'easeOutQuad',function(){if(m--,e>-1)h();});}}});}if(u=u.clone(),f=f.clone(),a.prepend(f),a.append(u),!n.isVertical)a.css({width:s*d,left:-1*d});else a.css({height:s*p,top:-1*p});}},e.defaultOptions={duration:300,trigger:'click',isVertical:!1,scrollOneDirection:!1,loop:!0,delay:5000},e;}),define('common/component/VideoDialog_031b44a844',['require','cobble/ui/Dialog'],function(require){'use strict';function e(t){$.extend(this,e.defaultOptions,t),this.init();}var t=require('cobble/ui/Dialog');return e.prototype={init:function(){var e=this,n=new t({width:e.videoWidth,skinClass:'video-dialog',title:e.title,content:'<iframe src="'+e.url+'" style="width:'+e.videoWidth+'px;height:'+e.videoHeight+'px;border:0" frameborder="no" border="0"></iframe>'});e.dialog=n;},show:function(){this.dialog.show();}},e.defaultOptions={videoWidth:676,videoHeight:383},e;}),define('common/eventEmitter_8bcc038860',['require','exports'],function(require,exports){var e=$({});exports.emit=function(){e.trigger.apply(e,arguments);},exports.on=function(){e.on.apply(e,arguments);},exports.un=function(){e.off.apply(e,arguments);},exports.once=function(){e.one.apply(e,arguments);};}),define('common/function/getAdMonitorUrl_4b5526f5c9',['require','exports','cobble/util/url','cobble/util/cookie'],function(require){'use strict';var e,t=require('cobble/util/url'),n=require('cobble/util/cookie');return function(i,o,r){if(!i)return null;var a=i.indexOf('?'),c={};if(-1!=a)c=i.substring(a),c=t.parseQuery(c);else i+='?';if(o){if(!e)e=n.get('PHPSESSID');c.uuid=e;}if(r&&r.length>0){var l={p:c.p||'',c:r.join(',')};c=l;}var s=Math.ceil(Math.random()*Math.pow(10,13));return $.extend(c,{_:s}),c=$.param(c),i=i.replace(/\?.*$/,'?'+c);};}),define('common/lazyImage_92160e3789',['require','common/bindScroll_f2ce0a166a','cobble/util/instance','cobble/function/viewportHeight'],function(require){'use strict';function e(e){if(!e.prop('loading'))e.prop('loading',!0).addClass('img-loading');}function t(e){for(var t=e.height();!t;)e=e.parent(),t=e.height();return t;}var n=require('common/bindScroll_f2ce0a166a'),i=require('cobble/util/instance'),o=require('cobble/function/viewportHeight'),r=i.window,a=i.body,c=0,l=null,exports={init:function(e){n(e||r,exports.scanning,c),exports.scanning(!0),setTimeout(function(){r.scroll();},0);},scanning:function(n,i){var c=o(),s=r.scrollTop(),u=s+c;if(n)i=i?$(i):a,l=i.find('img[data-src]');l.each(function(){var n=$(this),i=n.offset().top,o=t(n);if(u>=i-o-c&&i+o+c>=s){if(!n.prop('loaded'))n.prop('src',n.data('src')).prop('loaded',!0).removeAttr('data-src').removeClass('img-loading');}else e(n);});var f=i.find('iframe'),d=f.length;if(d)for(var p,m=0;d>m;m++){var h=f[m],g=$(h).offset();p=$(f[m].contentWindow.document).find('img[data-src]'),p.each(function(){var n=$(this),i=n.offset().top+g.top,o=t(n);if(u>=i&&i+o+c>=s){if(!n.prop('loaded'))n.prop('src',n.data('src')).prop('loaded',!0).removeAttr('data-src').removeClass('img-loading');}else e(n);});}}};return exports;}),define('main/mods/ad_55e2fcc7fd',['require','exports','cobble/util/etpl','common/service_9c322508d3','common/store_a1a35b3dfc','common/component/Slider_e976f1c044','common/eventEmitter_8bcc038860'],function(require,exports){function e(e){WAT.send(e);}function t(t){t.on('click','a[data-click-monitor]',function(){e($(this).data('click-monitor'));});}function n(n,i){if(!i||0==i.length)return!1;else return n.html(d({ads:i})),new s({element:n,itemSelector:'.special-ad-item',duration:150,isVertical:!0,scrollOneDirection:!0,onChange:function(t,n){var i=$('.special-ad-item:eq('+(+n.to+1)+')',this.element);if(!i.data('is-pv'))i.data('is-pv','1'),e($('a',i).data('monitor'));}}),void t(n);}function i(){var e,t,i={},o=[];$('.special-wrapper [data-ad-id]').each(function(n,r){e=$(r),t=e.data('ad-id'),o.push(t),i[t]=e;}),c.fetchadvertisement({adId:o.join(','),cityId:l.get('cityId')}).done(function(e){var t=e.data;$.each(o,function(e,o){n(i[o],t[o]);});});}function o(){var n=$('.ad-banner-wrapper'),i=n.data('ad-id');c.fetchadvertisement({adId:i,cityId:l.get('cityId')}).done(function(o){if(!o.status){var r=o.data[i];if(r&&r[0])n.html(p({ad:r[0]})),e($('a',n).data('monitor')),t(n);}u.emit('ad.banner.ready');});}function r(){var e=($('.main-banner-promotion'),['5','6','7','8','9','10','11']);c.fetchadvertisement({adId:e.join(','),cityId:l.get('cityId')}).done(function(e){if(e&&!e.status){var t=e.data;if(!t)u.emit('ad-promotion-data-fail');else u.emit('ad-promotion-data',t);}else u.emit('ad-promotion-data-fail');}).fail(function(){u.emit('ad-promotion-data-fail');});}var a=require('cobble/util/etpl'),c=require('common/service_9c322508d3'),l=require('common/store_a1a35b3dfc'),s=require('common/component/Slider_e976f1c044'),u=require('common/eventEmitter_8bcc038860'),f='<a href="${ad.click}" data-click-monitor="${ad.clickMonitor}" data-monitor="${ad.monitor}" target="_blank"><img alt="${ad.hover}" src="${ad.material}" width="1190" height="90" title="${ad.hover}"/></a>',d=a.compile($('#ad-text-template').html()),p=a.compile(f);exports.init=function(e){if(a.addFilter('usehot',function(e){return-1==e.indexOf('teacher')&&-1==e.indexOf('organization');}),r(),'sougou'!=e)o(),i();};}),define('main/mods/floor_b18c9d8414',['require','exports','cobble/function/viewportWidth','cobble/function/viewportHeight','common/bindScroll_f2ce0a166a','cobble/util/instance','common/eventEmitter_8bcc038860'],function(require,exports){function e(e,n){var i=!0,o=1000;c(u,function(){if(u.scrollTop()>o)e.show(),i&&t(n);else e.hide();}),e.on('click','.floor-item',function(){var e,t=$(this),n=t.data('floor-index');if(i=!1,t.siblings().removeClass('active'),0!=n)t.addClass('active'),e=$('[data-floor="'+n+'"]').offset().top;else e=0;setTimeout(function(){$('html, body').stop().animate({scrollTop:e+'px'},1000,function(){i=!0;});},0);});}function t(e){for(var t,n=e.length,i=u.scrollTop()+o;n--&&(t=e[n],!(i>=t.offsetTop)););if(i>=t.offsetTop)t.nav.addClass('active').siblings().removeClass('active');else t.nav.removeClass('active').siblings().removeClass('active');}function n(e){e=e||[],$('.floor-wrapper .floor-list .floor-item').not('.last').each(function(t){var n=$(this);e.push({offsetTop:$('[data-floor="'+n.data('floor-index')+'"]').offset().top-t*p,nav:n});});}function i(e){var t=r(),n=(t-m)/2-d-2;if(n>10)n-=10;if(0>n)n=0;e.css({left:n});}var o,r=require('cobble/function/viewportWidth'),a=require('cobble/function/viewportHeight'),c=require('common/bindScroll_f2ce0a166a'),l=require('cobble/util/instance'),s=require('common/eventEmitter_8bcc038860'),u=l.window,f=296,d=42,p=42,m=1190;exports.init=function(){var r=this;o=(a()-f)/2,i(r),function(){var e=null,t=function(){o=(a()-f)/2,i(r);},n=u[0].setTimeout,c=u[0].clearTimeout;u.on('resize',function(){c(e),e=n(t,0);});}();var c=[];n(c),e(r,c),t(c),s.on('ad.banner.ready',function(){c.length=0,n(c);});};}),define('main/mods/hotLive_24dfbd27f4',['require','exports','common/service_9c322508d3','cobble/util/etpl','common/lazyImage_92160e3789','common/store_a1a35b3dfc','cobble/util/cookie'],function(require,exports){function e(e,t){for(var n,i=e.length-1;i>=0;i--)n=e[i],e[i].log_url=i+1+','+n.number+','+t+','+n.is_cms;}function t(t,n){var i={isCurrent:!0,list:n.today,qid:n.qid},o={isCurrent:!1,list:n.tomorrow,qid:n.qid};if(e(i.list,n.qid),e(o.list,n.qid),t.html(l({data:i})+l({data:o})),t.find('.week-item:eq(0)').addClass('active'),r.scanning(!0,t),i.list.length<=0)t.find('.week-title:eq(0)').addClass('hide');}function n(e){e.find('.list-wrapper .week-item').hover(function(){var e=$(this);if(!e.hasClass('active'))$('.list-wrapper .week-item.active').removeClass('active'),e.addClass('active');}),e.find('.list-wrapper').mouseover(function(){var e=$(this);e.addClass('hover');}).mouseout(function(){var e=$(this);e.removeClass('hover');});}var i=require('common/service_9c322508d3'),o=require('cobble/util/etpl'),r=require('common/lazyImage_92160e3789'),a=require('common/store_a1a35b3dfc'),c=require('cobble/util/cookie'),l=o.compile($('#hot-live-template').html());o.addFilter('truncate',function(e,t){if(e.length>t)return e.substring(0,t-1)+'...';else return e.substring(0,t);}),exports.init=function(){{var e=this;e.find('.now-week').data('qid');}i.getHotLiveList().done(function(i){if(!i.code){t($('.list-liner',e),i.data),n(e);var o='http://click.genshuixue.com/sl.gif',r=[];e.find('.week-list .week-item').each(function(e,t){r.push($(t).data('num'),$(t).data('cms'));});var a={type:'search',stype:'index_page_hot_online',qid:e.find('.now-week').data('qid'),data:r.join()};WAT.send(o,a);}}),e.on('click','[log]',function(){var e=$(this),t=(e.closest('.org-list-wrapper').prev('.special-wrapper'),'http://click.genshuixue.com/w.gif'),n=e.attr('log'),i=n.split(','),o=i[0],r=i[1],l=i[2],s=i[3],u=c.get('PHPSESSID'),f=new Date().getTime(),d=a.get('user').id?a.get('user').id:-1,p={type:'search',stype:'index_page_hot_online',rank:o,item_id:r,qid:l,item_type:s,uid:u,t:f,user_id:d};WAT.send(t,p);});};}),define('main/mods/preferentialCourse_02e54c6f2c',['require','exports','common/store_a1a35b3dfc','cobble/util/cookie'],function(require,exports){var e=require('common/store_a1a35b3dfc'),t=require('cobble/util/cookie');exports.init=function(){function n(e,t,n){var i=[];e.find('.media-item').each(function(e,t){i.push($(t).data('num'),$(t).data('cms'));});var o={type:'search',stype:t,qid:n,data:i.join()};WAT.send('http://click.genshuixue.com/sl.gif',o);}var i=this,o=$('.preferent-right',i);o.find('.list-category').on('click','.category-item',function(){var e=$(this);if(!e.hasClass('active'))e.addClass('active').siblings().removeClass('active'),o.find('.media-list').removeClass('active').filter('.'+e.data('nav-for')).addClass('active');}),$('.teacher-banner a[data-monitor]',i).each(function(e,t){WAT.send($(t).data('monitor'));}),$('.teacher-banner a[data-click-monitor]',i).click(function(){WAT.send($(this).data('click-monitor'));});var r=o.find('.teacher-list'),a=o.find('.course-list'),c=o.find('.org-list');n(r,'index_page_top_teacher',r.data('qid')),n(a,'index_page_top_course',a.data('qid')),n(c,'index_page_top_org',c.data('qid')),i.on('click','[log]',function(){var n,i=$(this),o=i.parent().attr('class').split(' ')[1];if('teacher-list'==o)n='teacher';else if('course-list'==o)n='course';else if('org-list'==o)n='org';var r='http://click.genshuixue.com/w.gif',a=i.attr('log'),c=a.split(','),l=c[0],s=c[1],u=c[2],f=c[3],d=t.get('PHPSESSID'),p=new Date().getTime(),m=e.get('user').id?e.get('user').id:-1,h={type:'search',stype:'index_page_top_'+n,rank:l,item_id:s,qid:u,item_type:f,uid:d,t:p,user_id:m};WAT.send(r,h);});};}),define('main/mods/recommendTeacher_2cbf46509f',['require','exports','common/service_9c322508d3','cobble/util/etpl','common/lazyImage_92160e3789','cobble/util/cookie','common/store_a1a35b3dfc'],function(require,exports){function e(){return i.compile($('#recommend-teacher-template').html());}function t(e){n.getRecommendTeachers({offset:c}).done(function(t){if(!t.code)e(t),c+=5;});}var n=require('common/service_9c322508d3'),i=require('cobble/util/etpl'),o=require('common/lazyImage_92160e3789'),r=require('cobble/util/cookie'),a=require('common/store_a1a35b3dfc'),c=0;i.addFilter('toText',function(e){if(-1==e)return'30年以上';else return e+'年教龄';}),exports.init=function(){var n=this,i=$('.teacher-list',n),c=e(),l=function(e){i.html(c({teachers:e.data})),o.scanning(!0,i);};n.find('.refresh').on('click',function(){t(l);}),i.on('click','.link-wrapper',function(){var e=$(this),t=e.data('monitorTid'),n=e.data('index')+1,i=a.get('user').number,o=e.data('qid');WAT.send('http://click.genshuixue.com/w.gif',{type:'search',stype:'teacher_recommend',rank:n,uid:r.get('__track_id__'),item_id:t,qid:o,user_id:i});}),t(l);};}),define('main/mods/special_229acd6e12',['require','exports','common/component/Slider_e976f1c044','common/component/VideoDialog_031b44a844','cobble/util/cookie','common/store_a1a35b3dfc'],function(require,exports){function e(e){return new t({element:e,itemSelector:'.comment-item',scrollOneDirection:!0,duration:10000});}var t=require('common/component/Slider_e976f1c044'),n=require('common/component/VideoDialog_031b44a844'),i=require('cobble/util/cookie'),o=require('common/store_a1a35b3dfc');exports.init=function(){function t(e,t,n){var a=[];r.find(e).each(function(e,t){a.push($(t).data('num'),$(t).data('cms'));});var c={type:'search',stype:t,qid:n,uid:i.get('PHPSESSID')?i.get('PHPSESSID'):'',user_id:o.get('user').id?o.get('user').id:-1,t:new Date().getTime(),data:a.join()};WAT.send('http://click.genshuixue.com/sl.gif',c);}var r=this;e($('.comment-list',r)),r.on('click','.icon-play-oo',function(){var e=$(this);return new n({url:e.data('video'),title:''}),!1;}),r.on('click','[log]',function(){var e=$(this),t=e.closest('.special-wrapper'),n='http://click.genshuixue.com/w.gif',r=e.attr('log'),a=r.split(',');console.log(a);var c=a[0],l=a[1],s=a[2],u=a[3],f=i.get('PHPSESSID'),d=new Date().getTime(),p=o.get('user').id?o.get('user').id:-1,m={type:'search',stype:'index_page_'+t.data('floor')+'_'+e.data('type'),rank:c,item_id:l,qid:s,item_type:u,uid:f,t:d,user_id:p};WAT.send(n,m);}),r.next('.org-list-wrapper').on('click','[log]',function(){var e=$(this),t=e.closest('.org-list-wrapper').prev('.special-wrapper'),n='http://click.genshuixue.com/w.gif',r=e.attr('log'),a=r.split(','),c=a[0],l=a[1],s=a[2],u=a[3],f=i.get('PHPSESSID'),d=new Date().getTime(),p=o.get('user').id?o.get('user').id:-1,m={type:'search',stype:'index_page_'+t.data('floor')+'_4',rank:c,item_id:l,qid:s,item_type:u,uid:f,t:d,user_id:p};WAT.send(n,m);});var a=r.data('floor'),c=r.data('qid');t('.course-media-list .course-media','index_page_'+a+'_1',c.media_list),t('.course-recommend-list li','index_page_'+a+'_2',c.latest_courses),t('.special-right-content .hot-list li','index_page_'+a+'_3',c.hot_teachers);var l=r.next('.org-list-wrapper').find('.org-list .org-logo');t(l,'index_page_'+a+'_4',c.org_list);};}),define('navigation/sougou',['require','exports','./sougou/head_d0971cae40','./sougou/ad_7e0085e82a','common/store_a1a35b3dfc','./sougou/juhuixue_5060465fc9','./sougou/studyall_0fc45b0401'],function(require,exports){'use strict';var e=require('./sougou/head_d0971cae40'),t=require('./sougou/ad_7e0085e82a'),n=require('common/store_a1a35b3dfc'),i=require('./sougou/juhuixue_5060465fc9'),o=require('./sougou/studyall_0fc45b0401');exports.init=function(){var r=$('#main').height();if(n.get('site')&&'qq'==n.get('site'))$('#main').append('<iframe id="proxy" src="http://hao.qq.com/qita/proxy.html#'+r+'px"></iframe>');else $('#main').append('<iframe id="proxy" src="http://123.sogou.com/qita/proxy.html#'+r+'px"></iframe>');e.init(),t.init(),i.init(),o.init();};}),define('navigation/sougou/ad_7e0085e82a',['require','exports','cobble/ui/Carousel','cobble/helper/Switchable','cobble/ui/ScrollBar','common/service_9c322508d3','common/store_a1a35b3dfc','common/component/Slider_e976f1c044','common/function/getAdMonitorUrl_4b5526f5c9','cobble/util/url','main/mods/ad_55e2fcc7fd','cobble/util/etpl','common/component/ClickMonitor_2ea1c7c842','common/eventEmitter_8bcc038860','main/mods/special_229acd6e12','main/mods/hotLive_24dfbd27f4','main/mods/floor_b18c9d8414','main/mods/recommendTeacher_2cbf46509f','main/mods/preferentialCourse_02e54c6f2c'],function(require,exports){'use strict';function e(e){var t,n={material:window.require.toUrl('../../img/main/slider_top_default_dfa8f2ee4b.jpg'),click:'http://ju.genshuixue.com',monitor:'',clickMonitor:'',hover:'聚惠学'},i=$('.promotion-slider-container');if(!e||!e.length)e=[n];for(var o=e.length-1;o>=0;o--)if(t=e[o],!t.material)e[o]=n;else if(!t.click)t.click='javascript:void(0);';i.html(v({promotionList:e})),new u({element:$('.promotion-slider-container'),itemSelector:'.promotion-slideritem',iconSelector:'.promotion-slider-navitem',prevSelector:'.promotion-slider-left',nextSelector:'.promotion-slider-right',duration:150,delay:8000,onChange:function(e,t){a(i.find('.promotion-slideritem'),t.to);}});}function t(e){var t={material:window.require.toUrl('../../img/main/banner_top_default_646586856d.jpg'),click:'http://www.genshuixue.com/static/windows',monitor:'',clickMonitor:'',hover:'在线课堂'},n=$('.promotion-right-banner');if(!e||!e.length||!e[0].material)e=t;if(e[0]&&e[0].material)if(e=e[0],!e.click)e.click='javascript:void(0);';n.html(y({data:e}));}function n(e){var t={material:window.require.toUrl('../../img/main/city/guding/shipin_763c294725.png'),click:'http://www.genshuixue.com/activity/center?id=43?source=gsx_shipinke2_pc',monitor:'',clickMonitor:'',hover:'视频课'},n=$('.bottom-right-banner');if(!e||!e.length||!e[0].material)e=t;if(e&&e[0]&&e[0].material)if(e=e[0],!e.click)e.click='javascript:void(0);';n.html(y({data:e}));}function i(e){var t,n=$('.bottom-slider-container'),i=function(e,t,n,i){var o;if(e&&e.length||i){for(var r=e.length;t>r;r++)e.push(n);for(r=t-e.length-1;r>=0;r--)o=e[r],o.cls=n.cls,!o.click&&(o.click='javascript:void(0);'),!o.material&&(e[r]=n);}return e;},o=function(e){var t=!0;if(e&&e.length)for(var n=e.length-1;n>=0;n--)if(e[n].material)return!1;return t;},r={6:{material:window.require.toUrl('../../img/main/city/guding/banner_Henry-yeh_130x180_54ed84d028.jpg'),click:'http://www.genshuixue.com/teacher/classCourseDetail?number=150417549130',monitor:'',clickMonitor:'',hover:'',cls:'style1'},7:{material:window.require.toUrl('../../img/main/city/guding/shoudan300_e296b2e646.jpg'),click:'http://ju.genshuixue.com/',monitor:'',clickMonitor:'',hover:'聚惠学',cls:'style2'},8:{material:window.require.toUrl('../../img/main/city/guding/shoudan300_e296b2e646.jpg'),click:'http://ju.genshuixue.com/',monitor:'',clickMonitor:'',hover:'聚惠学',cls:'style2'},9:{material:window.require.toUrl('../../img/main/city/beijing/banner_logos_huanyuhongze_130x60_4e33e93d05.jpg'),click:'http://gicorg.genshuixue.com/',monitor:'',clickMonitor:'',hover:'',cls:'style3'}},c=[];if(!o(t=e[6]))c.push(i(t,4,r[6]));if(!o(t=e[7]))c.push(i(t,2,r[7]));if(!o(t=e[8]))c.push(i(t,2,r[8]));if(!o(t=e[9]))c.push(i(t,12,r[9],!0));return n.html(b({sliderList:c})),new u({element:$('.bottom-slider-container'),itemSelector:'.bottom-slideritem',iconSelector:'.bottom-slider-navitem',prevSelector:'.bottom-slider-left',nextSelector:'.bottom-slider-right',duration:150,delay:8000,onChange:function(e,t){a(n.find('.bottom-slideritem'),t.to);}});}function o(){var e=s.get('user')||{},t=s.get(),n={user_number:e.number||'',user_role:e.type||'',city_id:t.cityId},i=function(e){var t,n={},i='monitor',o=e.data();for(var r in o)if(0===r.indexOf(i))if(t=r.substring(i.length).toLowerCase())n[t]=o[r];return n._timestamp=new Date().getTime(),n;};return new h({selector:'.click-monitor',monitorUrl:'//pb0.genshuixue.com/gs.gif',defaultParams:n,useDataHref:!1,isSend:'www'===s.get('env'),interceptor:i});}function r(){l.on('click','.main-banner [data-click-monitor]',function(){var e=$(this).data('click-monitor');return c(e,!0),!0;});}function a(e,t){var n=e.filter('[data-index="'+t+'"]'),i=n.find('img');if(n.data('reported'))i.each(function(e,t){c($(t).data('monitor'));});else{if(n.data('combine')){var o,r=$.map(i,function(e){var t=$(e).data('monitor');if(t){o=t;var n=-1!=t.indexOf('?')?t.substring(t.indexOf('?')):'',i=d.parseQuery(n);return i.c;}});c(o,!0,r);}else i.each(function(e,t){c($(t).data('monitor'),!0);});n.data('reported',!0);}}function c(e,t,n){if(e){var i=e.replace(/^http:\/\//,'//');if(t)if(i){i=f(i,!0,n);var o=new Image(),r=x.push(o)-1;o.onload=o.onerror=function(){o=o.onload=o.onerror=null,delete x[r];},o.src=i;}}}var l,s=(require('cobble/ui/Carousel'),require('cobble/helper/Switchable'),require('cobble/ui/ScrollBar'),require('common/service_9c322508d3'),require('common/store_a1a35b3dfc')),u=require('common/component/Slider_e976f1c044'),f=require('common/function/getAdMonitorUrl_4b5526f5c9'),d=require('cobble/util/url'),p=require('main/mods/ad_55e2fcc7fd'),m=require('cobble/util/etpl'),h=require('common/component/ClickMonitor_2ea1c7c842'),g=require('common/eventEmitter_8bcc038860');require('main/mods/special_229acd6e12'),require('main/mods/hotLive_24dfbd27f4'),require('main/mods/floor_b18c9d8414'),require('main/mods/recommendTeacher_2cbf46509f'),require('main/mods/preferentialCourse_02e54c6f2c');var v=m.compile($('#ad-5-template').html()),y=m.compile($('#ad-10-template').html()),b=m.compile($('#ad-6-to-9-template').html()),x=[];exports.init=function(){l=$('#main'),g.on('ad-promotion-data',function(a,c){e(c[5]),t(c[10]),i(c),n(c[11]),r(),o(),$('.main-banner-promotion.loading').removeClass('loading');}),p.init('sougou');};}),define('navigation/sougou/head_d0971cae40',['require','exports','common/store_a1a35b3dfc','common/component/RegionSelect_28068924d5'],function(require,exports){'use strict';var e=$('#head'),t=require('common/store_a1a35b3dfc'),n=require('common/component/RegionSelect_28068924d5'),i=0;exports.init=function(){{var o=e.find('.city-select');new n({element:o,provinceText:'请选择',cityText:'请选择',onCityChange:function(e){if(e.value)i=e.value;}});}e.on('click','.city-trigger',function(){e.find('.citys').hide(),e.find('.city-select').show();}).on('click','.btn-cancel',function(){e.find('.city-select').hide(),e.find('.citys').show();}).on('click','.btn-comfirm',function(){var e='/sogou/index',n=t.get('page_type'),o='';if('ytxq'==n)if(e='/sogou/artInterest','qq'==t.get('site'))o='&source=gsx_qqdh_yt';else o='&source=gsx_sogoudh_yt';else if('zxx'==n)if(e='/sogou/midPreSchool','qq'==t.get('site'))o='&source=gsx_qqdh_k12';else o='&source=gsx_sogoudh_k12';else if('cglx'==n)if(e='/sogou/studyAbroad','qq'==t.get('site'))o='&source=gsx_qqdh_lx';else o='&source=gsx_sogoudh_lx';else if('qq'==t.get('site'))o='&source=gsx_qqdh_pc';else o='&source=gsx_sogoudh_pc';if(i)if('qq'==t.get('site'))location.href=e+'?site=qq&city='+i+o;else location.href=e+'?city='+i+o;});};}),define('navigation/sougou/juhuixue_5060465fc9',['require','exports'],function(require,exports){'use strict';var e=$('#juhuixue');exports.init=function(){e.on('mouseenter','.course-nav li',function(){var t=$(this),n=t.data('cat');e.find('.course-nav li').removeClass('active'),t.addClass('active'),e.find('.list').hide(),e.find('.course-content .'+n).show();});};}),define('navigation/sougou/studyall_0fc45b0401',['require','exports'],function(require,exports){'use strict';$('#study-all');exports.init=function(){};});