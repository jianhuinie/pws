define('cc/function/toNumber',['require','exports','module'],function(){'use strict';var e={'int':parseInt,'float':parseFloat};return function(t,i,r){if('number'!==$.type(t)){var a=e[r];if(a)t=a(t,10);else if($.isNumeric(t))t=+t;else t=0/0;}return isNaN(t)?i:t;};}),define('cc/util/browser',['require','exports','module'],function(){'use strict';function e(e){var i,r;return $.each(t,function(t,a){var n=a[1].exec(e);if(n){if(i=a[0],r=n[1])if(r=r.replace(/_/g,'.'),a[2])r=parseInt(r,10)+a[2]+'.0';return!1;}}),{name:i||'',version:r||''};}var t=[['alipay',/alipay/],['wechat',/micromessenger/],['baiduApp',/baiduboxapp/],['baidu',/baidubrowser/],['baidu',/bdbrowser/],['uc',/ucbrowser/],['uc',/ucweb/],['qq',/qqbrowser/],['qqApp',/qq/],['ie',/iemobile[ \/]([\d_.]+)/],['ie',/msie[ \/]([\d_.]+)/],['ie',/trident[ \/]([\d_.]+)/,4],['chrome',/chrome[ \/]([\d_.]+)/],['firefox',/firefox[ \/]([\d_.]+)/],['opera',/opera(?:.*version)?[ \/]([\d_.]+)/],['safari',/version[ \/]([\d_.]+) safari/],['safari',/safari/]],i=e(navigator.userAgent.toLowerCase());if(i.name)i[i.name]=!0;return i;}),define('common/function/compressImage_1539d29a96',function(){function e(e,i,r,a,n){var s=0.05;if(a/n/(r/ i)>1+2*s)return'@1e_'+i+'w_1c_0i_1o_90Q_1x.'+e+'%7C0-'+s*i*n/a+'-'+i+'-'+r+'a.'+e.toLowerCase();else return t(e,i,r);}function t(e,t,i,r){return'@'+(r?0:1)+'e_'+t+'w_'+i+'h_1c_0i_1o_90Q_1x.'+e.toLowerCase();}return function(i){var r=i.url,a=r.split('.').pop();if('gif'===a)a='jpg';var n=i.width,s=i.height,c=i.rawWidth,o=i.rawHeight;if(n=Math.floor(n),s=Math.floor(s),null!=c&&null!=o)return c=Math.floor(c),o=Math.floor(o),r+e(a,n,s,c,o);else return r+t(a,n,s,i.noCrop);};}),define('userCenter/common/function/renderImage_b12a57d1e9',['require','exports','module','cc/function/toNumber','common/function/compressImage_1539d29a96'],function(require){'use strict';var e=require('cc/function/toNumber'),t=require('common/function/compressImage_1539d29a96');return function(i){'undefined'!=typeof window.devicePixelRatio?window.devicePixelRatio:1;$('img[data-src]',i).each(function(){var i=$(this),r=i.attr('data-src'),a=e(i.attr('data-width'),0),n=e(i.attr('data-height'),0),s=!e(i.attr('data-crop'),0);if(a>0&&n>0){var c=t({url:r,width:a,height:n,noCrop:s}),o=t({url:r,width:2*a,height:2*n,noCrop:s}),l=t({url:r,width:3*a,height:3*n,noCrop:s}),d=[o+' 2x',l+' 3x'];i.prop({src:c,srcset:d.join(',')}).removeAttr('data-src');}});};}),define('userCenter/common/service_1288b24a55',['require','exports','module'],function(require,exports){'use strict';function e(e,t){var i=e;if(t)i+=$.param(t);return i;}function t(t,i,c){i=i||{},c=$.extend({},r,c);var o,l;if(n[t])l=e(t,i),o=s[l];var d=$.Deferred();if(o)if(!o.response)o.deferredList.push(d);else d.resolve(o.response);else{var _=userData.number||0;if(!a[t])i._user_number=_,$.extend(i,siteData.monkey);if($.ajax({url:t,data:i,method:'post',dataType:'json',timeout:c.timeout,async:c.sync?!1:!0}).then(function(e){if(n[t])o=s[l],o.response=e,$.each(o.deferredList,function(t,i){if(e&&0===e.code)i.resolve(e);else i.reject(e);}),o.deferredList.length=0;else if(e&&0===e.code)d.resolve(e);else{var i=e.msg;if(i&&!c.preventError)alert({title:'提示',content:i});d.reject(e);}},function(e,t){if('timeout'===t||'error'===t)d.reject({code:-1});}),n[t])s[l]={},s[l].deferredList=[d];}return d;}function i(e,t){return $.ajax({url:e,data:t,dataType:'jsonp'});}var r={timeout:5000,sync:!1,stringify:!1,preventError:!1},a={'/area/list':1,'/subject/getList':1},n={'/user/basicInfo':1},s={};exports.post=t,exports.jsonp=i,exports.getUserBasicInfo=function(e){var i;if(e&&null!=e.userId&&null!=e.userType)i={user_id:e.userId,user_type:e.userType};return t('/user/basicInfo',i);},exports.getCourseList=function(){return t('/lesson/list');},exports.getUserType=function(){return t('/user/roles');},exports.sendInviteCode=function(e){var i=$.extend(e.formData||{},{invite_code:e.inviteCode,role:e.role});return t('/user/switch_role_ajax',i);},exports.getCDNSpeedTestUrls=function(){return t('/video/getSpeedTestUrl');};}),define('userCenter/teacherCenter/indexDecorate/indexDecorate_html',function(){return'<div class="card index-decorate"><div class="header"><div class="card-title">主页装修</div><div class="hint">选择您主页上的模板\uFF0C建议使用chrome浏览器浏览手机端动态效果</div></div><div class="body"><div class="tabs large primary"><div class="tab{{#if checked_tab_index == 0}} checked{{/if}}" on-click="set(\'checked_tab_index\', 0)">网页模板</div><div class="tab{{#if checked_tab_index == 1}} checked{{/if}}" on-click="set(\'checked_tab_index\', 1)">手机模板</div></div><div class="web-templates {{#if checked_tab_index != 0}} hidden{{/if}}"><ul class="templates unstyled">{{#each tpl_data.template_pc_list:index}}<li on-click="checkedTemp(event, index, \'pc\')" {{#if tpl_data.teacher.template_pc == this.name}}class="active"{{/if}}>{{#if this.name != \'default\'}}<a class="button info small radius" href="{{this.preview_url}}" target="_blank">预览网页效果</a>{{/if}}<img data-src="{{this.cover_url}}" data-width="200" data-height="125">{{this.display_name}}</li>{{/each}}</ul><div class="decorate-action"><button class="button primary radius" on-click="release(\'pc\')">发布</button></div></div><div class="app-templates {{#if checked_tab_index != 1}} hidden{{/if}}"><ul class="templates unstyled">{{#each tpl_data.template_m_list:index}}<li on-click="checkedTemp(event, index, \'m\')" {{#if tpl_data.teacher.template_m == this.name}}class="active"{{/if}}>{{#if this.name != \'default\'}}<div class="button info small radius"on-click="preview(index)">预览手机效果</div>{{/if}}<img data-src="{{this.cover_url}}" data-width="200" data-height="125">{{this.display_name}}</li>{{/each}}</ul><div class="decorate-action"><button class="button primary radius" on-click="release(\'m\')">发布</button></div></div></div></div>{{#if is_preview_m}}<div class="preview-mask"></div><div class="preview-phone"><div class="view">{{#if is_chrome}}<div class="view-content-iframe"><iframe scrolling="auto" src="{{preview_m_url}}"></iframe></div>{{else}}<div class="view-content-img"><img class="priview-img" src="{{preview_m_img}}" /></div>{{/if}}</div><div class="actions">{{#if preview_m_temp_no > 1}}<div class="prev-temp" on-click="prevPreview(preview_m_temp_no - 1)">上一个模板</div>{{/if}}{{#if preview_m_temp_no < tpl_data.template_m_list.length - 1}}<div class="next-temp" on-click="nextPreview(preview_m_temp_no + 1)">下一个模板</div>{{/if}}<div class="exit-preview" on-click="exitPreview()">退出预览</div></div></div>{{/if}}';}),define('userCenter/teacherCenter/indexDecorate/indexDecorate_275c6161ed',['require','exports','module','cc/util/browser','./service_43794ea0e5','../../common/function/renderImage_b12a57d1e9','./indexDecorate_html'],function(require,exports){'use strict';var e=require('cc/util/browser'),t=require('./service_43794ea0e5'),i=require('../../common/function/renderImage_b12a57d1e9');exports.init=function(r){var a=new Ractive({el:'#container',template:require('./indexDecorate_html'),data:{tpl_data:r,template_m_list:r.template_m_list,template_pc_list:r.template_pc_list,site_data:siteData,user_data:userData,checked_tab_index:0,is_chrome:e.chrome,is_preview_m:!1,preview_m_temp_no:0,preview_m_img:'',preview_m_url:'',checked_m_name:r.teacher.template_m||'default',checked_pc_name:r.teacher.template_pc||'default',need_m_vip_level:r.teacher.template_m_need_level||0,need_pc_vip_level:r.teacher.template_pc_need_level||0,org_id:0},onrender:function(){i(),t.getUserBasicInfo().then(function(e){var t=e.data;a.set('org_id',t.org_id);});},checkedTemp:function(e,t,i){var r=$(e.node),n=r.closest('.templates');if(n.find('li').each(function(e,t){$(t).removeClass('active');}),r.addClass('active'),'m'===i)a.set('checked_m_name',a.get('template_m_list['+t+'].name')),a.set('need_m_vip_level',a.get('template_m_list['+t+'].vip_level'));else if('pc'===i)a.set('checked_pc_name',a.get('template_pc_list['+t+'].name')),a.set('need_pc_vip_level',a.get('template_pc_list['+t+'].vip_level'));},preview:function(e){a.set('is_preview_m',!0),a.set('preview_m_temp_no',e),a.set('preview_m_img',a.get('template_m_list['+e+'].preview_img')),a.set('preview_m_url',a.get('template_m_list['+e+'].preview_url'));},prevPreview:function(e){a.set('preview_m_temp_no',e),a.set('preview_m_img',a.get('template_m_list['+e+'].preview_img')),a.set('preview_m_url',a.get('template_m_list['+e+'].preview_url'));},nextPreview:function(e){a.set('preview_m_temp_no',e),a.set('preview_m_img',a.get('template_m_list['+e+'].preview_img')),a.set('preview_m_url',a.get('template_m_list['+e+'].preview_url'));},exitPreview:function(){a.set('is_preview_m',!1),a.set('preview_m_temp_no',0);},release:function(e){var i,r,n=a.get('user_data.vip_level'),s=!1;if('m'===e)if(r={tempMName:a.get('checked_m_name')},i=a.get('need_m_vip_level'),'default'!=a.get('checked_m_name'))s=!0;else s=!1;else if('pc'===e)if(r={tempPcName:a.get('checked_pc_name')},i=a.get('need_pc_vip_level'),'default'!=a.get('checked_pc_name'))s=!0;else s=!1;if(s)if(a.get('org_id')){var c='';if(1==i&&1>n)c='该模板仅会员用户才能使用\uFF0C请联系机构开通会员';else if(i>n)c='该模板需更高级别会员才能使用\uFF0C请联系机构升级会员';if(c)return confirm({title:'温馨提示',width:350,content:c,buttons:[{text:'我知道了',type:'primary',action:function(){this.hide();}}]}),!1;}else{var c='';if(3==i&&3>n)c='该模板仅超级会员用户才能使用\uFF0C开通超级会员还可以获得更多生源哦';else if(2==i&&2>n)c='该模板仅高级或超级会员用户才能使用\uFF0C开通高级或超级会员还可以获得更多生源哦';else if(1==i&&1>n)c='该模板仅会员用户才能使用\uFF0C开通会员还可以获得更多生源哦';if(c)return confirm({title:'温馨提示',width:350,content:c,buttons:[{text:'立即开通',type:'primary',action:function(){location.href='/teacher_center/vip_center';}},{text:'详细了解',type:'secondary',action:function(){location.href='/teacher_center/vip_detail?type=pageDress';}}]}),!1;}t.updateTemplate(r).then(function(){tip({type:'success',content:'模板发布成功'});});}});};}),define('userCenter/teacherCenter/indexDecorate/service_43794ea0e5',['require','exports','module','../../common/service_1288b24a55'],function(require,exports){'use strict';var e=require('../../common/service_1288b24a55');exports.updateTemplate=function(t){return e.post('/teacher_center/update_template',{template_m:t.tempMName,template_pc:t.tempPcName});},exports.getUserBasicInfo=function(t){var i;if(t&&null!=t.userId&&null!=t.userType)i={user_id:t.userId,user_type:t.userType};return e.post('/user/basicInfo',i);};});