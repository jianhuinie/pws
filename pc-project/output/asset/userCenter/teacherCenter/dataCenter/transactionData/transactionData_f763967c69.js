define('userCenter/common/service_1288b24a55',['require','exports','module'],function(require,exports){'use strict';function e(e,s){var t=e;if(s)t+=$.param(s);return t;}function s(s,t,c){t=t||{},c=$.extend({},i,c);var d,o;if(n[s])o=e(s,t),d=r[o];var l=$.Deferred();if(d)if(!d.response)d.deferredList.push(l);else l.resolve(d.response);else{var v=userData.number||0;if(!a[s])t._user_number=v,$.extend(t,siteData.monkey);if($.ajax({url:s,data:t,method:'post',dataType:'json',timeout:c.timeout,async:c.sync?!1:!0}).then(function(e){if(n[s])d=r[o],d.response=e,$.each(d.deferredList,function(s,t){if(e&&0===e.code)t.resolve(e);else t.reject(e);}),d.deferredList.length=0;else if(e&&0===e.code)l.resolve(e);else{var t=e.msg;if(t&&!c.preventError)alert({title:'提示',content:t});l.reject(e);}},function(e,s){if('timeout'===s||'error'===s)l.reject({code:-1});}),n[s])r[o]={},r[o].deferredList=[l];}return l;}function t(e,s){return $.ajax({url:e,data:s,dataType:'jsonp'});}var i={timeout:5000,sync:!1,stringify:!1,preventError:!1},a={'/area/list':1,'/subject/getList':1},n={'/user/basicInfo':1},r={};exports.post=s,exports.jsonp=t,exports.getUserBasicInfo=function(e){var t;if(e&&null!=e.userId&&null!=e.userType)t={user_id:e.userId,user_type:e.userType};return s('/user/basicInfo',t);},exports.getCourseList=function(){return s('/lesson/list');},exports.getUserType=function(){return s('/user/roles');},exports.sendInviteCode=function(e){var t=$.extend(e.formData||{},{invite_code:e.inviteCode,role:e.role});return s('/user/switch_role_ajax',t);},exports.getCDNSpeedTestUrls=function(){return s('/video/getSpeedTestUrl');};}),define('userCenter/teacherCenter/common/service_79853c6d3e',['require','exports','module','../../common/service_1288b24a55'],function(require,exports){'use strict';var e=require('../../common/service_1288b24a55');exports.overviewAudit=function(s){return e.post('/teacher_center/overview',s);},exports.getUserBasicInfo=function(s){var t;if(s&&null!=s.userId&&null!=s.userType)t={user_id:s.userId,user_type:s.userType};return e.post('/user/basicInfo',t);},exports.getCourseList=function(s){return e.post('/tcenter/courses/class-courses/list',s);},exports.doCourseActions=function(s){return e.post('/tcenter/courses/class-courses/do',s);};}),define('userCenter/teacherCenter/dataCenter/header_html',function(){return'<ul class="data-center-header"><li class="data-center-header-item visit"><a rel="nofollow" class="link" href="/teacher_center/visit_data">流量分析</a></li><li class="data-center-header-item transaction"><a rel="nofollow" class="link" href="/teacher_center/transaction_data">转化统计</a></li><li class="data-center-header-item sysnthetic"><a rel="nofollow" class="link" href="/teacher_center/sysnthetic_sort">排名解析</a></li><li class="data-center-header-item RecordPoints"><a rel="nofollow" class="link" href="/teacher_center/deductList">扣分记录</a></li></ul>';}),define('userCenter/teacherCenter/dataCenter/transactionData/novipchange_html',function(){return'<div class="no-change">{{#if org}}转化统计能帮助您了解从&nbsp;"访客"&nbsp;到&nbsp;"下单"&nbsp;再到&nbsp;"支付"&nbsp;的转化情况\uFF0C请联系机构开通会员{{else}}转化统计能帮助您了解从&nbsp;"访客"&nbsp;到&nbsp;"下单"&nbsp;再到&nbsp;"支付"&nbsp;的转化情况\uFF0C<a href="https://www.genshuixue.com/pay/vip">开通会员</a>随时看{{/if}}<br><div class="button"><a href="/teacher_center/vip_center" target="_blank">了解会员特权</a></div></div>';}),define('userCenter/teacherCenter/dataCenter/transactionData/transactionData_html',function(){return'<div id="content" class="card"><div id="content-header"></div><div class="visit-data"><div class="datas week"><span class="datas-times">今日成单数:<span> {{tot_today}}</span></span><span class="datas-times">昨日成单数:<span> {{tot_yest}}</span></span><span class="datas-times">近7天成单数:<span> {{tot_week}}</span></span></div><div class="datas month" style="display: none"><span class="datas-times">近1个月成单数:<span> {{tot_month}}</span></span></div><div class="datas month3" style="display: none"><span class="datas-times">近3个月成单数:<span> {{tot_season}}</span></span></div><div class="dates"><span data-index="week" class="dates-times active" on-click="changeTab(event)" style="border-right: none;margin-right: -5px;">最近7天</span><span data-index="month" class="dates-times" on-click="changeTab(event)" style="border-right: none;margin-right: -5px;">最近1月</span><span data-index="month3" class="dates-times" on-click="changeTab(event)">最近3月</span></div></div><div class="charts-table-line"></div><div class="title">成单解析</div><div class="data-source"><div class="course-left"><div class="data-pie"></div><div class="data-source-items"><div class="source-item"><div class="item-name">一对一</div><div class="process-back"><div class="process-entity one2one" style="width: {{ source.one2one }}%;"></div></div><div class="one2one-percent">{{source.one2one}}%</div></div><div class="source-item"><div class="item-name">班课</div><div class="process-back"><div class="process-entity class" style="width: {{ source.class }}%;"></div></div><div class="class-percent">{{source.class}}%</div></div><div class="source-item"><div class="item-name">视频课</div><div class="process-back"><div class="process-entity video" style="width: {{source.video }}%;"></div></div><div class="video-percent">{{source.video}}%</div></div><div class="source-item"><div class="item-name">试听课</div><div class="process-back"><div class="process-entity trial" style="width: {{source.trial }}%;"></div></div><div class="trial-percent">{{source.trial}}%</div></div></div></div><div class="course-right"><div class="visit-number">{{tot_week}}</div><div class="visit-descrip">最近7天成单数</div></div></div><div class="title">交易转化</div><div class="exchange"></div></div>';}),define('userCenter/teacherCenter/dataCenter/transactionData/transactionData_f763967c69',['require','exports','echarts','../../common/service_79853c6d3e','echarts/chart/line','echarts/chart/pie','underscore','./transactionData_html','./../header_html','./vipchange_html','./novipchange_html'],function(require,exports){'use strict';function e(e,s,t){e.setOption({tooltip:{trigger:'axis'},grid:{x:50,y:10,x2:40,y2:30},xAxis:[{type:'category',boundaryGap:!1,data:r.keys(s)}],yAxis:[{type:'value'}],series:[{name:t,type:'line',itemStyle:{normal:{color:'#ff712e',lineStyle:{color:'#ff712e',shadowColor:'#ff712e'},areaStyle:{type:'default',color:'#ffe2c4'}}},data:r.values(s),lineStyle:{color:'#555555',type:'solid',width:1}}]});}function s(e){if(e.one2one+e['class']+e.video+e.trial==0)return void $('#content').find('.data-pie').html('<img src='+n+'>');var s=i.init($('#content').find('.data-pie')[0],'shine');s.setOption({tooltip:{trigger:'item',formatter:'{b}:{d}%'},series:[{type:'pie',radius:['45%','70%'],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},data:[{value:e.one2one,name:'一对一',itemStyle:{normal:{color:'#f3846c'}}},{value:e['class'],name:'班课',itemStyle:{normal:{color:'#eebb5e'}}},{value:e.video,name:'视频课',itemStyle:{normal:{color:'#95ca70'}}},{value:e.trial,name:'试听课',itemStyle:{normal:{color:'#747b9b'}}}]}]});}function t(e,s){var t=$('#content').find('.source-item');$('#content').find('.visit-number').text(e.sum),$('#content').find('.visit-descrip').text('最近'+s+'成单数'),t.find('.one2one-percent').text(e.one2one+'%'),t.find('.class-percent').text(e['class']+'%'),t.find('.video-percent').text(e.video+'%'),t.find('.trial-percent').text(e.trial+'%'),t.find('.one2one').animate({width:e.one2one+'%'},300),t.find('.class').animate({width:e['class']+'%'},300),t.find('.video').animate({width:e.video+'%'},300),t.find('.trial').animate({width:e.trial+'%'},300);}var i=require('echarts'),a=require('../../common/service_79853c6d3e');require('echarts/chart/line'),require('echarts/chart/pie');var n=require.toUrl('./image/nono.jpg'),r=require('underscore');exports.init=function(n){var r=n.deal_statistic.week,c=n.deal_statistic.month,d=n.deal_statistic.season,o=n.deal_source;o.week.sum=n.deal_statistic.tot_week,o.month.sum=n.deal_statistic.tot_month,o.season.sum=n.deal_statistic.tot_season;var l=userData.vip_level;new Ractive({el:'#container',template:require('./transactionData_html'),data:{tot_today:n.deal_statistic.tot_today,tot_yest:n.deal_statistic.tot_yest,tot_week:n.deal_statistic.tot_week,tot_month:n.deal_statistic.tot_month,tot_season:n.deal_statistic.tot_season,source:o.week},changeTab:function(i){var a=$(i.node);v.find('.dates-times').removeClass('active'),a.addClass('active');var n=a.attr('data-index');if(v.find('.visit-data .datas').hide(),v.find('.visit-data').find('.'+n).show(),'month'==n)e(u,c,'成单数'),s(o.month,'平均成单数'),t(o.month,'1月');else if('month3'==n)e(u,d,'成单数'),s(o.season,'平均成单数'),t(o.season,'3月');else e(u,r,'成单数'),s(o.week,'成单数'),t(o.week,'7天');}}),new Ractive({el:'#content-header',template:require('./../header_html')});var v=$('#content');if(l)new Ractive({el:'.exchange',template:require('./vipchange_html'),data:{weeks:n.deal_conversion.weeks,history:n.deal_conversion.history,vistor_rate:parseInt(n.deal_conversion.weeks.vistor_rate),getNumber:function(e){var s=$.type(e);if('number'!=s){var t=+e.replace('%','');if(t>0)return t+'%';else return-1*t+'%';}else if('number'===s)if(e>0)return e+'%';else return 0-e+'%';else return 0;}},changeTrans:function(e){var s=$(e.node),t=s.attr('data-index');v.find('.exchange-times').removeClass('active'),s.addClass('active'),v.find('.exchange-data-item').hide(),v.find('.'+t).show();}});else var p=new Ractive({el:'.exchange',template:require('./novipchange_html'),data:{},onrender:function(){a.getUserBasicInfo().then(function(e){var s=e.data;p.set('org',s.org_id?!0:!1);});}});var u=i.init(v.find('.charts-table-line')[0],'shine');e(u,r,'成单数'),s(o.week);};}),define('userCenter/teacherCenter/dataCenter/transactionData/vipchange_html',function(){return'<div class="exchange-tab"><span data-index="exchange-weeks" class="exchange-times active" on-click="changeTrans(event)" style="border-right: none;margin-right: -5px;">最近2周</span><span data-index="exchange-sums" class="exchange-times" on-click="changeTrans(event)" >累计</span></div><div class="exchange-data"><div class="exchange-weeks exchange-data-item"><div class="weeks-num"><div class="number">浏览量<br/><span>{{weeks.vistor_num}}</span></div><div class="percent {{#if vistor_rate > 0 }} active up {{else}}down {{/if}}">{{ getNumber(weeks.vistor_rate) }}<i class="icon"></i></div><div class="img-descript"><div class="descripts"><i class="visit icon"></i>访客</div></div></div><div class="weeks-rate"> <i class="line"></i><div class="rate">{{weeks.rate}}%<br/>支付转化率</div> </div><div class="weeks-order"><div class="number">下单数<br/><span>{{weeks.order_num}}</span></div><div class="percent {{#if weeks.order_num_rate > 0 }} active up {{else}}down {{/if}}">{{ getNumber(weeks.order_num_rate) }}<i class="icon"></i></div><div class="number">下单金额<br/><span>{{weeks.order_money}}</span></div><div class="percent {{#if weeks.order_money_rate > 0 }} active up {{else}}down {{/if}}">{{ getNumber(weeks.order_money_rate) }}<i class="icon"></i></div><div class="img-descript"><div class="descripts"><i class="order icon"></i>下单</div></div></div><div class="weeks-pay"><div class="number">支付数<br/><span>{{weeks.pay_num}}</span></div><div class="percent {{#if weeks.pay_num_order > 0 }} active up {{else}}down {{/if}}">{{ getNumber(weeks.pay_num_order) }}<i class="icon"></i></div><div class="number">支付金额<br/><span>{{weeks.pay_money}}</span></div><div class="percent {{#if weeks.pay_money_rate > 0 }} active up {{else}}down {{/if}}">{{ getNumber(weeks.pay_money_rate) }}<i class="icon"></i></div><div class="img-descript"><div class="descripts"><i class="pay icon"></i>支付</div></div></div></div><div class="exchange-sums exchange-data-item"><div class="weeks-num"><div class="number">浏览量<br/><span>{{history.vistor}}</span></div><div class="percent"></div><div class="img-descript"><div class="descripts"><i class="visit icon"></i>访客</div></div></div><div class="weeks-rate"> <i class="line"></i><div class="rate">{{history.rate}}%<br/>支付转化率</div> </div><div class="weeks-order"><div class="number">下单数<br/><span>{{history.order_num}}</span></div><div class="percent"></div><div class="number">下单金额<br/><span>{{history.order_money}}</span></div><div class="percent"></div><div class="img-descript"><div class="descripts"><i class="order icon"></i>下单</div></div></div><div class="weeks-pay"><div class="number">支付数<br/><span>{{history.pay_num}}</span></div><div class="percent"></div><div class="number">支付金额<br/><span>{{history.pay_money}}</span></div><div class="percent"></div><div class="img-descript"><div class="descripts"><i class="pay icon"></i>支付</div></div></div></div></div><div class="exchange-style"><div class="title">怎样提高转化\uFF1F</div><p>1.获得更多的页面浏览量</p><p>2.增加页面的丰富度\uFF0C或者主动去回复转化潜在生源</p><p>3.维护好目前的学生\uFF0C增加转介绍和扩课</p></div>';});