define('userCenter/common/biz/SparkMD5_8024bed042',['require','exports','module'],function(){'use strict';function e(e,t,r,n,i,u){return t=m(m(t,e),m(n,u)),m(t<<i|t>>>32-i,r);}function t(t,r,n,i,u,o,s){return e(r&n|~r&i,t,r,u,o,s);}function r(t,r,n,i,u,o,s){return e(r&i|n&~i,t,r,u,o,s);}function n(t,r,n,i,u,o,s){return e(r^n^i,t,r,u,o,s);}function i(t,r,n,i,u,o,s){return e(n^(r|~i),t,r,u,o,s);}function u(e,u){var o=e[0],s=e[1],a=e[2],f=e[3];o=t(o,s,a,f,u[0],7,-680876936),f=t(f,o,s,a,u[1],12,-389564586),a=t(a,f,o,s,u[2],17,606105819),s=t(s,a,f,o,u[3],22,-1044525330),o=t(o,s,a,f,u[4],7,-176418897),f=t(f,o,s,a,u[5],12,1200080426),a=t(a,f,o,s,u[6],17,-1473231341),s=t(s,a,f,o,u[7],22,-45705983),o=t(o,s,a,f,u[8],7,1770035416),f=t(f,o,s,a,u[9],12,-1958414417),a=t(a,f,o,s,u[10],17,-42063),s=t(s,a,f,o,u[11],22,-1990404162),o=t(o,s,a,f,u[12],7,1804603682),f=t(f,o,s,a,u[13],12,-40341101),a=t(a,f,o,s,u[14],17,-1502002290),s=t(s,a,f,o,u[15],22,1236535329),o=r(o,s,a,f,u[1],5,-165796510),f=r(f,o,s,a,u[6],9,-1069501632),a=r(a,f,o,s,u[11],14,643717713),s=r(s,a,f,o,u[0],20,-373897302),o=r(o,s,a,f,u[5],5,-701558691),f=r(f,o,s,a,u[10],9,38016083),a=r(a,f,o,s,u[15],14,-660478335),s=r(s,a,f,o,u[4],20,-405537848),o=r(o,s,a,f,u[9],5,568446438),f=r(f,o,s,a,u[14],9,-1019803690),a=r(a,f,o,s,u[3],14,-187363961),s=r(s,a,f,o,u[8],20,1163531501),o=r(o,s,a,f,u[13],5,-1444681467),f=r(f,o,s,a,u[2],9,-51403784),a=r(a,f,o,s,u[7],14,1735328473),s=r(s,a,f,o,u[12],20,-1926607734),o=n(o,s,a,f,u[5],4,-378558),f=n(f,o,s,a,u[8],11,-2022574463),a=n(a,f,o,s,u[11],16,1839030562),s=n(s,a,f,o,u[14],23,-35309556),o=n(o,s,a,f,u[1],4,-1530992060),f=n(f,o,s,a,u[4],11,1272893353),a=n(a,f,o,s,u[7],16,-155497632),s=n(s,a,f,o,u[10],23,-1094730640),o=n(o,s,a,f,u[13],4,681279174),f=n(f,o,s,a,u[0],11,-358537222),a=n(a,f,o,s,u[3],16,-722521979),s=n(s,a,f,o,u[6],23,76029189),o=n(o,s,a,f,u[9],4,-640364487),f=n(f,o,s,a,u[12],11,-421815835),a=n(a,f,o,s,u[15],16,530742520),s=n(s,a,f,o,u[2],23,-995338651),o=i(o,s,a,f,u[0],6,-198630844),f=i(f,o,s,a,u[7],10,1126891415),a=i(a,f,o,s,u[14],15,-1416354905),s=i(s,a,f,o,u[5],21,-57434055),o=i(o,s,a,f,u[12],6,1700485571),f=i(f,o,s,a,u[3],10,-1894986606),a=i(a,f,o,s,u[10],15,-1051523),s=i(s,a,f,o,u[1],21,-2054922799),o=i(o,s,a,f,u[8],6,1873313359),f=i(f,o,s,a,u[15],10,-30611744),a=i(a,f,o,s,u[6],15,-1560198380),s=i(s,a,f,o,u[13],21,1309151649),o=i(o,s,a,f,u[4],6,-145523070),f=i(f,o,s,a,u[11],10,-1120210379),a=i(a,f,o,s,u[2],15,718787259),s=i(s,a,f,o,u[9],21,-343485551),e[0]=m(o,e[0]),e[1]=m(s,e[1]),e[2]=m(a,e[2]),e[3]=m(f,e[3]);}function o(e){var t,r=[];for(t=0;64>t;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r;}function s(e){var t,r=[];for(t=0;64>t;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r;}function a(e){var t,r,n,i,s,a,f=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;f>=t;t+=64)u(c,o(e.substring(t-64,t)));for(e=e.substring(t-64),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;r>t;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(u(c,n),t=0;16>t;t+=1)n[t]=0;return i=8*f,i=i.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),a=parseInt(i[1],16)||0,n[14]=s,n[15]=a,u(c,n),c;}function f(e){var t,r,n,i,o,a,f=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;f>=t;t+=64)u(c,s(e.subarray(t-64,t)));for(e=f>t-64?e.subarray(t-64):new Uint8Array(0),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;r>t;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(u(c,n),t=0;16>t;t+=1)n[t]=0;return i=8*f,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,n[14]=o,n[15]=a,u(c,n),c;}function c(e){var t,r='';for(t=0;4>t;t+=1)r+=_[e>>8*t+4&15]+_[e>>8*t&15];return r;}function h(e){var t;for(t=0;t<e.length;t+=1)e[t]=c(e[t]);return e.join('');}function d(e){if(/[\u0080-\uFFFF]/.test(e))e=unescape(encodeURIComponent(e));return e;}function p(e,t){var r,n=e.length,i=new ArrayBuffer(n),u=new Uint8Array(i);for(r=0;n>r;r+=1)u[r]=e.charCodeAt(r);return t?u:i;}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e));}function y(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer;}function b(e){var t,r=[],n=e.length;for(t=0;n-1>t;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r);}function v(){this.reset();}var m=function(e,t){return e+t&4294967295;},_=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];if('5d41402abc4b2a76b9719d911017c592'!==h(a('hello')))m=function(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r;};if('undefined'!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice)!function(){function e(e,t){if(e=0|e||0,0>e)return Math.max(e+t,0);else return Math.min(e,t);}ArrayBuffer.prototype.slice=function(t,r){var n,i,u,o,s=this.byteLength,a=e(t,s),f=s;if(void 0!==r)f=e(r,s);if(a>f)return new ArrayBuffer(0);else return n=f-a,i=new ArrayBuffer(n),u=new Uint8Array(i),o=new Uint8Array(this,a,n),u.set(o),i;};}();return v.prototype.append=function(e){return this.appendBinary(d(e)),this;},v.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;r>=t;t+=64)u(this._hash,o(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this;},v.prototype.end=function(e){var t,r,n=this._buff,i=n.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)u[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(this._finish(u,i),r=h(this._hash),e)r=b(r);return this.reset(),r;},v.prototype.reset=function(){return this._buff='',this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this;},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash};},v.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this;},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length;},v.prototype._finish=function(e,t){var r,n,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(u(this._hash,e),o=0;16>o;o+=1)e[o]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=n,e[15]=i,u(this._hash,e);},v.hash=function(e,t){return v.hashBinary(d(e),t);},v.hashBinary=function(e,t){var r=a(e),n=h(r);return t?b(n):n;},v.ArrayBuffer=function(){this.reset();},v.ArrayBuffer.prototype.append=function(e){var t,r=y(this._buff.buffer,e,!0),n=r.length;for(this._length+=e.byteLength,t=64;n>=t;t+=64)u(this._hash,s(r.subarray(t-64,t)));return this._buff=n>t-64?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this;},v.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)u[t>>2]|=n[t]<<(t%4<<3);if(this._finish(u,i),r=h(this._hash),e)r=b(r);return this.reset(),r;},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this;},v.ArrayBuffer.prototype.getState=function(){var e=v.prototype.getState.call(this);return e.buff=l(e.buff),e;},v.ArrayBuffer.prototype.setState=function(e){return e.buff=p(e.buff,!0),v.prototype.setState.call(this,e);},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(e,t){var r=f(new Uint8Array(e)),n=h(r);return t?b(n):n;},v;}),define('userCenter/common/service_1288b24a55',['require','exports','module'],function(require,exports){'use strict';function e(e,t){var r=e;if(t)r+=$.param(t);return r;}function t(t,r,s){r=r||{},s=$.extend({},n,s);var a,f;if(u[t])f=e(t,r),a=o[f];var c=$.Deferred();if(a)if(!a.response)a.deferredList.push(c);else c.resolve(a.response);else{var h=userData.number||0;if(!i[t])r._user_number=h,$.extend(r,siteData.monkey);if($.ajax({url:t,data:r,method:'post',dataType:'json',timeout:s.timeout,async:s.sync?!1:!0}).then(function(e){if(u[t])a=o[f],a.response=e,$.each(a.deferredList,function(t,r){if(e&&0===e.code)r.resolve(e);else r.reject(e);}),a.deferredList.length=0;else if(e&&0===e.code)c.resolve(e);else{var r=e.msg;if(r&&!s.preventError)alert({title:'提示',content:r});c.reject(e);}},function(e,t){if('timeout'===t||'error'===t)c.reject({code:-1});}),u[t])o[f]={},o[f].deferredList=[c];}return c;}function r(e,t){return $.ajax({url:e,data:t,dataType:'jsonp'});}var n={timeout:5000,sync:!1,stringify:!1,preventError:!1},i={'/area/list':1,'/subject/getList':1},u={'/user/basicInfo':1},o={};exports.post=t,exports.jsonp=r,exports.getUserBasicInfo=function(e){var r;if(e&&null!=e.userId&&null!=e.userType)r={user_id:e.userId,user_type:e.userType};return t('/user/basicInfo',r);},exports.getCourseList=function(){return t('/lesson/list');},exports.getUserType=function(){return t('/user/roles');},exports.sendInviteCode=function(e){var r=$.extend(e.formData||{},{invite_code:e.inviteCode,role:e.role});return t('/user/switch_role_ajax',r);},exports.getCDNSpeedTestUrls=function(){return t('/video/getSpeedTestUrl');};}),define('userCenter/teacherCenter/videoCourseEdit/service',['require','exports','module','../../common/service_1288b24a55','../../common/biz/SparkMD5_8024bed042'],function(require,exports){'use strict';function e(e,r,n){return t.post(e,r,n).then(null,function(e){if(e.msg&&n&&!n.preventError)alert({title:'温馨提示',content:e.msg});return e;});}var t=require('../../common/service_1288b24a55'),r=require('../../common/biz/SparkMD5_8024bed042');exports.saveCourseInfo=function(t){var r=[],n=[];$.each(t.subjects,function(e,t){r.push(t.value),n.push(t.text);});var i=$.merge(r,n),u={user_number:userData.number,title:t.title,portrait:t.cover,introduce:t.intro,price:t.price,expire_time:t.expireDay,subject_id:i.join(','),language:t.language.value,label_ids:t.tags.join(',')};if(t.number)u.number=t.number;return e('/video_course/setcourseinfo',u);},exports.getVideoUploadUrl=function(t,r){return e('/video_course/getuploadurl',{user_number:userData.number,title:t.fileName,total_size:t.fileSize,cdn_host:t.cdnHost,uploadtype:1},r);},exports.getVideoResumeUploadUrl=function(t){return e('/video_course/getresumeuploadurl',{user_number:userData.number,video_id:t.videoId});},exports.saveSection=function(t){var r={user_number:userData.number,number:t.number,name:t.sectionName,video_id:t.videoId,file_name:t.videoName,index:t.sectionIndex,pay_status:t.payStatus,type:t.action};if(t.sectionId)r.section_id=t.sectionId;return e('/video_course/setvideoinfo',r);},exports.deleteSection=function(t){return e('/video_course/removevideoitem',{section_id:t.sectionId,delete_media:t.deleteMedia?1:0});},exports.saveVideoOrder=function(t){return e('/video_course/resetvideopos',{user_number:userData.number,number:t.number,section_ids:t.sectionIds});},exports.saveCourseDetail=function(t){return e('/video_course/setcoursebrief',{user_number:userData.number,number:t.number,brief:t.brief});},exports.saveCourse=function(t){return e('/video_course/setcoursestatus',{user_number:userData.number,number:t.number,type:t.status,modify_reason:t.modifyReason});},exports.getUserBasicInfo=function(e){var r;if(e&&null!=e.userId&&null!=e.userType)r={user_id:e.userId,user_type:e.userType};return t.post('/user/basicInfo',r);},exports.checkChunkUploadLack=function(e){var n='www'===siteData.env?'':siteData.env+'-',i=$.now(),u=r.hash('fids'+e.fid+'ts'+i);return t.jsonp('http://'+n+'upload-video.genshuixue.com/lackSegmentList',{fids:e.fid,ts:i,token:u}).then(function(t){var r='';return $.each(t.data,function(t,n){if(n.fid==e.fid)r=n.lackData;}),{code:0,data:{lack:r}};});};});