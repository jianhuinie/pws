define('userCenter/common/service_1288b24a55',['require','exports','module'],function(require,exports){'use strict';function e(e,t){var r=e;if(t)r+=$.param(t);return r;}function t(t,r,a){r=r||{},a=$.extend({},s,a);var c,d;if(i[t])d=e(t,r),c=n[d];var l=$.Deferred();if(c)if(!c.response)c.deferredList.push(l);else l.resolve(c.response);else{var u=userData.number||0;if(!o[t])r._user_number=u,$.extend(r,siteData.monkey);if($.ajax({url:t,data:r,method:'post',dataType:'json',timeout:a.timeout,async:a.sync?!1:!0}).then(function(e){if(i[t])c=n[d],c.response=e,$.each(c.deferredList,function(t,r){if(e&&0===e.code)r.resolve(e);else r.reject(e);}),c.deferredList.length=0;else if(e&&0===e.code)l.resolve(e);else{var r=e.msg;if(r&&!a.preventError)alert({title:'提示',content:r});l.reject(e);}},function(e,t){if('timeout'===t||'error'===t)l.reject({code:-1});}),i[t])n[d]={},n[d].deferredList=[l];}return l;}function r(e,t){return $.ajax({url:e,data:t,dataType:'jsonp'});}var s={timeout:5000,sync:!1,stringify:!1,preventError:!1},o={'/area/list':1,'/subject/getList':1},i={'/user/basicInfo':1},n={};exports.post=t,exports.jsonp=r,exports.getUserBasicInfo=function(e){var r;if(e&&null!=e.userId&&null!=e.userType)r={user_id:e.userId,user_type:e.userType};return t('/user/basicInfo',r);},exports.getCourseList=function(){return t('/lesson/list');},exports.getUserType=function(){return t('/user/roles');},exports.sendInviteCode=function(e){var r=$.extend(e.formData||{},{invite_code:e.inviteCode,role:e.role});return t('/user/switch_role_ajax',r);},exports.getCDNSpeedTestUrls=function(){return t('/video/getSpeedTestUrl');};}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/common/RelatedCourse_html',function(){return'<div class="add-related-course">{{#if relatedCourseList}}<ul class="related-course-list">{{#each relatedCourseList:index}}{{#if item.cover_url}}<li class="related-course-item"><img src="{{compressImage(item.cover_url, 200, 137)}}"><div class="content"><label><input class="text check-input" type="checkbox" checked="{{checked}}"><span class="choose">{{#if checked}}<i class="primary icon-check-circle"></i>{{/if}}</span></label><div class="title">{{item.display_name}}</div><div class="muted">{{item.type_cn}}</div>{{#if item.price_human}}<div class="price primary"><span class="now-price">{{#if item.price_human == 0}}免费{{else}}{{item.price_human}}{{/if}}</span></div>{{/if}}</div></li>{{/if}}{{/each}}</ul>{{else}}<div class="nodata">{{#if hasComputed}}您还没有招生中的课程{{else}}加载中...{{/if}}</div>{{/if}}<div class="footer buttons"><span class="small error intro">最多选择 3 门推荐课程</span>{{#if relatedCourseList.length > 0}}<div class="button primary before" on-click="save()">保存</div>{{/if}}<div class="button secondary" on-click="close()">取消</div></div><style>{{style}}</style></div>';}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/common/RelatedCourse',['require','exports','../service_d104b5ab74','./RelatedCourse_html','./RelatedCourse_css'],function(require){'use strict';var e=require('../service_d104b5ab74');return Ractive.extend({template:require('./RelatedCourse_html'),data:function(){return{style:require('./RelatedCourse_css'),relatedCourseList:null,hasComputed:!1,options:{item:[],save:$.noop,close:$.noop}};},components:{},onrender:function(){var t=this;e.getRelatedCourse().then(function(e){if(0==e.code){var r=[],s=e.data;$.each(s,function(e,s){var o=!1,i=t.get('options.item');if(!i)i={};if($.each(i,function(e,t){if(s.number==t.number)o=!0;}),!o)r.push({item:s,checked:!1});}),t.set({hasComputed:!0,relatedCourseList:r});}}),t.observe('relatedCourseList.*.checked',function(e){var r=t.get('options.item');if(!r)r=[];var s=t.get('relatedCourseList');if(e)r.push(s[arguments[3]]);else{var o=[];$.each(r,function(e,t){if(t.checked)o.push(t);}),r=o;}t.set('options.item',r);});},save:function(){var e=this.get('options.item');this.get('options').save(e);},close:function(){this.get('options').close();}});}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/common/RelatedCourse_css',function(){return'.classcourse-help-tooltip{width:785px;font-size:14px;line-height:26px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;}.classcourse-help-tooltip:before,.classcourse-help-tooltip:after{left:96% !important;margin-left:-8px !important;border-width:0 8px 8px 8px !important}.classcourse-help-tooltip:before{top:-8px !important}.classcourse-help-tooltip:after{top:-7px !important}.add-related-course .related-course-list{list-style:none;background-color:#f8f8f8;width:750px;height:468px;padding:17px;overflow-y:auto;}.add-related-course .related-course-list .related-course-item{padding:15px 5px;}.add-related-course .related-course-list .related-course-item > img{display:inline-block}.add-related-course .related-course-list .related-course-item .content{display:inline-block;width:475px;height:140px;vertical-align:top;padding:0 15px;position:relative;}.add-related-course .related-course-list .related-course-item .content > div{line-height:28px}.add-related-course .related-course-list .related-course-item .content .price{font-size:16px;}.add-related-course .related-course-list .related-course-item .content .price.free{color:#1db954}.add-related-course .related-course-list .related-course-item .content > label{position:absolute;top:0;right:-17px;margin-top:-15px;width:701px;height:173px;}.add-related-course .related-course-list .related-course-item .content > label .check-input{position:absolute;right:14px;top:41%}.add-related-course .related-course-list .related-course-item .content > label .choose{background-color:#fff;border:1px solid #ededec;width:25px;height:25px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;display:inline-block;position:absolute;left:95%;top:38%;}.add-related-course .related-course-list .related-course-item .content > label .choose .icon-check-circle{font-size:24px}.add-related-course .related-course-list .related-course-item:hover{background-color:#ededec;padding:15px 5px}.add-related-course .footer{text-align:center;margin-top:15px;}.add-related-course .footer .intro{line-height:36px;float:left}.add-related-course .footer .before{margin-left:-60px}.add-related-course .nodata{background-color:#f8f8f8;width:750px;height:468px;margin-bottom:17px;text-align:center;font-size:17px;color:#6d6d6e;line-height:468px}';}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/service_d104b5ab74',['require','exports','module','../../../common/service_1288b24a55'],function(require,exports){'use strict';function e(e,t,r){return $.ajax({url:e,data:t,dataType:'jsonp',timeout:r});}var t=require('../../../common/service_1288b24a55');exports.getSubjectList=function(e){return t.post('/tcenter/subjects/list',{keyword:e.keyword});},exports.getAddressList=function(){return t.post('/tcenter/addresses/list-simple');},exports.getAddressSuggestion=function(t){return e('http://api.map.baidu.com/place/v2/suggestion',{query:t.query,region:t.region,output:'json',ak:'EMB0bKIvMeOd70lyyG92BZlu'});},exports.checkAddress=function(e){return t.post('/teacher_center/checkAddress',{city_id:e.cityId,area_name:e.areaName});},exports.upsertAddress=function(e){return t.post('/teacher_center/upsertAddress',{address_id:e.addressId,area_id:e.areaId,address:e.locationAddr,lng:e.lng,lat:e.lat,as_regular_address:e.asRegularAddress},options);},exports.getRelatedCourse=function(){return t.post('/tcenter/courses/all-courses/selling-courses');},exports.getHistorySubject=function(){return t.post('/tcenter/courses/all-courses/history-subjects');},exports.getPhotoGallery=function(){return t.post('/tcenter/courses/photo-gallery/list');},exports.saveOfflineCourse=function(e){return t.post('/tcenter/courses/class-courses/save',{data:e},{preventError:!0,timeout:10000});},exports.getUserBasicInfo=function(e){var r;if(e&&null!=e.userId&&null!=e.userType)r={user_id:e.userId,user_type:e.userType};return t.post('/user/basicInfo',r);};});