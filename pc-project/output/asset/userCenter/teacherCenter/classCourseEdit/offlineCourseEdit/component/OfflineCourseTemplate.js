define('cc/function/toNumber',['require','exports','module'],function(){'use strict';var e={'int':parseInt,'float':parseFloat};return function(t,r,i){if('number'!==$.type(t)){var s=e[i];if(s)t=s(t,10);else if($.isNumeric(t))t=+t;else t=0/0;}return isNaN(t)?r:t;};}),define('common/function/compressImage_1539d29a96',function(){function e(e,r,i,s,a){var n=0.05;if(s/a/(i/r)>1+2*n)return'@1e_'+r+'w_1c_0i_1o_90Q_1x.'+e+'%7C0-'+n*r*a/s+'-'+r+'-'+i+'a.'+e.toLowerCase();else return t(e,r,i);}function t(e,t,r,i){return'@'+(i?0:1)+'e_'+t+'w_'+r+'h_1c_0i_1o_90Q_1x.'+e.toLowerCase();}return function(r){var i=r.url,s=i.split('.').pop();if('gif'===s)s='jpg';var a=r.width,n=r.height,o=r.rawWidth,c=r.rawHeight;if(a=Math.floor(a),n=Math.floor(n),null!=o&&null!=c)return o=Math.floor(o),c=Math.floor(c),i+e(s,a,n,o,c);else return i+t(s,a,n,r.noCrop);};}),define('userCenter/common/function/renderImage_b12a57d1e9',['require','exports','module','cc/function/toNumber','common/function/compressImage_1539d29a96'],function(require){'use strict';var e=require('cc/function/toNumber'),t=require('common/function/compressImage_1539d29a96');return function(r){'undefined'!=typeof window.devicePixelRatio?window.devicePixelRatio:1;$('img[data-src]',r).each(function(){var r=$(this),i=r.attr('data-src'),s=e(r.attr('data-width'),0),a=e(r.attr('data-height'),0),n=!e(r.attr('data-crop'),0);if(s>0&&a>0){var o=t({url:i,width:s,height:a,noCrop:n}),c=t({url:i,width:2*s,height:2*a,noCrop:n}),l=t({url:i,width:3*s,height:3*a,noCrop:n}),p=[c+' 2x',l+' 3x'];r.prop({src:o,srcset:p.join(',')}).removeAttr('data-src');}});};}),define('userCenter/common/service_1288b24a55',['require','exports','module'],function(require,exports){'use strict';function e(e,t){var r=e;if(t)r+=$.param(t);return r;}function t(t,r,o){r=r||{},o=$.extend({},i,o);var c,l;if(a[t])l=e(t,r),c=n[l];var p=$.Deferred();if(c)if(!c.response)c.deferredList.push(p);else p.resolve(c.response);else{var d=userData.number||0;if(!s[t])r._user_number=d,$.extend(r,siteData.monkey);if($.ajax({url:t,data:r,method:'post',dataType:'json',timeout:o.timeout,async:o.sync?!1:!0}).then(function(e){if(a[t])c=n[l],c.response=e,$.each(c.deferredList,function(t,r){if(e&&0===e.code)r.resolve(e);else r.reject(e);}),c.deferredList.length=0;else if(e&&0===e.code)p.resolve(e);else{var r=e.msg;if(r&&!o.preventError)alert({title:'提示',content:r});p.reject(e);}},function(e,t){if('timeout'===t||'error'===t)p.reject({code:-1});}),a[t])n[l]={},n[l].deferredList=[p];}return p;}function r(e,t){return $.ajax({url:e,data:t,dataType:'jsonp'});}var i={timeout:5000,sync:!1,stringify:!1,preventError:!1},s={'/area/list':1,'/subject/getList':1},a={'/user/basicInfo':1},n={};exports.post=t,exports.jsonp=r,exports.getUserBasicInfo=function(e){var r;if(e&&null!=e.userId&&null!=e.userType)r={user_id:e.userId,user_type:e.userType};return t('/user/basicInfo',r);},exports.getCourseList=function(){return t('/lesson/list');},exports.getUserType=function(){return t('/user/roles');},exports.sendInviteCode=function(e){var r=$.extend(e.formData||{},{invite_code:e.inviteCode,role:e.role});return t('/user/switch_role_ajax',r);},exports.getCDNSpeedTestUrls=function(){return t('/video/getSpeedTestUrl');};}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/component/OfflineCourseTemplate_html',function(){return'<div class="course-template"><div class="wrapper"><div class="header"><div class="help texts"data-title="<span>根据您的课程科目\u3001课程详情内容\uFF0C选择合适的模板会使课程主页更加美观和优雅</span>" data-skin="primary classcourse-help-tooltip" data-placement="bottomLeft" data-offset-x="90"><i class="text primary icon-help-o"></i><span class="text">帮助信息</span></div><div class="title">模板选择</div></div><div class="template-editor"><div class="tabs primary"><div class="tab{{#if checkedIndex == 0}} checked{{/if}}"on-click="set(\'checkedIndex\', 0)">网页模板</div><div class="tab{{#if checkedIndex == 1}} checked{{/if}}"on-click="set(\'checkedIndex\', 1)">手机模板</div></div><div class="template-images">{{#each template.data:index}}<div class="template-card{{#if options.templateCheckedPc == name && checkedIndex == 0}} active{{/if}}{{#if options.templateCheckedM == name && checkedIndex == 1}} active{{/if}}{{#if defaultTemplate && index == 0}} active{{/if}}" on-click="chooseTemplate(this)"><img class="image" src="{{compressImage(image, 200, 127)}}"><span class="name">{{name_cn}}</span></div>{{/each}}</div></div></div><style>{{style}}</style></div>';}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/component/OfflineCourseTemplate',['require','exports','module','../service_d104b5ab74','../../../../common/function/renderImage_b12a57d1e9','./OfflineCourseTemplate_html','./OfflineCourseTemplate_css'],function(require){'use strict';function e(e){if(0==a)alert({title:'温馨提示',content:e.content,width:382,skinClass:'vip-dialog',buttons:[{text:'立即开通',type:'error',action:function(){location.href='/teacher_center/vip_center',this.hide();}},{text:'了解详情',type:'default',action:function(){location.href='/teacher_center/vip_detail?type=pageDress',this.hide();}}]});else alert({title:'温馨提示',content:e.content,width:382,skinClass:'vip-dialog',buttons:[{text:'我知道了',type:'error',action:function(){this.hide();}}]});return!1;}var t=require('../service_d104b5ab74'),r=require('../../../../common/function/renderImage_b12a57d1e9'),i={},s={},a='';return Ractive.extend({template:require('./OfflineCourseTemplate_html'),data:function(){return{style:require('./OfflineCourseTemplate_css'),checkedIndex:0,defaultTemplate:!0,template:{data:null,checkedName:''},options:{templatePc:null,templateM:null,templateCheckedPc:'skin101',templateCheckedM:'orange'}};},onrender:function(){r();var e=this;if(e.get('options.templateCheckedPc')||e.get('options.templateCheckedM'))e.set('defaultTemplate',!1);var t=e.get('options.templatePc'),a=e.get('options.templateM');$.each(t,function(e,t){i[t.name]=t.vip_level;}),$.each(a,function(e,t){s[t.name]=t.vip_level;}),e.observe('checkedIndex',function(r){var i={};if(0==r)i={data:t,checkedName:'PC'};else i={data:a,checkedName:'M'};e.set('template',i);}),e.observe('options.templateCheckedPc',function(t){if(t)e.set('defaultTemplate',!1);}),e.observe('options.templateCheckedM',function(t){if(t)e.set('defaultTemplate',!1);});},chooseTemplate:function(e){var t=this;if('PC'==t.get('template.checkedName'))t.set('options.templateCheckedPc',e.name);else t.set('options.templateCheckedM',e.name);},validate:function(){var r=this;t.getUserBasicInfo().then(function(e){a=e.data.org_id;});var n=userData.vip_level,o=r.get('options.templateCheckedPc')?r.get('options.templateCheckedPc'):'default',c=r.get('options.templateCheckedM')?r.get('options.templateCheckedM'):'default',l=i[o],p='',d=s[c];if(n<i[o]){if('0'==a){if('1'==l)p='您选择的网页模板为会员模板\uFF0C开通会员后即可使用\uFF0C会员还可享有优先推荐获得更多生源哦~';else if('2'==l)p='您选择的网页模板为高级会员模板\uFF0C开通高级会员后即可使用\uFF0C会员还可享有优先推荐获得更多生源哦~';else if('3'==l)p='您选择的网页模板为超级会员模板\uFF0C开通超级会员后即可使用\uFF0C会员还可享有优先推荐获得更多生源哦~';}else if('1'==l)p='您选择的网页模板为会员模板\uFF0C请联系机构开通会员\u3002';else if('2'==l)p='您选择的网页模板为高级会员模板\uFF0C请联系机构开通高级会员\u3002';else if('3'==l)p='您选择的网页模板为超级会员模板\uFF0C请联系机构开通超级会员\u3002';return e({content:p}),!1;}if(n<s[c]){if('0'==r.get('org_id')){if('1'==d)p='您选择的手机模板为会员模板\uFF0C开通会员后即可使用\uFF0C会员还可享有优先推荐获得更多生源哦~';else if('2'==d)p='您选择的手机模板为高级会员模板\uFF0C开通高级会员后即可使用\uFF0C会员还可享有优先推荐获得更多生源哦~';else if('3'==d)p='您选择的手机模板为超级会员模板\uFF0C开通超级会员后即可使用\uFF0C会员还可享有优先推荐获得更多生源哦~';}else if('1'==d)p='您选择的手机模板为会员模板\uFF0C请联系机构开通会员\u3002';else if('2'==d)p='您选择的手机模板为高级会员模板\uFF0C请联系机构开通高级会员\u3002';else if('3'==d)p='您选择的手机模板为超级会员模板\uFF0C请联系机构开通超级会员\u3002';return e({content:p}),!1;}return!0;}});}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/component/OfflineCourseTemplate_css',function(){return'.classcourse-help-tooltip{width:785px;font-size:14px;line-height:26px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;}.classcourse-help-tooltip:before,.classcourse-help-tooltip:after{left:96% !important;margin-left:-8px !important;border-width:0 8px 8px 8px !important}.classcourse-help-tooltip:before{top:-8px !important}.classcourse-help-tooltip:after{top:-7px !important}.course-template > .wrapper{width:835px;padding:25px;background-color:#fff;border:1px solid #ededec;color:#6d6d6e;}.course-template > .wrapper .header .title{font-size:16px}.course-template > .wrapper .header .help{float:right;font-size:12px}.course-template > .wrapper .template-images{margin-top:16px;}.course-template > .wrapper .template-images .template-card{width:202px;margin-right:14px;display:inline-block;text-align:center;}.course-template > .wrapper .template-images .template-card .image{width:100%;border:2px solid transparent;height:127px}.course-template > .wrapper .template-images .template-card .name{font-size:14px;color:#6d6d6e}.course-template > .wrapper .template-images .template-card.active .image,.course-template > .wrapper .template-images .template-card:hover .image{border-color:#f90}.course-template > .wrapper .template-editor{margin-top:15px;}.course-template > .wrapper .template-editor .tabs > .tab{font-weight:normal !important;}.course-template > .wrapper .template-editor .tabs > .tab:first-child{padding-left:0}';}),define('userCenter/teacherCenter/classCourseEdit/offlineCourseEdit/service_d104b5ab74',['require','exports','module','../../../common/service_1288b24a55'],function(require,exports){'use strict';function e(e,t,r){return $.ajax({url:e,data:t,dataType:'jsonp',timeout:r});}var t=require('../../../common/service_1288b24a55');exports.getSubjectList=function(e){return t.post('/tcenter/subjects/list',{keyword:e.keyword});},exports.getAddressList=function(){return t.post('/tcenter/addresses/list-simple');},exports.getAddressSuggestion=function(t){return e('http://api.map.baidu.com/place/v2/suggestion',{query:t.query,region:t.region,output:'json',ak:'EMB0bKIvMeOd70lyyG92BZlu'});},exports.checkAddress=function(e){return t.post('/teacher_center/checkAddress',{city_id:e.cityId,area_name:e.areaName});},exports.upsertAddress=function(e){return t.post('/teacher_center/upsertAddress',{address_id:e.addressId,area_id:e.areaId,address:e.locationAddr,lng:e.lng,lat:e.lat,as_regular_address:e.asRegularAddress},options);},exports.getRelatedCourse=function(){return t.post('/tcenter/courses/all-courses/selling-courses');},exports.getHistorySubject=function(){return t.post('/tcenter/courses/all-courses/history-subjects');},exports.getPhotoGallery=function(){return t.post('/tcenter/courses/photo-gallery/list');},exports.saveOfflineCourse=function(e){return t.post('/tcenter/courses/class-courses/save',{data:e},{preventError:!0,timeout:10000});},exports.getUserBasicInfo=function(e){var r;if(e&&null!=e.userId&&null!=e.userType)r={user_id:e.userId,user_type:e.userType};return t.post('/user/basicInfo',r);};});