define("echarts/chart/chord",["require","../component/base","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../util/shape/Icon","zrender/shape/BezierCurve","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../data/Graph","../layout/Chord","../chart"],function(require){"use strict";function e(e,r,s,a,o){t.call(this,e,r,s,a,o),i.call(this),this.scaleLineLength=4,this.scaleUnitAngle=4,this.refresh(a)}var t=require("../component/base"),i=require("./base"),r=require("zrender/shape/Text"),s=require("zrender/shape/Line"),a=require("zrender/shape/Sector"),o=require("../util/shape/Ribbon"),n=require("../util/shape/Icon"),h=require("zrender/shape/BezierCurve"),d=require("../config"),l=require("../util/ecData"),u=require("zrender/tool/util"),c=require("zrender/tool/vector"),p=require("../data/Graph"),g=require("../layout/Chord");return e.prototype={type:d.CHART_TYPE_CHORD,_init:function(){var e=this.series;this.selectedMap={};for(var t={},i={},r=0,s=e.length;s>r;r++)if(e[r].type===this.type){var a=this.isSelected(e[r].name);if(this.selectedMap[e[r].name]=a,a)this.buildMark(r);this.reformOption(e[r]),t[e[r].name]=e[r]}for(var r=0,s=e.length;s>r;r++)if(e[r].type===this.type)if(e[r].insertToSerie){var o=t[e[r].insertToSerie];e[r]._referenceSerie=o}else i[e[r].name]=[e[r]];for(var r=0,s=e.length;s>r;r++)if(e[r].type===this.type)if(e[r].insertToSerie){for(var n=e[r]._referenceSerie;n&&n._referenceSerie;)n=n._referenceSerie;if(i[n.name]&&this.selectedMap[e[r].name])i[n.name].push(e[r])}for(var h in i)this._buildChords(i[h]);this.addShapeList()},_getNodeCategory:function(e,t){return e.categories&&e.categories[t.category||0]},_getNodeQueryTarget:function(e,t){var i=this._getNodeCategory(e,t);return[t,i,e]},_getEdgeQueryTarget:function(e,t,i){return i=i||"normal",[t.itemStyle&&t.itemStyle[i],e.itemStyle[i].chordStyle]},_buildChords:function(e){for(var t=[],i=e[0],r=function(e){return e.layout.size>0},s=0;s<e.length;s++){var a=e[s];if(this.selectedMap[a.name]){var o;if(a.data&&a.matrix)o=this._getSerieGraphFromDataMatrix(a,i);else if(a.nodes&&a.links)o=this._getSerieGraphFromNodeLinks(a,i);o.filterNode(r,this),t.push(o),o.__serie=a}}if(t.length){var n=t[0];if(!i.ribbonType){var h=i.minRadius,d=i.maxRadius,l=1/0,u=-(1/0);n.eachNode(function(e){u=Math.max(e.layout.size,u),l=Math.min(e.layout.size,l)});var c=(d-h)/(u-l);n.eachNode(function(e){var t=this._getNodeQueryTarget(i,e),r=this.query(t,"symbolSize");if(u===l)e.layout.size=r||l;else e.layout.size=r||(e.layout.size-l)*c+h},this)}var p=new g;if(p.clockWise=i.clockWise,p.startAngle=i.startAngle*Math.PI/180,!p.clockWise)p.startAngle=-p.startAngle;p.padding=i.padding*Math.PI/180,p.sort=i.sort,p.sortSub=i.sortSub,p.directed=i.ribbonType,p.run(t);var f=this.query(i,"itemStyle.normal.label.show");if(i.ribbonType){if(this._buildSectors(i,0,n,i,t),f)this._buildLabels(i,0,n,i,t);for(var s=0,y=0;s<e.length;s++)if(this.selectedMap[e[s].name])this._buildRibbons(e,s,t[y++],i);if(i.showScale)this._buildScales(i,0,n)}else{if(this._buildNodeIcons(i,0,n,i,t),f)this._buildLabels(i,0,n,i,t);for(var s=0,y=0;s<e.length;s++)if(this.selectedMap[e[s].name])this._buildEdgeCurves(e,s,t[y++],i,n)}this._initHoverHandler(e,t)}},_getSerieGraphFromDataMatrix:function(e,t){for(var i=[],r=0,s=[],a=0;a<e.matrix.length;a++)s[a]=e.matrix[a].slice();for(var o=e.data||e.nodes,a=0;a<o.length;a++){var n={},h=o[a];h.rawIndex=a;for(var d in h)if("name"===d)n.id=h.name;else n[d]=h[d];var l=this._getNodeCategory(t,h),u=l?l.name:h.name;if(this.selectedMap[u]=this.isSelected(u),this.selectedMap[u])i.push(n),r++;else{s.splice(r,1);for(var c=0;c<s.length;c++)s[c].splice(r,1)}}var g=p.fromMatrix(i,s,!0);return g.eachNode(function(e){e.layout={size:e.data.outValue},e.rawIndex=e.data.rawIndex}),g.eachEdge(function(e){e.layout={weight:e.data.weight}}),g},_getSerieGraphFromNodeLinks:function(e,t){for(var i=new p(!0),r=e.data||e.nodes,s=0,a=r.length;a>s;s++){var o=r[s];if(o&&!o.ignore){var n=this._getNodeCategory(t,o),h=n?n.name:o.name;if(this.selectedMap[h]=this.isSelected(h),this.selectedMap[h]){var d=i.addNode(o.name,o);d.rawIndex=s}}else;}for(var s=0,a=e.links.length;a>s;s++){var l=e.links[s],u=l.source,c=l.target;if("number"==typeof u)if(u=r[u])u=u.name;if("number"==typeof c)if(c=r[c])c=c.name;var g=i.addEdge(u,c,l);if(g)g.rawIndex=s}return i.eachNode(function(e){var i=e.data.value;if(null==i)if(i=0,t.ribbonType)for(var r=0;r<e.outEdges.length;r++)i+=e.outEdges[r].data.weight||0;else for(var r=0;r<e.edges.length;r++)i+=e.edges[r].data.weight||0;e.layout={size:i}}),i.eachEdge(function(e){e.layout={weight:null==e.data.weight?1:e.data.weight}}),i},_initHoverHandler:function(e,t){var i=e[0],r=t[0],s=this;r.eachNode(function(e){e.shape.onmouseover=function(){r.eachNode(function(e){if(e.shape.style.opacity=.1,e.labelShape)e.labelShape.style.opacity=.1,e.labelShape.modSelf();e.shape.modSelf()});for(var i=0;i<t.length;i++)for(var a=0;a<t[i].edges.length;a++){var o=t[i].edges[a],n=s._getEdgeQueryTarget(t[i].__serie,o.data);o.shape.style.opacity=.1*s.deepQuery(n,"opacity"),o.shape.modSelf()}if(e.shape.style.opacity=1,e.labelShape)e.labelShape.style.opacity=1;for(var i=0;i<t.length;i++){var h=t[i].getNodeById(e.id);if(h)for(var a=0;a<h.outEdges.length;a++){var o=h.outEdges[a],n=s._getEdgeQueryTarget(t[i].__serie,o.data);o.shape.style.opacity=s.deepQuery(n,"opacity");var d=t[0].getNodeById(o.node2.id);if(d){if(d.shape)d.shape.style.opacity=1;if(d.labelShape)d.labelShape.style.opacity=1}}}s.zr.refreshNextFrame()},e.shape.onmouseout=function(){r.eachNode(function(e){if(e.shape.style.opacity=1,e.labelShape)e.labelShape.style.opacity=1,e.labelShape.modSelf();e.shape.modSelf()});for(var e=0;e<t.length;e++)for(var a=0;a<t[e].edges.length;a++){var o=t[e].edges[a],n=[o.data,i];o.shape.style.opacity=s.deepQuery(n,"itemStyle.normal.chordStyle.opacity"),o.shape.modSelf()}s.zr.refreshNextFrame()}})},_buildSectors:function(e,t,i,r){var s=this.parseCenter(this.zr,r.center),o=this.parseRadius(this.zr,r.radius),n=r.clockWise,h=n?1:-1;i.eachNode(function(i){var d=this._getNodeCategory(r,i.data),u=d?this.getColor(d.name):this.getColor(i.id),c=i.layout.startAngle/Math.PI*180*h,p=i.layout.endAngle/Math.PI*180*h,g=new a({zlevel:this.getZlevelBase(),style:{x:s[0],y:s[1],r0:o[0],r:o[1],startAngle:c,endAngle:p,brushType:"fill",opacity:1,color:u,clockWise:n},clickable:r.clickable,highlightStyle:{brushType:"fill"}});if(g.style.lineWidth=this.deepQuery([i.data,r],"itemStyle.normal.borderWidth"),g.highlightStyle.lineWidth=this.deepQuery([i.data,r],"itemStyle.emphasis.borderWidth"),g.style.strokeColor=this.deepQuery([i.data,r],"itemStyle.normal.borderColor"),g.highlightStyle.strokeColor=this.deepQuery([i.data,r],"itemStyle.emphasis.borderColor"),g.style.lineWidth>0)g.style.brushType="both";if(g.highlightStyle.lineWidth>0)g.highlightStyle.brushType="both";l.pack(g,e,t,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(g),i.shape=g},this)},_buildNodeIcons:function(e,t,i,r){var s=this.parseCenter(this.zr,r.center),a=this.parseRadius(this.zr,r.radius),o=a[1];i.eachNode(function(i){var a=i.layout.startAngle,h=i.layout.endAngle,d=(a+h)/2,u=o*Math.cos(d),c=o*Math.sin(d),p=this._getNodeQueryTarget(r,i.data),g=this._getNodeCategory(r,i.data),f=this.deepQuery(p,"itemStyle.normal.color");if(!f)f=g?this.getColor(g.name):this.getColor(i.id);var y=new n({zlevel:this.getZlevelBase(),z:1,style:{x:-i.layout.size,y:-i.layout.size,width:2*i.layout.size,height:2*i.layout.size,iconType:this.deepQuery(p,"symbol"),color:f,brushType:"both",lineWidth:this.deepQuery(p,"itemStyle.normal.borderWidth"),strokeColor:this.deepQuery(p,"itemStyle.normal.borderColor")},highlightStyle:{color:this.deepQuery(p,"itemStyle.emphasis.color"),lineWidth:this.deepQuery(p,"itemStyle.emphasis.borderWidth"),strokeColor:this.deepQuery(p,"itemStyle.emphasis.borderColor")},clickable:r.clickable,position:[u+s[0],c+s[1]]});l.pack(y,e,t,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(y),i.shape=y},this)},_buildLabels:function(e,t,i,s){var a=this.query(s,"itemStyle.normal.label.color"),o=this.query(s,"itemStyle.normal.label.rotate"),n=this.query(s,"itemStyle.normal.label.distance"),h=this.parseCenter(this.zr,s.center),d=this.parseRadius(this.zr,s.radius),l=s.clockWise,u=l?1:-1;i.eachNode(function(e){var t=e.layout.startAngle/Math.PI*180*u,i=e.layout.endAngle/Math.PI*180*u,l=(t*-u+i*-u)/2;if(l%=360,0>l)l+=360;var p=90>=l||l>=270;l=l*Math.PI/180;var g=[Math.cos(l),-Math.sin(l)],f=0;if(s.ribbonType)f=s.showScaleText?35+n:n;else f=n+e.layout.size;var y=c.scale([],g,d[1]+f);c.add(y,y,h);var v={zlevel:this.getZlevelBase()+1,hoverable:!1,style:{text:null==e.data.label?e.id:e.data.label,textAlign:p?"left":"right",color:a||"#000000"}};if(o){if(v.rotation=p?l:Math.PI+l,p)v.style.x=d[1]+f;else v.style.x=-d[1]-f;v.style.y=0,v.position=h.slice()}else v.style.x=y[0],v.style.y=y[1];v.style.textColor=this.deepQuery([e.data,s],"itemStyle.normal.label.textStyle.color")||"#fff",v.style.textFont=this.getFont(this.deepQuery([e.data,s],"itemStyle.normal.label.textStyle")),v=new r(v),this.shapeList.push(v),e.labelShape=v},this)},_buildRibbons:function(e,t,i,r){var s=e[t],a=this.parseCenter(this.zr,r.center),n=this.parseRadius(this.zr,r.radius);i.eachEdge(function(h,d){var u,c=i.getEdge(h.node2,h.node1);if(c&&!h.shape){if(c.shape)return void(h.shape=c.shape);var p=h.layout.startAngle/Math.PI*180,g=h.layout.endAngle/Math.PI*180,f=c.layout.startAngle/Math.PI*180,y=c.layout.endAngle/Math.PI*180;if(1===e.length)if(h.layout.weight<=c.layout.weight)u=this.getColor(h.node1.id);else u=this.getColor(h.node2.id);else u=this.getColor(s.name);var v=this._getEdgeQueryTarget(s,h.data),b=this._getEdgeQueryTarget(s,h.data,"emphasis"),m=new o({zlevel:this.getZlevelBase(),style:{x:a[0],y:a[1],r:n[0],source0:p,source1:g,target0:f,target1:y,brushType:"both",opacity:this.deepQuery(v,"opacity"),color:u,lineWidth:this.deepQuery(v,"borderWidth"),strokeColor:this.deepQuery(v,"borderColor"),clockWise:r.clockWise},clickable:r.clickable,highlightStyle:{brushType:"both",opacity:this.deepQuery(b,"opacity"),lineWidth:this.deepQuery(b,"borderWidth"),strokeColor:this.deepQuery(b,"borderColor")}});l.pack(m,s,t,h.data,null==h.rawIndex?d:h.rawIndex,h.data.name||h.node1.id+"-"+h.node2.id,h.node1.id,h.node2.id),this.shapeList.push(m),h.shape=m}},this)},_buildEdgeCurves:function(e,t,i,r,s){var a=e[t],o=this.parseCenter(this.zr,r.center);i.eachEdge(function(e,i){var r=s.getNodeById(e.node1.id),n=s.getNodeById(e.node2.id),d=r.shape,u=n.shape,c=this._getEdgeQueryTarget(a,e.data),p=this._getEdgeQueryTarget(a,e.data,"emphasis"),g=new h({zlevel:this.getZlevelBase(),z:0,style:{xStart:d.position[0],yStart:d.position[1],xEnd:u.position[0],yEnd:u.position[1],cpX1:o[0],cpY1:o[1],lineWidth:this.deepQuery(c,"width"),strokeColor:this.deepQuery(c,"color"),opacity:this.deepQuery(c,"opacity")},highlightStyle:{lineWidth:this.deepQuery(p,"width"),strokeColor:this.deepQuery(p,"color"),opacity:this.deepQuery(p,"opacity")}});l.pack(g,a,t,e.data,null==e.rawIndex?i:e.rawIndex,e.data.name||e.node1.id+"-"+e.node2.id,e.node1.id,e.node2.id),this.shapeList.push(g),e.shape=g},this)},_buildScales:function(e,t,i){var a,o,n=e.clockWise,h=this.parseCenter(this.zr,e.center),d=this.parseRadius(this.zr,e.radius),l=n?1:-1,u=0,p=-(1/0);if(e.showScaleText)if(i.eachNode(function(e){var t=e.data.value;if(t>p)p=t;u+=t}),p>1e10)a="b",o=1e-9;else if(p>1e7)a="m",o=1e-6;else if(p>1e4)a="k",o=.001;else a="",o=1;var g=u/(360-e.padding);i.eachNode(function(t){for(var i=t.layout.startAngle/Math.PI*180,u=t.layout.endAngle/Math.PI*180,p=i;;){if(n&&p>u||!n&&u>p)break;var f=p/180*Math.PI,y=[Math.cos(f),Math.sin(f)],v=c.scale([],y,d[1]+1);c.add(v,v,h);var b=c.scale([],y,d[1]+this.scaleLineLength);c.add(b,b,h);var m=new s({zlevel:this.getZlevelBase()-1,hoverable:!1,style:{xStart:v[0],yStart:v[1],xEnd:b[0],yEnd:b[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}});this.shapeList.push(m),p+=l*this.scaleUnitAngle}if(e.showScaleText)for(var _=i,S=5*g*this.scaleUnitAngle,M=0;;){if(n&&_>u||!n&&u>_)break;var f=_;if(f%=360,0>f)f+=360;var x=90>=f||f>=270,z=new r({zlevel:this.getZlevelBase()-1,hoverable:!1,style:{x:x?d[1]+this.scaleLineLength+4:-d[1]-this.scaleLineLength-4,y:0,text:Math.round(10*M)/10+a,textAlign:x?"left":"right"},position:h.slice(),rotation:x?[-f/180*Math.PI,0,0]:[-(f+180)/180*Math.PI,0,0]});this.shapeList.push(z),M+=S*o,_+=l*this.scaleUnitAngle*5}},this)},refresh:function(e){if(e)this.option=e,this.series=e.series;if(this.legend=this.component.legend,this.legend)this.getColor=function(e){return this.legend.getColor(e)},this.isSelected=function(e){return this.legend.isSelected(e)};else{var t={},i=0;this.getColor=function(e){if(t[e])return t[e];if(!t[e])t[e]=this.zr.getColor(i++);return t[e]},this.isSelected=function(){return!0}}this.backupShapeList(),this._init()},reformOption:function(e){var t=u.merge;e=t(e||{},this.ecTheme.chord),e.itemStyle.normal.label.textStyle=t(e.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle)}},u.inherits(e,i),u.inherits(e,t),require("../chart").define("chord",e),e}),define("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(require){function e(e){t.call(this,e),this._pathProxy=new i}var t=require("zrender/shape/Base"),i=require("zrender/shape/util/PathProxy"),r=require("zrender/tool/util"),s=require("zrender/tool/area");return e.prototype={type:"ribbon",buildPath:function(e,t){var i=t.clockWise||!1,r=this._pathProxy;r.begin(e);var s=t.x,a=t.y,o=t.r,n=t.source0/180*Math.PI,h=t.source1/180*Math.PI,d=t.target0/180*Math.PI,l=t.target1/180*Math.PI,u=s+Math.cos(n)*o,c=a+Math.sin(n)*o,p=s+Math.cos(h)*o,g=a+Math.sin(h)*o,f=s+Math.cos(d)*o,y=a+Math.sin(d)*o,v=s+Math.cos(l)*o,b=a+Math.sin(l)*o;if(r.moveTo(u,c),r.arc(s,a,t.r,n,h,!i),r.bezierCurveTo(.7*(s-p)+p,.7*(a-g)+g,.7*(s-f)+f,.7*(a-y)+y,f,y),t.source0!==t.target0||t.source1!==t.target1)r.arc(s,a,t.r,d,l,!i),r.bezierCurveTo(.7*(s-v)+v,.7*(a-b)+b,.7*(s-u)+u,.7*(a-c)+c,u,c)},getRect:function(e){if(e.__rect)return e.__rect;if(!this._pathProxy.isEmpty())this.buildPath(null,e);return this._pathProxy.fastBoundingRect()},isCover:function(e,t){var i=this.getRect(this.style);if(e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height)return s.isInsidePath(this._pathProxy.pathCommands,0,"fill",e,t);else return void 0}},r.inherits(e,t),e}),define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(require){"use strict";var e=require("./Base"),t=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return t.prototype={type:"bezier-curve",buildPath:function(e,t){if(e.moveTo(t.xStart,t.yStart),"undefined"!=typeof t.cpX2&&"undefined"!=typeof t.cpY2)e.bezierCurveTo(t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd);else e.quadraticCurveTo(t.cpX1,t.cpY1,t.xEnd,t.yEnd)},getRect:function(e){if(e.__rect)return e.__rect;var t=Math.min(e.xStart,e.xEnd,e.cpX1),i=Math.min(e.yStart,e.yEnd,e.cpY1),r=Math.max(e.xStart,e.xEnd,e.cpX1),s=Math.max(e.yStart,e.yEnd,e.cpY1),a=e.cpX2,o=e.cpY2;if("undefined"!=typeof a&&"undefined"!=typeof o)t=Math.min(t,a),i=Math.min(i,o),r=Math.max(r,a),s=Math.max(s,o);var n=e.lineWidth||1;return e.__rect={x:t-n,y:i-n,width:r-t+n,height:s-i+n},e.__rect}},require("../tool/util").inherits(t,e),t}),define("echarts/data/Graph",["require","zrender/tool/util"],function(require){var e=require("zrender/tool/util"),t=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}};t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,i){if(this._nodesMap[e])return this._nodesMap[e];var r=new t.Node(e,i);return this.nodes.push(r),this._nodesMap[e]=r,r},t.prototype.getNodeById=function(e){return this._nodesMap[e]},t.prototype.addEdge=function(e,i,r){if("string"==typeof e)e=this._nodesMap[e];if("string"==typeof i)i=this._nodesMap[i];if(e&&i){var s=e.id+"-"+i.id;if(this._edgesMap[s])return this._edgesMap[s];var a=new t.Edge(e,i,r);if(this._directed)e.outEdges.push(a),i.inEdges.push(a);if(e.edges.push(a),e!==i)i.edges.push(a);return this.edges.push(a),this._edgesMap[s]=a,a}},t.prototype.removeEdge=function(t){var i=t.node1,r=t.node2,s=i.id+"-"+r.id;if(this._directed)i.outEdges.splice(e.indexOf(i.outEdges,t),1),r.inEdges.splice(e.indexOf(r.inEdges,t),1);if(i.edges.splice(e.indexOf(i.edges,t),1),i!==r)r.edges.splice(e.indexOf(r.edges,t),1);delete this._edgesMap[s],this.edges.splice(e.indexOf(this.edges,t),1)},t.prototype.getEdge=function(e,t){if("string"!=typeof e)e=e.id;if("string"!=typeof t)t=t.id;if(this._directed)return this._edgesMap[e+"-"+t]||this._edgesMap[t+"-"+e];else return this._edgesMap[e+"-"+t]},t.prototype.removeNode=function(t){if("string"==typeof t)if(t=this._nodesMap[t],!t)return;delete this._nodesMap[t.id],this.nodes.splice(e.indexOf(this.nodes,t),1);for(var i=0;i<this.edges.length;){var r=this.edges[i];if(r.node1===t||r.node2===t)this.removeEdge(r);else i++}},t.prototype.filterNode=function(e,t){for(var i=this.nodes.length,r=0;i>r;)if(e.call(t,this.nodes[r],r))r++;else this.removeNode(this.nodes[r]),i--},t.prototype.filterEdge=function(e,t){for(var i=this.edges.length,r=0;i>r;)if(e.call(t,this.edges[r],r))r++;else this.removeEdge(this.edges[r]),i--},t.prototype.eachNode=function(e,t){for(var i=this.nodes.length,r=0;i>r;r++)if(this.nodes[r])e.call(t,this.nodes[r],r)},t.prototype.eachEdge=function(e,t){for(var i=this.edges.length,r=0;i>r;r++)if(this.edges[r])e.call(t,this.edges[r],r)},t.prototype.clear=function(){this.nodes.length=0,this.edges.length=0,this._nodesMap={},this._edgesMap={}},t.prototype.breadthFirstTraverse=function(e,t,i,r){if("string"==typeof t)t=this._nodesMap[t];if(t){var s="edges";if("out"===i)s="outEdges";else if("in"===i)s="inEdges";for(var a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null))for(var o=[t];o.length;)for(var n=o.shift(),h=n[s],a=0;a<h.length;a++){var d=h[a],l=d.node1===n?d.node2:d.node1;if(!l.__visited){if(e.call(l,l,n))return;o.push(l),l.__visited=!0}}}},t.prototype.clone=function(){for(var e=new t(this._directed),i=0;i<this.nodes.length;i++)e.addNode(this.nodes[i].id,this.nodes[i].data);for(var i=0;i<this.edges.length;i++){var r=this.edges[i];e.addEdge(r.node1.id,r.node2.id,r.data)}return e};var i=function(e,t){this.id=e,this.data=t||null,this.inEdges=[],this.outEdges=[],this.edges=[]};i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length};var r=function(e,t,i){this.node1=e,this.node2=t,this.data=i||null};return t.Node=i,t.Edge=r,t.fromMatrix=function(e,i,r){if(i&&i.length&&i[0].length===i.length&&e.length===i.length){for(var s=i.length,a=new t(r),o=0;s>o;o++){var n=a.addNode(e[o].id,e[o]);if(n.data.value=0,r)n.data.outValue=n.data.inValue=0}for(var o=0;s>o;o++)for(var h=0;s>h;h++){var d=i[o][h];if(r)a.nodes[o].data.outValue+=d,a.nodes[h].data.inValue+=d;a.nodes[o].data.value+=d,a.nodes[h].data.value+=d}for(var o=0;s>o;o++)for(var h=o;s>h;h++){var d=i[o][h];if(0!==d){var l=a.nodes[o],u=a.nodes[h],c=a.addEdge(l,u,{});if(c.data.weight=d,o!==h)if(r&&i[h][o]){var p=a.addEdge(u,l,{});p.data.weight=i[h][o]}}else;}return a}},t}),define("echarts/layout/Chord",["require"],function(){var e=function(e){e=e||{},this.sort=e.sort||null,this.sortSub=e.sortSub||null,this.padding=.05,this.startAngle=e.startAngle||0,this.clockWise=null==e.clockWise?!1:e.clockWise,this.center=e.center||[0,0],this.directed=!0};e.prototype.run=function(e){if(!(e instanceof Array))e=[e];var r=e.length;if(r){for(var s=e[0],a=s.nodes.length,o=[],n=0,h=0;a>h;h++){var d=s.nodes[h],l={size:0,subGroups:[],node:d};o.push(l);for(var u=0,c=0;c<e.length;c++){var p=e[c],g=p.getNodeById(d.id);if(g){l.size+=g.layout.size;for(var f=this.directed?g.outEdges:g.edges,y=0;y<f.length;y++){var v=f[y],b=v.layout.weight;l.subGroups.push({weight:b,edge:v,graph:p}),u+=b}}else;}n+=l.size;for(var m=l.size/u,y=0;y<l.subGroups.length;y++)l.subGroups[y].weight*=m;if("ascending"===this.sortSub)l.subGroups.sort(t);else if("descending"===this.sort)l.subGroups.sort(t),l.subGroups.reverse()}if("ascending"===this.sort)o.sort(i);else if("descending"===this.sort)o.sort(i),o.reverse();for(var m=(2*Math.PI-this.padding*a)/n,_=this.startAngle,S=this.clockWise?1:-1,h=0;a>h;h++){var l=o[h];l.node.layout.startAngle=_,l.node.layout.endAngle=_+S*l.size*m,l.node.layout.subGroups=[];for(var y=0;y<l.subGroups.length;y++){var M=l.subGroups[y];M.edge.layout.startAngle=_,_+=S*M.weight*m,M.edge.layout.endAngle=_}_=l.node.layout.endAngle+S*this.padding}}};var t=function(e,t){return e.weight-t.weight},i=function(e,t){return e.size-t.size};return e});