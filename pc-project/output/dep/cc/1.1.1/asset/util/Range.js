define("cc/util/Range",["require","exports","module"],function(){"use strict";function e(e){var t=e.element;if(t.jquery)t=t[0];this.element=t}function t(){var e=this.element;return{start:e.selectionStart,end:e.selectionEnd}}function n(e,t){var n=this.element;n.focus(),n.setSelectionRange(e,t)}function r(){var e=this.element;e.focus();var t=document.selection.createRange().getBookmark(),n=e.createTextRange();n.moveToBookmark(t);var r=n.duplicate();r.setEndPoint("StartToStart",n);for(var a=e.value,i=0;0!==r.moveStart("character",-1);i++)if("\n"===a.charAt(i))i++;return{start:i,end:i+n.text.length}}function a(e,t){var n=this.element;if(!(n.value.length<t)){var r=n.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",t-e),r.select()}}var i=!window.getSelection,o=e.prototype;return o.getRange=i?r:t,o.setRange=i?a:n,o.getText=function(){var e=this.element.value,t=this.getRange();return e.substring(t.start,t.end)},o.setText=function(e){var t=this.element,n=t.value,r=this.getRange();t.value=n.substring(0,r.start)+e+n.substr(r.end)},o.dispose=function(){this.element=null},i=null,e});