define("cobble/util/json",["require","exports","module"],function(require,exports,module){if("object"!=typeof JSON)JSON={};return function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,a,f=gap,u=t[e];if(u&&"object"==typeof u&&"function"==typeof u.toJSON)u=u.toJSON(e);if("function"==typeof rep)u=rep.call(t,e,u);switch(typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(r=u.length,n=0;r>n;n+=1)a[n]=str(n,u)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+f+"]":"["+a.join(",")+"]",gap=f,o}if(rep&&"object"==typeof rep){for(r=rep.length,n=0;r>n;n+=1)if("string"==typeof rep[n])if(i=rep[n],o=str(i,u))a.push(quote(i)+(gap?": ":":")+o)}else for(i in u)if(Object.prototype.hasOwnProperty.call(u,i))if(o=str(i,u))a.push(quote(i)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+f+"}":"{"+a.join(",")+"}",gap=f,o}}if("function"!=typeof Date.prototype.toJSON)Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var cx,escapable,gap,indent,meta,rep;if("function"!=typeof JSON.stringify)escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else if("string"==typeof n)indent=n;if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!=typeof JSON.parse)cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)if(Object.prototype.hasOwnProperty.call(o,n))if(i=walk(o,n),void 0!==i)o[n]=i;else delete o[n];return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text))text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}(),JSON}),define("imageCrop/imageCrop",["require","cobble/util/json"],function(require){"use strict";function e(t){$.extend(this,e.defaultOptions,t),this.init()}if(window.ImageCrop)return window.ImageCrop;var t=require("cobble/util/json");e.prototype={constructor:e,init:function(){var t=this;t.movieName="_ImageCrop_"+n++,e.instances[t.movieName]=t;var i=$(t.getFlashHTML());t.element.replaceWith(i),t.swf=i[0]},getFlashHTML:function(){var e=this,t=e.flashUrl;return['<object id="',e.movieName,'" type="application/x-shockwave-flash" data="',t,'" width="',e.width,'" height="',e.height,'" class="imagecrop">','<param name="wmode" value="transparent" />','<param name="movie" value="',t,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value=\''+e.getFlashVars()+"' />","</object>"].join("")},getFlashVars:function(){var e=this;return["movieName="+encodeURIComponent(e.movieName),"action="+encodeURIComponent(e.action),"accept="+encodeURIComponent(e.accept),"adaptive="+encodeURIComponent(e.adaptive),"original="+encodeURIComponent(e.original),"encoder="+encodeURIComponent(e.encoder),"header="+(e.header?encodeURIComponent(t.stringify(e.header)):""),"button="+(e.button?encodeURIComponent(t.stringify(e.button)):""),"minSize="+("number"===$.type(e.minSize)?e.minSize:""),"maxSize="+("number"===$.type(e.maxSize)?e.maxSize:""),"minWidth="+("number"===$.type(e.minWidth)?e.minWidth:""),"maxWidth="+("number"===$.type(e.maxWidth)?e.maxWidth:""),"minHeight="+("number"===$.type(e.minHeight)?e.minHeight:""),"maxHeight="+("number"===$.type(e.maxHeight)?e.maxHeight:""),"src="+encodeURIComponent(t.stringify(e.src)),"dest="+encodeURIComponent(t.stringify(e.dest))].join("&amp;")},upload:function(){var e=this.swf;if(e.upload)e.upload()},leftRotate:function(){var e=this.swf;if(e.leftRotate)e.leftRotate()},rightRotate:function(){var e=this.swf;if(e.rightRotate)e.rightRotate()},isReady:function(){var e=this.swf;if(e.isReady)return e.isReady();else return void 0},dispose:function(){var t=this,n=t.swf;if(n.dispose)n.dispose();t.swf=t.element=window[this.movieName]=e.instances[t.movieName]=null}},e.defaultOptions={flashUrl:require.toUrl("./imageCrop.swf"),original:!0,encoder:"jpg"},e.instances={},e.version="0.0.1";var n=0;return window.ImageCrop=e,e});