define("underscore/underscore",["require","exports","module"],function(require,exports,module){(function(){var n=this,r=n._,t={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,f=e.concat,c=u.toString,l=u.hasOwnProperty,s=Array.isArray,p=Object.keys,h=i.bind,v=function(n){if(n instanceof v)return n;if(!(this instanceof v))return new v(n);else return void(this._wrapped=n)};if("undefined"!=typeof exports){if("undefined"!=typeof module&&module.exports)exports=module.exports=v;exports._=v}else n._=v;v.VERSION="1.6.0";var g=function(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,i){return n.call(r,t,e,u,i)}}return function(){return n.apply(r,arguments)}},m=function(n,r,t){if(null==n)return v.identity;if(v.isFunction(n))return g(n,r,t);if(v.isObject(n))return v.matches(n);else return v.property(n)};v.each=v.forEach=function(n,r,e){var u,i;if(null==n)return n;if(r=g(r,e),n.length===+n.length)for(u=0,i=n.length;i>u&&r(n[u],u,n)!==t;u++);else{var a=v.keys(n);for(u=0,i=a.length;i>u&&r(n[a[u]],a[u],n)!==t;u++);}return n},v.map=v.collect=function(n,r,t){var e=[];if(null==n)return e;else return r=m(r,t),v.each(n,function(n,t,u){e.push(r(n,t,u))}),e};var y="Reduce of empty array with no initial value";v.reduce=v.foldl=v.inject=function(n,r,t,e){var u=arguments.length>2;if(null==n)n=[];if(r=g(r,e,4),v.each(n,function(n,e,i){if(!u)t=n,u=!0;else t=r(t,n,e,i)}),!u)throw TypeError(y);return t},v.reduceRight=v.foldr=function(n,r,t,e){var u=arguments.length>2;if(null==n)n=[];var i=n.length;if(r=g(r,e,4),i!==+i){var a=v.keys(n);i=a.length}if(v.each(n,function(e,o,f){if(o=a?a[--i]:--i,!u)t=n[o],u=!0;else t=r(t,n[o],o,f)}),!u)throw TypeError(y);return t},v.find=v.detect=function(n,r,t){var e;return r=m(r,t),v.some(n,function(n,t,u){if(r(n,t,u))return e=n,!0;else return void 0}),e},v.filter=v.select=function(n,r,t){var e=[];if(null==n)return e;else return r=m(r,t),v.each(n,function(n,t,u){if(r(n,t,u))e.push(n)}),e},v.reject=function(n,r,t){return v.filter(n,v.negate(m(r)),t)},v.every=v.all=function(n,r,e){var u=!0;if(null==n)return u;else return r=m(r,e),v.each(n,function(n,e,i){if(u=r(n,e,i),!u)return t;else return void 0}),!!u},v.some=v.any=function(n,r,e){var u=!1;if(null==n)return u;else return r=m(r,e),v.each(n,function(n,e,i){if(u=r(n,e,i))return t;else return void 0}),!!u},v.contains=v.include=function(n,r){if(null==n)return!1;if(n.length===+n.length)return v.indexOf(n,r)>=0;else return v.some(n,function(n){return n===r})},v.invoke=function(n,r){var t=o.call(arguments,2),e=v.isFunction(r);return v.map(n,function(n){return(e?r:n[r]).apply(n,t)})},v.pluck=function(n,r){return v.map(n,v.property(r))},v.where=function(n,r){return v.filter(n,v.matches(r))},v.findWhere=function(n,r){return v.find(n,v.matches(r))},v.max=function(n,r,t){var e,u,i=-(1/0),a=-(1/0);if(!r&&v.isArray(n)){for(var o=0,f=n.length;f>o;o++)if(e=n[o],e>i)i=e}else r=m(r,t),v.each(n,function(n,t,e){if(u=r(n,t,e),u>a||u===-(1/0)&&i===-(1/0))i=n,a=u});return i},v.min=function(n,r,t){var e,u,i=1/0,a=1/0;if(!r&&v.isArray(n)){for(var o=0,f=n.length;f>o;o++)if(e=n[o],i>e)i=e}else r=m(r,t),v.each(n,function(n,t,e){if(u=r(n,t,e),a>u||u===1/0&&i===1/0)i=n,a=u});return i},v.shuffle=function(n){var r,t=0,e=[];return v.each(n,function(n){r=v.random(t++),e[t-1]=e[r],e[r]=n}),e},v.sample=function(n,r,t){if(null==r||t){if(n.length!==+n.length)n=v.values(n);return n[v.random(n.length-1)]}return v.shuffle(n).slice(0,Math.max(0,r))},v.sortBy=function(n,r,t){return r=m(r,t),v.pluck(v.map(n,function(n,t,e){return{value:n,index:t,criteria:r(n,t,e)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(e>t||void 0===e)return-1}return n.index-r.index}),"value")};var d=function(n){return function(r,t,e){var u={};return t=m(t,e),v.each(r,function(e,i){var a=t(e,i,r);n(u,e,a)}),u}};v.groupBy=d(function(n,r,t){if(v.has(n,t))n[t].push(r);else n[t]=[r]}),v.indexBy=d(function(n,r,t){n[t]=r}),v.countBy=d(function(n,r,t){if(v.has(n,t))n[t]++;else n[t]=1}),v.sortedIndex=function(n,r,t,e){t=m(t,e,1);for(var u=t(r),i=0,a=n.length;a>i;){var o=i+a>>>1;if(t(n[o])<u)i=o+1;else a=o}return i},v.toArray=function(n){if(!n)return[];if(v.isArray(n))return o.call(n);if(n.length===+n.length)return v.map(n,v.identity);else return v.values(n)},v.size=function(n){if(null==n)return 0;else return n.length===+n.length?n.length:v.keys(n).length},v.partition=function(n,r,t){r=m(r,t);var e=[],u=[];return v.each(n,function(n,t,i){(r(n,t,i)?e:u).push(n)}),[e,u]},v.first=v.head=v.take=function(n,r,t){if(null==n)return void 0;if(null==r||t)return n[0];if(0>r)return[];else return o.call(n,0,r)},v.initial=function(n,r,t){return o.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))},v.last=function(n,r,t){if(null==n)return void 0;if(null==r||t)return n[n.length-1];else return o.call(n,Math.max(n.length-r,0))},v.rest=v.tail=v.drop=function(n,r,t){return o.call(n,null==r||t?1:r)},v.compact=function(n){return v.filter(n,v.identity)};var b=function(n,r,t,e){if(r&&v.every(n,v.isArray))return f.apply(e,n);for(var u=0,i=n.length;i>u;u++){var o=n[u];if(!v.isArray(o)&&!v.isArguments(o)){if(!t)e.push(o)}else if(r)a.apply(e,o);else b(o,r,t,e)}return e};v.flatten=function(n,r){return b(n,r,!1,[])},v.without=function(n){return v.difference(n,o.call(arguments,1))},v.uniq=v.unique=function(n,r,t,e){if(null==n)return[];if(v.isFunction(r))e=t,t=r,r=!1;if(t)t=m(t,e);for(var u=[],i=[],a=0,o=n.length;o>a;a++){var f=n[a];if(t)f=t(f,a,n);if(r?!a||i!==f:!v.contains(i,f)){if(r)i=f;else i.push(f);u.push(n[a])}}return u},v.union=function(){return v.uniq(b(arguments,!0,!0,[]))},v.intersection=function(n){if(null==n)return[];for(var r=[],t=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!v.contains(r,i)){for(var a=1;t>a&&v.contains(arguments[a],i);a++);if(a===t)r.push(i)}else;}return r},v.difference=function(n){var r=b(o.call(arguments,1),!0,!0,[]);return v.filter(n,function(n){return!v.contains(r,n)})},v.zip=function(n){if(null==n)return[];for(var r=v.max(arguments,"length").length,t=Array(r),e=0;r>e;e++)t[e]=v.pluck(arguments,e);return t},v.object=function(n,r){if(null==n)return{};for(var t={},e=0,u=n.length;u>e;e++)if(r)t[n[e]]=r[e];else t[n[e][0]]=n[e][1];return t},v.indexOf=function(n,r,t){if(null==n)return-1;var e=0,u=n.length;if(t)if("number"==typeof t)e=0>t?Math.max(0,u+t):t;else return e=v.sortedIndex(n,r),n[e]===r?e:-1;for(;u>e;e++)if(n[e]===r)return e;return-1},v.lastIndexOf=function(n,r,t){if(null==n)return-1;for(var e=null==t?n.length:t;e--;)if(n[e]===r)return e;return-1},v.range=function(n,r,t){if(arguments.length<=1)r=n||0,n=0;t=arguments[2]||1;for(var e=Math.max(Math.ceil((r-n)/t),0),u=0,i=Array(e);e>u;)i[u++]=n,n+=t;return i};var _=function(){};v.bind=function(n,r){var t,e;if(h&&n.bind===h)return h.apply(n,o.call(arguments,1));if(!v.isFunction(n))throw TypeError("Bind must be called on a function");return t=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(r,t.concat(o.call(arguments)));_.prototype=n.prototype;var u=new _;_.prototype=null;var i=n.apply(u,t.concat(o.call(arguments)));if(Object(i)===i)return i;else return u}},v.partial=function(n){var r=o.call(arguments,1);return function(){for(var t=0,e=r.slice(),u=0,i=e.length;i>u;u++)if(e[u]===v)e[u]=arguments[t++];for(;t<arguments.length;)e.push(arguments[t++]);return n.apply(this,e)}},v.bindAll=function(n){var r,t=1,e=arguments.length;if(1>=e)throw Error("bindAll must be passed function names");for(;e>t;t++)r=arguments[t],n[r]=g(n[r],n,1/0);return n},v.memoize=function(n,r){var t=function(e){var u=t.cache,i=r?r.apply(this,arguments):e;if(!v.has(u,i))u[i]=n.apply(this,arguments);return u[e]};return t.cache={},t},v.delay=function(n,r){var t=o.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},r)},v.defer=function(n){return v.delay.apply(v,[n,1].concat(o.call(arguments,1)))},v.throttle=function(n,r,t){var e,u,i,a=null,o=0;if(!t)t={};var f=function(){if(o=t.leading===!1?0:v.now(),a=null,i=n.apply(e,u),!a)e=u=null};return function(){var c=v.now();if(!o&&t.leading===!1)o=c;var l=r-(c-o);if(e=this,u=arguments,0>=l||l>r){if(clearTimeout(a),a=null,o=c,i=n.apply(e,u),!a)e=u=null}else if(!a&&t.trailing!==!1)a=setTimeout(f,l);return i}},v.debounce=function(n,r,t){var e,u,i,a,o,f=function(){var c=v.now()-a;if(r>c&&c>0)e=setTimeout(f,r-c);else if(e=null,!t)if(o=n.apply(i,u),!e)i=u=null};return function(){i=this,u=arguments,a=v.now();var c=t&&!e;if(!e)e=setTimeout(f,r);if(c)o=n.apply(i,u),i=u=null;return o}},v.once=function(n){var r,t=!1;return function(){if(t)return r;else return t=!0,r=n.apply(this,arguments),n=null,r}},v.wrap=function(n,r){return v.partial(r,n)},v.negate=function(n){return function(){return!n.apply(this,arguments)}},v.compose=function(){var n=arguments;return function(){for(var r=arguments,t=n.length-1;t>=0;t--)r=[n[t].apply(this,r)];return r[0]}},v.after=function(n,r){return function(){if(--n<1)return r.apply(this,arguments);else return void 0}},v.keys=function(n){if(!v.isObject(n))return[];if(p)return p(n);var r=[];for(var t in n)if(v.has(n,t))r.push(t);return r},v.values=function(n){for(var r=v.keys(n),t=r.length,e=Array(t),u=0;t>u;u++)e[u]=n[r[u]];return e},v.pairs=function(n){for(var r=v.keys(n),t=r.length,e=Array(t),u=0;t>u;u++)e[u]=[r[u],n[r[u]]];return e},v.invert=function(n){for(var r={},t=v.keys(n),e=0,u=t.length;u>e;e++)r[n[t[e]]]=t[e];return r},v.functions=v.methods=function(n){var r=[];for(var t in n)if(v.isFunction(n[t]))r.push(t);return r.sort()},v.extend=function(n){if(!v.isObject(n))return n;for(var r,t,e=1,u=arguments.length;u>e;e++){r=arguments[e];for(t in r)n[t]=r[t]}return n},v.pick=function(n,r,t){var e,u={};if(v.isFunction(r))for(e in n){var i=n[e];if(r.call(t,i,e,n))u[e]=i}else for(var a=f.apply([],o.call(arguments,1)),c=0,l=a.length;l>c;c++)if(e=a[c],e in n)u[e]=n[e];return u},v.omit=function(n,r,t){if(v.isFunction(r))r=v.negate(r);else{var e=v.map(f.apply([],o.call(arguments,1)),String);r=function(n,r){return!v.contains(e,r)}}return v.pick(n,r,t)},v.defaults=function(n){if(!v.isObject(n))return n;for(var r=1,t=arguments.length;t>r;r++){var e=arguments[r];for(var u in e)if(void 0===n[u])n[u]=e[u]}return n},v.clone=function(n){if(!v.isObject(n))return n;else return v.isArray(n)?n.slice():v.extend({},n)},v.tap=function(n,r){return r(n),n};var j=function(n,r,t,e){if(n===r)return 0!==n||1/n===1/r;if(null==n||null==r)return n===r;if(n instanceof v)n=n._wrapped;if(r instanceof v)r=r._wrapped;var u=c.call(n);if(u!==c.call(r))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":if(n!=+n)return r!=+r;else return 0==n?1/n==1/r:n==+r;case"[object Date]":case"[object Boolean]":return+n===+r}if("object"!=typeof n||"object"!=typeof r)return!1;for(var i=t.length;i--;)if(t[i]===n)return e[i]===r;var a=n.constructor,o=r.constructor;if(a!==o&&"constructor"in n&&"constructor"in r&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(o)&&o instanceof o))return!1;t.push(n),e.push(r);var f,l;if("[object Array]"===u){if(f=n.length,l=f===r.length)for(;f--&&(l=j(n[f],r[f],t,e)););}else{var s,p=v.keys(n);if(f=p.length,l=v.keys(r).length==f)for(;f--&&(s=p[f],l=v.has(r,s)&&j(n[s],r[s],t,e)););}return t.pop(),e.pop(),l};if(v.isEqual=function(n,r){return j(n,r,[],[])},v.isEmpty=function(n){if(null==n)return!0;if(v.isArray(n)||v.isString(n)||v.isArguments(n))return 0===n.length;for(var r in n)if(v.has(n,r))return!1;return!0},v.isElement=function(n){return!(!n||1!==n.nodeType)},v.isArray=s||function(n){return"[object Array]"===c.call(n)},v.isObject=function(n){return n===Object(n)},v.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){v["is"+n]=function(r){return c.call(r)==="[object "+n+"]"}}),!v.isArguments(arguments))v.isArguments=function(n){return v.has(n,"callee")};if("function"!=typeof/./)v.isFunction=function(n){return"function"==typeof n};v.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},v.isNaN=function(n){return v.isNumber(n)&&n!==+n},v.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===c.call(n)},v.isNull=function(n){return null===n},v.isUndefined=function(n){return void 0===n},v.has=function(n,r){return null!=n&&l.call(n,r)},v.noConflict=function(){return n._=r,this},v.identity=function(n){return n},v.constant=function(n){return function(){return n}},v.noop=function(){},v.property=function(n){return function(r){return r[n]}},v.matches=function(n){return function(r){if(null==r)return v.isEmpty(n);if(r===n)return!0;for(var t in n)if(n[t]!==r[t])return!1;return!0}},v.times=function(n,r,t){var e=Array(Math.max(0,n));r=g(r,t,1);for(var u=0;n>u;u++)e[u]=r(u);return e},v.random=function(n,r){if(null==r)r=n,n=0;return n+Math.floor(Math.random()*(r-n+1))},v.now=Date.now||function(){return(new Date).getTime()};var x={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};x.unescape=v.invert(x.escape);var w={escape:RegExp("["+v.keys(x.escape).join("")+"]","g"),unescape:RegExp("("+v.keys(x.unescape).join("|")+")","g")};v.each(["escape","unescape"],function(n){v[n]=function(r){if(null==r)return"";else return(""+r).replace(w[n],function(r){return x[n][r]})}}),v.result=function(n,r){if(null==n)return void 0;var t=n[r];return v.isFunction(t)?n[r]():t};var A=0;v.uniqueId=function(n){var r=++A+"";return n?n+r:r},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,O=function(n){return"\\"+F[n]};v.template=function(n,r,t){t=v.defaults({},t,v.templateSettings);var e=RegExp([(t.escape||k).source,(t.interpolate||k).source,(t.evaluate||k).source].join("|")+"|$","g"),u=0,i="__p+='";if(n.replace(e,function(r,t,e,a,o){if(i+=n.slice(u,o).replace(E,O),u=o+r.length,t)i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'";else if(e)i+="'+\n((__t=("+e+"))==null?'':__t)+\n'";else if(a)i+="';\n"+a+"\n__p+='";return r}),i+="';\n",!t.variable)i="with(obj||{}){\n"+i+"}\n";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=Function(t.variable||"obj","_",i)}catch(o){throw o.source=i,o}if(r)return a(r,v);var f=function(n){return a.call(this,n,v)},c=t.variable||"obj";return f.source="function("+c+"){\n"+i+"}",f},v.chain=function(n){var r=v(n);return r._chain=!0,r};var S=function(n){return this._chain?v(n).chain():n};v.mixin=function(n){v.each(v.functions(n),function(r){var t=v[r]=n[r];v.prototype[r]=function(){var n=[this._wrapped];return a.apply(n,arguments),S.call(this,t.apply(v,n))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=e[n];v.prototype[n]=function(){var t=this._wrapped;if(r.apply(t,arguments),("shift"===n||"splice"===n)&&0===t.length)delete t[0];return S.call(this,t)}}),v.each(["concat","join","slice"],function(n){var r=e[n];v.prototype[n]=function(){return S.call(this,r.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped}}).call(this)});