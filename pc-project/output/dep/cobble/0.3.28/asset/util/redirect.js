define("cobble/util/redirect",["require","exports","module","../util/url"],function(require,exports){"use strict";function e(e,r){var n=t.parse(e),i='<form action="'+n.origin+n.pathname+'" target="_blank"';if(r)i+=' accept-charset="'+r+'" onsubmit="document.charset=\''+r+"';\"";return i+=">",$.each(t.parseQuery(n.search),function(e,t){i+='<input type="hidden" name="'+e+'" value="'+t+'" />'}),i+="</form>",$(i)}var t=require("../util/url");exports.openForm=function(t,r){var n=e(t,r);n.appendTo("body"),n.submit()},exports.openLink=function(e){var t=$('<a href="'+e+'" target="_blank"><b></b></a>');t.appendTo("body");try{t.find("b")[0].click()}catch(r){exports.openForm(e)}}}),define("cobble/util/url",["require","exports","module"],function(require,exports){"use strict";exports.parseQuery=function(e){var t={};if("string"===$.type(e)&&e.length>1){var r=0,n=e.charAt(0);if("?"===n)r=1;else if("#"===n){r=1;var i=e.charAt(1);if("/"===i)r=2}if(r>0)e=e.substr(r);$.each(e.split("&"),function(e,r){var n=r.split("=");if(2===n.length){var i=$.trim(n[0]);if(i)t[i]=decodeURIComponent($.trim(n[1]))}})}return t},exports.getOrigin=function(e){if(!e)e=document.URL;return exports.parse(e).origin},exports.parse=function(e){var t=document.createElement("a");t.href=e,e=t.href;var r="";if(t.protocol&&t.host)r=t.protocol+"//"+t.host;else if(/^(http[s]?:\/\/[^\/]+)(?=\/)/.test(e))r=RegExp.$1;var n=r.split(":");if(0===r.indexOf("http:")&&3===n.length&&80==n[2])n.length=2,r=n.join(":");var i=t.pathname;if(i&&"/"!==i.charAt(0))i="/"+i;return{origin:r,pathname:i,search:t.search}}});