define("cobble/util/string",["require","exports","module"],function(require,exports){"use strict";function e(e){var r=e.charCodeAt(0);if(0===(-128&r))return 1;if(0===(-2048&r))return 2;if(0===(-65536&r))return 3;else return 4}function r(r,t){for(var n=0,u=0,c=r.length;c>u&&(n+=Math.floor((e(r.charAt(u))+1)/2),t(n,u+1)!==!1);u++);}exports.getLength=function(e){var t=0;if("string"===$.type(e))r(e,function(e){t=e});return t},exports.truncate=function(e,t,n){if("number"!==$.type(t)||exports.getLength(e)<=t)return e;var u="";return r(e,function(r,n){if(r>t)return!1;else return void(u=e.substr(0,n))}),n="string"===$.type(n)?n:"...",u+n},exports.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},exports.decodeHTML=function(e){var r=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'");return r.replace(/&#([\d]+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})}});