define("cobble/util/cookie",["require","exports","module"],function(require,exports){"use strict";function e(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");var t={};try{e=decodeURIComponent(e.replace(/\+/g," ")),$.each(e.split(";"),function(e,n){var i=n.split("="),o=$.trim(i[0]),r=$.trim(i[1]);if(o)t[o]=r})}catch(n){}return t}function t(e,t,i){var o=i.expires;if($.isNumeric(o)){var r=o;o=new Date,o.setTime(o.getTime()+r*n)}document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),o?";expires="+o.toUTCString():"",i.path?";path="+i.path:"",i.domain?";domain="+i.domain:"",i.secure?";secure":""].join("")}var n=36e5;exports.get=function(t){var n=e(document.cookie);return"string"===$.type(t)?n[t]:n},exports.set=function(e,n,i){if($.isPlainObject(e))i=n,n=null;if(i=$.extend({},exports.defaultOptions,i),null===n)$.each(e,function(e,n){t(e,n,i)});else t(e,n,i)},exports.remove=function(e,n){if(null!=e)n=n||{},n.expires=-1,t(e,"",$.extend({},exports.defaultOptions,n))},exports.defaultOptions={path:"/"}}),define("cobble/util/json",["require","exports","module"],function(require,exports,module){if("object"!=typeof JSON)JSON={};return function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,a,u=gap,s=t[e];if(s&&"object"==typeof s&&"function"==typeof s.toJSON)s=s.toJSON(e);if("function"==typeof rep)s=rep.call(t,e,s);switch(typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(r=s.length,n=0;r>n;n+=1)a[n]=str(n,s)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep){for(r=rep.length,n=0;r>n;n+=1)if("string"==typeof rep[n])if(i=rep[n],o=str(i,s))a.push(quote(i)+(gap?": ":":")+o)}else for(i in s)if(Object.prototype.hasOwnProperty.call(s,i))if(o=str(i,s))a.push(quote(i)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,o}}if("function"!=typeof Date.prototype.toJSON)Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var cx,escapable,gap,indent,meta,rep;if("function"!=typeof JSON.stringify)escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else if("string"==typeof n)indent=n;if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!=typeof JSON.parse)cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)if(Object.prototype.hasOwnProperty.call(o,n))if(i=walk(o,n),void 0!==i)o[n]=i;else delete o[n];return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text))text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}(),JSON}),define("cobble/util/supload/supload",["require","exports","module","../cookie","../json"],function(require){function e(e){$.extend(this,e),this.init()}function t(){return"_Supload_"+o++}if(window.Supload===e)return window.Supload;var n=require("../cookie"),i=require("../json");e.prototype={constructor:e,init:function(){var i=t();this.movieName=i;var o=this.element;if("string"===$.type(o))o=document.getElementById(o);var r=this.data||(this.data={});$.each(n.get(),function(e,t){if("undefined"===$.type(r[e]))r[e]=t});var a=e.createSWF(i,this.flashUrl,this.getFlashVars());o.parentNode.replaceChild(a,o),this.element=a,this.onLog=function(e){console.log(e)},e.instances[i]=this},getFlashVars:function(){var t=this,n=[];return $.each(["movieName","action","accept","multiple","fileName","data","ignoreError"],function(e,o){var r=t[o];if(null!=r){if($.isPlainObject(r))r=i.stringify(r);else if($.isArray(r))r=r.join(",");n.push(o+"="+encodeURIComponent(r))}}),n.push("projectName="+e.projectName),n.join("&amp;")},getFiles:function(){return this.element.getFiles&&this.element.getFiles()||[]},setAction:function(e){this.element.setAction&&this.element.setAction(e)},setData:function(e){this.element.setData&&this.element.setData(e)},reset:function(){this.element.reset&&this.element.reset()},upload:function(){this.element.upload&&this.element.upload()},cancel:function(){this.element.cancel&&this.element.cancel()},enable:function(){this.element.enable&&this.element.enable()},disable:function(){this.element.disable&&this.element.disable()},dispose:function(){this.element.dispose&&this.element.dispose(),e.instances[this.movieName]=null,window[this.movieName]=null}},e.projectName="Supload",e.createSWF=function(t,n,i){var o='<object id="'+t+'" class="'+e.projectName.toLowerCase()+'" type="application/x-shockwave-flash" data="'+n+'"><param name="movie" value="'+n+'" /><param name="allowscriptaccess" value="always" /><param name="wmode" value="transparent" /><param name="flashvars" value="'+i+'" /></object>';return $(o)[0]},e.instances={},e.STATUS_WAITING=0,e.STATUS_UPLOADING=1,e.STATUS_UPLOAD_SUCCESS=2,e.STATUS_UPLOAD_ERROR=3,e.ERROR_CANCEL=0,e.ERROR_SECURITY=1,e.ERROR_IO=2;var o=178245;return window.Supload=e,e});