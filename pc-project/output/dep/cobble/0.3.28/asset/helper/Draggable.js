define("cobble/function/contains",["require","exports","module"],function(){"use strict";return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t)}}),define("cobble/function/disableSelection",["require","exports","module"],function(){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=function(){return!1}};if(n)return function(e){e=e||document.body,e.style.MozUserSelect="none"};else return $.noop}),define("cobble/function/enableSelection",["require","exports","module"],function(){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=null};if(n)return function(e){e=e||document.body,e.style.MozUserSelect=""};else return $.noop}),define("cobble/function/innerOffset",["require","exports","module","./toNumber"],function(require){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),o=t.css("border-left-width"),i=t.css("border-top-width");return{left:n.left+e(o,0,"int"),top:n.top+e(i,0,"int")}}}),define("cobble/function/jquerify",["require","exports","module"],function(){"use strict";function e(e){return e.faker||e.element}var t=$.prototype,n={on:function(){return t.on.apply(e(this),arguments),this},off:function(){return t.off.apply(e(this),arguments),this},emit:function(n,o){var i=this,r=e(i);if(r){if(!n[$.expando])n="string"===$.type(n)?$.Event(n):$.Event(null,n);n.cobble=i;var u=[n];if(o)u.push(o);var c=i[$.camelCase("on-"+n.type)];if($.isFunction(c)&&c.apply(i,u)===!1)n.preventDefault();if(!n.isPropagationStopped())t.trigger.apply(r,u);return n}},before:function(t){e(this).before(t)},after:function(t){e(this).after(t)},appendTo:function(t){e(this).appendTo(t)},prependTo:function(t){e(this).prependTo(t)}};return function(e){$.each(n,function(t,n){if(null==e[t])e[t]=n})}}),define("cobble/function/lifeCycle",["require","exports"],function(require,exports){"use strict";exports.init=function(e,t){var n=e.constructor,o="__cobble__"+n.prototype.type,i=t.element;if(i&&i.data(o))e=i.data(o);else if($.extend(e,n.defaultOptions,t),e.init(),i)i.data(o,e);return e},exports.dispose=function(e){var t="__cobble__"+e.constructor.prototype.type,n=e.element;if(n)n.removeData(t)}}),define("cobble/function/offsetParent",["require","exports","module"],function(){"use strict";function e(e){return e.is("body")||"static"!==e.css("position")}return function(t){if(t.is("body"))return t;for(var n=t.parent();!e(n);)n=n.parent();return n}}),define("cobble/function/outerOffset",["require","exports","module","./toNumber"],function(require){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),o=e(t.css("margin-left"),0,"int"),i=e(t.css("margin-top"),0,"int");return{left:n.left-o,top:n.top-i}}}),define("cobble/function/page",["require","exports","module","../util/instance"],function(require){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")<e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cobble/function/pageScrollLeft",["require","exports","module"],function(){"use strict";return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)}}),define("cobble/function/pageScrollTop",["require","exports","module"],function(){"use strict";return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}}),define("cobble/function/position",["require","exports","module","./offsetParent"],function(require){"use strict";var e=require("./offsetParent");return function(t){var n=e(t),o=t.css("position"),i=parseInt(t.css("left"),10),r=parseInt(t.css("top"),10),u=isNaN(i),c=isNaN(r);if(u||c)if(1===n.length){var f=t.offset(),s=n.offset();if(u)i=f.left-s.left-(parseInt(n.css("border-left-width"),10)||0);if(c)r=f.top-s.top-(parseInt(n.css("border-top-width"),10)||0)}else i=r=0;if(!o||"static"===o)o="absolute";return{position:o,left:i,top:r}}}),define("cobble/function/restrain",["require","exports","module"],function(){"use strict";return function(e,t,n){if(t>e)e=t;else if(e>n)e=n;return e}}),define("cobble/function/toNumber",["require","exports","module"],function(){"use strict";var e={"int":parseInt,"float":parseFloat};return function(t,n,o){if("number"!==$.type(t)){var i=e[o];if(t=i?i(t,10):+t,isNaN(t))t=n}return t}}),define("cobble/helper/Draggable",["require","exports","module","../function/page","../function/toNumber","../function/restrain","../function/position","../function/contains","../function/jquerify","../function/lifeCycle","../function/innerOffset","../function/outerOffset","../function/pageScrollLeft","../function/pageScrollTop","../function/enableSelection","../function/disableSelection","../util/instance","../util/mouse"],function(require){"use strict";function e(e){return s.init(this,e)}function t(e){var t=v(e),n=y(e);if(S.left!==t||S.top!==n){S.left=t,S.top=n;var o=e.data;if(1===++x){var i=o.draggingClass;if(i)o.element.addClass(i);o.emit("beforeDrag")}if(!o.silence)o.element.css(S);o.emit("drag",S)}}function n(e){m(),h.document.off(q);var t=e.data,n=t.draggingClass;if(n)t.element.removeClass(n);if(x>0)t.emit("afterDrag",S);x=v=y=null}function o(e,t,n){var o=!1;if($.isArray(t))t=t.join(",");return e.find(t).each(function(){if(o=c(this,n))return!1;else return void 0}),o}var i=require("../function/page"),r=(require("../function/toNumber"),require("../function/restrain")),u=require("../function/position"),c=require("../function/contains"),f=require("../function/jquerify"),s=require("../function/lifeCycle"),l=require("../function/innerOffset"),a=require("../function/outerOffset"),p=require("../function/pageScrollLeft"),d=require("../function/pageScrollTop"),m=require("../function/enableSelection"),b=require("../function/disableSelection"),h=require("../util/instance"),g=require("../util/mouse");e.prototype={constructor:e,type:"Draggable",init:function(){var e=this,r=e.element;if(!e.container)e.container=i();r.css(u(r)),$.each(g,function(i,f){if(f.support)r.on(f.mousedown+q,function(s){var p=s.target,d=e.handleSelector,m=e.cancelSelector;if(!(d&&!o(r,d,p)||m&&o(r,m,p))){var g=X[i],$=a(r),Y=g.absoluteX(s)-$.left,N=g.absoluteY(s)-$.top,T=e.container;if(c(T,r)){var _=l(T);Y+=_.left,N+=_.top}var C=u(r),M=C.position;S.left=C.left,S.top=C.top;var O=e.axis,E=e.getRectange(!0);v="y"===O?w.constant(S.left):w.change(g[M+"X"],Y,E.x,E.x+E.width),y="x"===O?w.constant(S.top):w.change(g[M+"Y"],N,E.y,E.y+E.height),x=0,b(),h.document.on(f.mousemove+q,e,t).on(f.mouseup+q,e,n)}})})},getRectange:function(e){var t=this,n=t.rect;if($.isFunction(n))n=t.rect();if(e){var o=t.element,i=n.width-o.outerWidth(!0),r=n.height-o.outerHeight(!0);n.width=Math.max(0,i),n.height=Math.max(0,r)}return n},setRectange:function(e){this.rect=e},dispose:function(){var e=this;s.dispose(e),e.element.off(q),e.element=e.container=null}},f(e.prototype),e.defaultOptions={rect:function(){var e=this,t=e.container,n={x:0,y:0,width:t.innerWidth(),height:t.innerHeight()};if(!c(t,e.element)){var o=l(t);n.x=o.left,n.y=o.top}return n}};var v,y,x,q=".cobble_helper_draggable",S={},w={constant:function(e){return function(){return e}},change:function(e,t,n,o){return function(i){return r(e(i)-t,n,o)}}},X={};return $.each(g,function(e,t){if(t.support)X[e]={absoluteX:function(e){return t.clientX(e)+p()},absoluteY:function(e){return t.clientY(e)+d()},fixedX:function(e){return t.clientX(e)},fixedY:function(e){return t.clientY(e)}}}),e}),define("cobble/util/instance",["require","exports","module"],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body)}),define("cobble/util/mouse",["require","exports","module"],function(){"use strict";function e(e){return e.originalEvent.changedTouches[0]}var t=document.createElement("div"),n={support:"ontouchend"in t,click:"touchstart",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",pageX:function(t){return e(t).pageX},pageY:function(t){return e(t).pageY},clientX:function(t){return e(t).clientX},clientY:function(t){return e(t).clientY}},o={support:"onclick"in t,click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",pageX:function(e){return e.pageX},pageY:function(e){return e.pageY},clientX:function(e){return e.clientX},clientY:function(e){return e.clientY}};return t=null,{touch:n,mouse:o}});