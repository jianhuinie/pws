define("cobble/function/around",["require","exports","module"],function(){"use strict";return function(e,n,t,i){var o="string"===$.type(n),r=o?e[n]:e;if(!o)i=t,t=n;var u=function(){var e,n=arguments;if($.isFunction(t))e=t.apply(this,n);if(e!==!1){if($.isFunction(r))e=r.apply(this,n);if($.isFunction(i)){var o=i.apply(this,n);if("undefined"!==$.type(o))e=o}return e}};return o?e[n]=u:u}}),define("cobble/function/call",["require","exports","module"],function(){"use strict";return function(e,n,t){if($.isFunction(e)){var i=$.isArray(t)?"apply":"call";return e[i](n,t)}}}),define("cobble/function/jquerify",["require","exports","module"],function(){"use strict";function e(e){return e.faker||e.element}var n=$.prototype,t={on:function(){return n.on.apply(e(this),arguments),this},off:function(){return n.off.apply(e(this),arguments),this},emit:function(t,i){var o=this,r=e(o);if(r){if(!t[$.expando])t="string"===$.type(t)?$.Event(t):$.Event(null,t);t.cobble=o;var u=[t];if(i)u.push(i);var f=o[$.camelCase("on-"+t.type)];if($.isFunction(f)&&f.apply(o,u)===!1)t.preventDefault();if(!t.isPropagationStopped())n.trigger.apply(r,u);return t}},before:function(n){e(this).before(n)},after:function(n){e(this).after(n)},appendTo:function(n){e(this).appendTo(n)},prependTo:function(n){e(this).prependTo(n)}};return function(e){$.each(t,function(n,t){if(null==e[n])e[n]=t})}}),define("cobble/function/lifeCycle",["require","exports"],function(require,exports){"use strict";exports.init=function(e,n){var t=e.constructor,i="__cobble__"+t.prototype.type,o=n.element;if(o&&o.data(i))e=o.data(i);else if($.extend(e,t.defaultOptions,n),e.init(),o)o.data(i,e);return e},exports.dispose=function(e){var n="__cobble__"+e.constructor.prototype.type,t=e.element;if(t)t.removeData(n)}}),define("cobble/function/split",["require","exports","module"],function(){"use strict";return function(e,n){var t=[];return $.each(e.split(n),function(e,n){if(n=$.trim(n))t.push(n)}),t}}),define("cobble/helper/Input",["require","exports","module","../function/around","../function/jquerify","../function/lifeCycle","../util/keyboard","../util/input","./Keyboard"],function(require){"use strict";function e(e){return t.init(this,e)}var n=(require("../function/around"),require("../function/jquerify")),t=require("../function/lifeCycle"),i=require("../util/keyboard"),o=require("../util/input"),r=require("./Keyboard");e.prototype={constructor:e,type:"Input",init:function(){var e=this,n=e.element;o.init(n);var t=e.action;if(t)$.each(t,function(n,i){t[n]=$.proxy(i,e)});var f,c;e.keyboard=new r({element:n,action:t,longPress:e.longPress,onKeyDown:function(n){e.emit(n)},onKeyUp:function(n){e.emit(n)},onBeforeLongPress:function(){f=n.val(),c=!0,e.emit("beforeLongPress")},onAfterLongPress:function(t){if(c=!1,e.emit("afterLongPress"),f!==n.val()&&(i.isCharKey(t.keyCode)||i.isDeleteKey()))e.emit("change")}}),n.on("input"+u,function(){if(!c||!e.smart)e.emit("change")})},autoWidth:function(){var e=this,n=e.element;e.on("change",function(){if(n.scrollLeft()>0)n.width(n.prop("scrollWidth"))})},autoHeight:function(){var e=this,n=e.element;if("hidden"!==n.css("overflow-y"))n.css("overflow-y","hidden");var t,i=n.height(),o=i,r=parseInt(n.css("font-size"),10),u=n.innerHeight()-i;e.on("change",function(){if(o!==i)o=i,n.height(i);if(t=n.prop("scrollHeight")-u,Math.abs(t-o)>r)n.height(t),o=t})},dispose:function(){var e=this;t.dispose(e);var n=e.element;o.dispose(n),n.off(u),e.keyboard.dispose(),e.element=e.keyboard=null}},n(e.prototype),e.defaultOptions={smart:!0,longPress:!1};var u=".cobble_helper_input";return e}),define("cobble/helper/Keyboard",["require","exports","module","../function/call","../function/split","../function/jquerify","../util/keyboard"],function(require){"use strict";function e(n){$.extend(this,e.defaultOptions,n),this.init()}function n(e){var n=[];return $.each(e,function(e,t){var i=[],o="plus",u=r(e.replace(/\$\+/g,o),"+");if($.each(f.combinationKey,function(e){if($.inArray(e,u)<0)u.push("!"+e)}),$.each(u,function(e,n){var t=0===n.indexOf("!");if(t)n=n.substr(1);if(n===o)n="$+";if(f.combinationKey[n])i.push((t?"!":"")+"e."+n+"Key");else if(f[n])i.push("e.keyCode==="+f[n]);else return i.length=0,!1}),i.length>0)n.push({test:new Function("e","return "+i.join("&")),handler:t})}),n}function t(e){var n=e.data,t=e.keyCode,i=n.cache,r=i.counter;if(i.keyCode===t&&r>0){if(1===r)n.emit({type:"beforeLongPress",keyCode:t});r++}else i.keyCode=t,r=1;if(i.counter=r,n.longPress||1===r)$.each(i.action,function(t,i){if(i.test(e))o(i.handler,n,e)});e.type="keyDown",n.emit(e)}function i(e){var n=e.data,t=n.cache;if(t.keyCode=null,t.counter>1)n.emit({type:"afterLongPress",keyCode:e.keyCode}),t.counter=0;e.type="keyUp",n.emit(e)}var o=require("../function/call"),r=require("../function/split"),u=require("../function/jquerify"),f=require("../util/keyboard");e.prototype={constructor:e,type:"Keyboard",init:function(){var e=this;e.cache={counter:0,action:n(e.action||{})},e.element.on("keydown"+c,e,t).on("keyup"+c,e,i)},dispose:function(){var e=this;e.element.off(c),e.element=e.cache=null}},u(e.prototype),e.defaultOptions={longPress:!1};var c=".cobble_helper_keyboard";return e}),define("cobble/util/input",["require","exports","module","../function/around"],function(require,exports){"use strict";function e(){}function n(e){var n=e.val(),i=!1;e.on("propertychange"+r,function(t){if(i)return void(i=!1);if("value"===t.originalEvent.propertyName){var o=e.val();if(o!==n)e.trigger("input"),n=o}}),t(e,"val",function(){if(0!==arguments.length)i=!0})}var t=require("../function/around"),i=$('<input type="text" />')[0],o="oninput"in i;i=null;var r=".cobble_util_input";exports.init=o?e:n,exports.dispose=function(e){e.off(r)}}),define("cobble/util/keyboard",["require","exports","module"],function(require,exports){"use strict";function e(e){var n={};return $.each(e,function(e,t){n[t]=e}),n}var n={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,"`":192,"-":173,"=":61,"[":219,"]":221,"\\":220,";":59,"'":222,",":188,".":190,"/":191,$0:96,$1:97,$2:98,$3:99,$4:100,$5:101,$6:102,$7:103,$8:104,$9:105,"$.":110,"$+":107,"$-":109,"$*":106,"$/":111,space:32,tab:9},t={backspace:8,"delete":46},i={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,enter:13,esc:27,capslock:20,insert:45,home:36,end:35,pageup:33,pagedown:34,left:37,right:39,up:38,down:40},o={shift:16,ctrl:17,meta:91,alt:18};$.extend(exports,n,i,o),exports.charKey=n,exports.deleteKey=t,exports.functionKey=i,exports.combinationKey=o,exports.isCharKey=function(t){return t in e(n)},exports.isDeleteKey=function(n){return n in e(t)},exports.isFunctionKey=function(n){return n in e(i)},exports.isCombinationKey=function(n){return n in e(o)}});