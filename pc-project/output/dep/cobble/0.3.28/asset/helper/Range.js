define("cobble/helper/Range",["require","exports","module"],function(){"use strict";function e(e){this.element=e}function t(){var e=this.element;return{start:e.selectionStart,end:e.selectionEnd}}function n(e,t){var n=this.element;n.focus(),n.setSelectionRange(e,t)}function r(){var e=this.element;e.focus();var t=document.selection.createRange().getBookmark(),n=e.createTextRange();n.moveToBookmark(t);var r=n.duplicate();r.setEndPoint("StartToStart",n);for(var a=e.value,o=0;0!==r.moveStart("character",-1);o++)if("\n"===a.charAt(o))o++;return{start:o,end:o+n.text.length}}function a(e,t){var n=this.element;if(!(n.value.length<t)){var r=n.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",t-1),r.select()}}var o=!window.getSelection;return e.prototype={constructor:e,getRange:o?r:t,setRange:o?a:n,getText:function(){var e=this.element.value,t=this.getRange();return e.substring(t.start,t.end)},setText:function(e){var t=this.element,n=t.value,r=this.getRange();t.value=n.substring(0,r.start)+e+n.substr(r.end)},dispose:function(){this.element=null}},o=null,e});