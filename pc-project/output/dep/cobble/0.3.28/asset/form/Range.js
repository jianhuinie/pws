define("cobble/form/Range",["require","exports","module","../ui/Slider","../function/jquerify","../function/lifeCycle","../function/init"],function(require){"use strict";function e(e){return i.init(this,e)}var t=require("../ui/Slider"),n=require("../function/jquerify"),i=require("../function/lifeCycle"),o=require("../function/init");return e.prototype={constructor:e,type:"Range",init:function(){var e=this,n=e.element;e.value=+n.val();var i=e.faker=$(e.template);n.hide().before(i);var o=n.attr("min"),r=n.attr("max"),u=n.attr("step");e.slider=new t({element:i,min:null!=o?+o:o,max:null!=r?+r:r,step:null!=u?+u:1,scrollable:!1,orientation:"horizontal",thumbSelector:e.thumbSelector,trackSelector:e.trackSelector,onChange:function(){e.setValue(+this.value)}})},getValue:function(){return this.value||0},setValue:function(e){var t=this;if(e!==t.value){if(t.value=e,t.element.val(e),t.slider)t.slider.setValue(e);t.emit("change")}},dispose:function(){var e=this;i.dispose(e),e.slider.dispose(),e.faker=e.slider=e.element=null}},n(e.prototype),e.defaultOptions={},e.init=o(e),e}),define("cobble/function/contains",["require","exports","module"],function(){"use strict";return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t)}}),define("cobble/function/decimalLength",["require","exports","module"],function(){"use strict";return function(e){var t=(""+e).split(".");return 2===t.length?t[1].length:0}}),define("cobble/function/disableSelection",["require","exports","module"],function(){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=function(){return!1}};if(n)return function(e){e=e||document.body,e.style.MozUserSelect="none"};else return $.noop}),define("cobble/function/divide",["require","exports","module","./decimalLength","./float2Int"],function(require){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),n/i}}),define("cobble/function/enableSelection",["require","exports","module"],function(){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=null};if(n)return function(e){e=e||document.body,e.style.MozUserSelect=""};else return $.noop}),define("cobble/function/eventOffset",["require","exports","module"],function(){"use strict";return function(e){var t=e.offsetX,n=e.offsetY;if("number"!=typeof t){var i=e.target.getBoundingClientRect();t=e.clientX-i.left,n=e.clientY-i.top}return{x:t,y:n}}}),define("cobble/function/float2Int",["require","exports","module"],function(){"use strict";return function(e,t){var n,i=(""+e).split(".");if(t>=0);else t=0;if(1===i.length)n=e+new Array(t+1).join("0");else t=Math.max(0,t-i[1].length),n=i.join("")+new Array(t+1).join("0");return+n}}),define("cobble/function/init",["require","exports","module"],function(){"use strict";return function(e){return function(t,n){var i=[];return t.each(function(){i.push(new e($.extend({element:$(this)},n)))}),i}}}),define("cobble/function/innerOffset",["require","exports","module","./toNumber"],function(require){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=t.css("border-left-width"),o=t.css("border-top-width");return{left:n.left+e(i,0,"int"),top:n.top+e(o,0,"int")}}}),define("cobble/function/jquerify",["require","exports","module"],function(){"use strict";function e(e){return e.faker||e.element}var t=$.prototype,n={on:function(){return t.on.apply(e(this),arguments),this},off:function(){return t.off.apply(e(this),arguments),this},emit:function(n,i){var o=this,r=e(o);if(r){if(!n[$.expando])n="string"===$.type(n)?$.Event(n):$.Event(null,n);n.cobble=o;var u=[n];if(i)u.push(i);var c=o[$.camelCase("on-"+n.type)];if($.isFunction(c)&&c.apply(o,u)===!1)n.preventDefault();if(!n.isPropagationStopped())t.trigger.apply(r,u);return n}},before:function(t){e(this).before(t)},after:function(t){e(this).after(t)},appendTo:function(t){e(this).appendTo(t)},prependTo:function(t){e(this).prependTo(t)}};return function(e){$.each(n,function(t,n){if(null==e[t])e[t]=n})}}),define("cobble/function/lifeCycle",["require","exports"],function(require,exports){"use strict";exports.init=function(e,t){var n=e.constructor,i="__cobble__"+n.prototype.type,o=t.element;if(o&&o.data(i))e=o.data(i);else if($.extend(e,n.defaultOptions,t),e.init(),o)o.data(i,e);return e},exports.dispose=function(e){var t="__cobble__"+e.constructor.prototype.type,n=e.element;if(n)n.removeData(t)}}),define("cobble/function/minus",["require","exports","module","./decimalLength","./float2Int"],function(require){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),(n-i)/Math.pow(10,o)}}),define("cobble/function/multiply",["require","exports","module","./decimalLength","./float2Int"],function(require){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));n=t(n,o),i=t(i,o);var r=Math.pow(10,o);return n*i/(r*r)}}),define("cobble/function/offsetParent",["require","exports","module"],function(){"use strict";function e(e){return e.is("body")||"static"!==e.css("position")}return function(t){if(t.is("body"))return t;for(var n=t.parent();!e(n);)n=n.parent();return n}}),define("cobble/function/outerOffset",["require","exports","module","./toNumber"],function(require){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=e(t.css("margin-left"),0,"int"),o=e(t.css("margin-top"),0,"int");return{left:n.left-i,top:n.top-o}}}),define("cobble/function/page",["require","exports","module","../util/instance"],function(require){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")<e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cobble/function/pageScrollLeft",["require","exports","module"],function(){"use strict";return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)}}),define("cobble/function/pageScrollTop",["require","exports","module"],function(){"use strict";return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}}),define("cobble/function/plus",["require","exports","module","./decimalLength","./float2Int"],function(require){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),(n+i)/Math.pow(10,o)}}),define("cobble/function/position",["require","exports","module","./offsetParent"],function(require){"use strict";var e=require("./offsetParent");return function(t){var n=e(t),i=t.css("position"),o=parseInt(t.css("left"),10),r=parseInt(t.css("top"),10),u=isNaN(o),c=isNaN(r);if(u||c)if(1===n.length){var f=t.offset(),l=n.offset();if(u)o=f.left-l.left-(parseInt(n.css("border-left-width"),10)||0);if(c)r=f.top-l.top-(parseInt(n.css("border-top-width"),10)||0)}else o=r=0;if(!i||"static"===i)i="absolute";return{position:i,left:o,top:r}}}),define("cobble/function/restrain",["require","exports","module"],function(){"use strict";return function(e,t,n){if(t>e)e=t;else if(e>n)e=n;return e}}),define("cobble/function/toNumber",["require","exports","module"],function(){"use strict";var e={"int":parseInt,"float":parseFloat};return function(t,n,i){if("number"!==$.type(t)){var o=e[i];if(t=o?o(t,10):+t,isNaN(t))t=n}return t}}),define("cobble/helper/Draggable",["require","exports","module","../function/page","../function/toNumber","../function/restrain","../function/position","../function/contains","../function/jquerify","../function/lifeCycle","../function/innerOffset","../function/outerOffset","../function/pageScrollLeft","../function/pageScrollTop","../function/enableSelection","../function/disableSelection","../util/instance","../util/mouse"],function(require){"use strict";function e(e){return l.init(this,e)}function t(e){var t=g(e),n=y(e);if(w.left!==t||w.top!==n){w.left=t,w.top=n;var i=e.data;if(1===++x){var o=i.draggingClass;if(o)i.element.addClass(o);i.emit("beforeDrag")}if(!i.silence)i.element.css(w);i.emit("drag",w)}}function n(e){m(),b.document.off(q);var t=e.data,n=t.draggingClass;if(n)t.element.removeClass(n);if(x>0)t.emit("afterDrag",w);x=g=y=null}function i(e,t,n){var i=!1;if($.isArray(t))t=t.join(",");return e.find(t).each(function(){if(i=c(this,n))return!1;else return void 0}),i}var o=require("../function/page"),r=(require("../function/toNumber"),require("../function/restrain")),u=require("../function/position"),c=require("../function/contains"),f=require("../function/jquerify"),l=require("../function/lifeCycle"),s=require("../function/innerOffset"),a=require("../function/outerOffset"),p=require("../function/pageScrollLeft"),d=require("../function/pageScrollTop"),m=require("../function/enableSelection"),h=require("../function/disableSelection"),b=require("../util/instance"),v=require("../util/mouse");e.prototype={constructor:e,type:"Draggable",init:function(){var e=this,r=e.element;if(!e.container)e.container=o();r.css(u(r)),$.each(v,function(o,f){if(f.support)r.on(f.mousedown+q,function(l){var p=l.target,d=e.handleSelector,m=e.cancelSelector;if(!(d&&!i(r,d,p)||m&&i(r,m,p))){var v=C[o],$=a(r),M=v.absoluteX(l)-$.left,T=v.absoluteY(l)-$.top,j=e.container;if(c(j,r)){var O=s(j);M+=O.left,T+=O.top}var V=u(r),X=V.position;w.left=V.left,w.top=V.top;var Y=e.axis,D=e.getRectange(!0);g="y"===Y?S.constant(w.left):S.change(v[X+"X"],M,D.x,D.x+D.width),y="x"===Y?S.constant(w.top):S.change(v[X+"Y"],T,D.y,D.y+D.height),x=0,h(),b.document.on(f.mousemove+q,e,t).on(f.mouseup+q,e,n)}})})},getRectange:function(e){var t=this,n=t.rect;if($.isFunction(n))n=t.rect();if(e){var i=t.element,o=n.width-i.outerWidth(!0),r=n.height-i.outerHeight(!0);n.width=Math.max(0,o),n.height=Math.max(0,r)}return n},setRectange:function(e){this.rect=e},dispose:function(){var e=this;l.dispose(e),e.element.off(q),e.element=e.container=null}},f(e.prototype),e.defaultOptions={rect:function(){var e=this,t=e.container,n={x:0,y:0,width:t.innerWidth(),height:t.innerHeight()};if(!c(t,e.element)){var i=s(t);n.x=i.left,n.y=i.top}return n}};var g,y,x,q=".cobble_helper_draggable",w={},S={constant:function(e){return function(){return e}},change:function(e,t,n,i){return function(o){return r(e(o)-t,n,i)}}},C={};return $.each(v,function(e,t){if(t.support)C[e]={absoluteX:function(e){return t.clientX(e)+p()},absoluteY:function(e){return t.clientY(e)+d()},fixedX:function(e){return t.clientX(e)},fixedY:function(e){return t.clientY(e)}}}),e}),define("cobble/helper/Wheel",["require","exports","module","../function/lifeCycle","../function/jquerify","../util/instance"],function(require){"use strict";function e(e){return t.init(this,e)}var t=require("../function/lifeCycle"),n=require("../function/jquerify"),i=require("../util/instance");e.prototype={constructor:e,type:"Wheel",init:function(){var e=this;e.element.on(r+o,function(t){var n=0,i=t.originalEvent;if("mousewheel"===r)n=-i.wheelDelta/120;else n=i.detail/3;t.type="scroll",e.emit(t,{delta:n})})},dispose:function(){var e=this;t.dispose(e),e.element.off(o),e.element=null}},n(e.prototype),e.defaultOptions={element:i.document};var o=".cobble_helper_wheel",r="onmousewheel"in i.body[0]?"mousewheel":"DOMMouseScroll";return e}),define("cobble/ui/Slider",["require","exports","module","../function/plus","../function/minus","../function/divide","../function/multiply","../function/jquerify","../function/lifeCycle","../function/restrain","../function/contains","../function/position","../function/eventOffset","../helper/Draggable","../helper/Wheel"],function(require){"use strict";function e(e){return u.init(this,e)}var t=require("../function/plus"),n=require("../function/minus"),i=require("../function/divide"),o=require("../function/multiply"),r=require("../function/jquerify"),u=require("../function/lifeCycle"),c=require("../function/restrain"),f=require("../function/contains"),l=require("../function/position"),s=require("../function/eventOffset"),a=require("../helper/Draggable"),p=require("../helper/Wheel");e.prototype={constructor:e,type:"Slider",init:function(){var e,t=this,n=t.element,i=t.thumbSelector;if("string"===$.type(i))if(e=n.find(i),!e.length&&t.template)n.html(t.template),e=n.find(i);var o=t.trackSelector,r="string"===$.type(o)?n.find(o):n,u=t.barSelector;if("string"===$.type(u))t.bar=n.find(u);t.track=r,t.thumb=e;var c=t.draggingClass;if(t.draggable=new a({element:e,container:r,silence:!0,axis:t.axis,onBeforeDrag:function(){if("string"===$.type(c))r.addClass(c);t.emit("beforeDrag")},onDrag:function(e,n){t.setValue(t.positionToValue(n),{from:"drag"})},onAfterDrag:function(){if("string"===$.type(c))r.removeClass(c);t.emit("afterDrag")}}),r.on("click"+d,function(n){if(!f(e,n.target)){var i=t.positionToValue(s(n));t.setValue(i,{from:"click"})}}),t.scrollStep>0){var l=t.scrollStep;t.wheel=new p({element:r,onScroll:function(e,n){var i=n.delta*l;if(t.reverse)i*=-1;var o=t.value+i;return!t.setValue(o,{from:"wheel"})}})}t.refresh(!0)},refresh:function(e){var r,u=this;if($.isPlainObject(e))$.extend(u,e);if(e===!0||arguments[1]===!0)r=!0;var f,s,a,p,d=u.draggable.getRectange(!0),m=u.thumb,h="vertical"===u.orientation;if(h)f="y",s="top",a=d.height,p=m.outerHeight();else f="x",s="left",a=d.width,p=m.outerWidth();var b,v,g=u.min,y=u.max,x=u.step;if("number"===$.type(x)){var q=i(a,i(n(y,g),x));b=function(e){return t(g,Math.floor(i(e,q)))},v=function(e){return o(n(e,g),q)}}else b=function(e){return t(g,o(n(y,g),i(e,a)))},v=function(e){return o(n(e,g),i(a,n(y,g)))};var w=u.reverse;u.pixelToValue=function(e){if(e=c(e,0,a),w)e=a-e;return b(e)},u.valueToPixel=function(e){e=c(e,g,y);var t=v(e);if(w)t=a-t;return t},u.positionToValue=function(e){var t=e[s];if(null==t)t=e[f];return u.pixelToValue(t)},u.syncBar=function(e){var t=u.bar;if(t){if(w)e=a-e;if(h)t.height(e);else t.width(e)}};var S=u.value;if("number"!==$.type(S))S=u.positionToValue(l(m));u.setValue(S,{force:!0,silence:r})},getValue:function(){return this.value},setValue:function(e,t){var n=this,i=n.min,o=n.max;if(e=c(e,i,o),t=t||{},t.force||e!==n.value){n.value=e;var r="vertical"===n.orientation,u=r?"top":"left",f=n.valueToPixel(e);if(n.thumb.css(u,f),n.syncBar(f),!t.silence)n.emit("change");return!0}return!1},dispose:function(){var e=this;if(u.dispose(e),e.track.off(d),e.draggable.dispose(),e.wheel)e.wheel.dispose(),e.wheel=null;e.element=e.draggable=null}},r(e.prototype),e.defaultOptions={min:0,max:100,orientation:"horizontal",template:'<div class="slider-thumb"></div>'};var d=".cobble_ui_slider";return e}),define("cobble/util/instance",["require","exports","module"],function(require,exports){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body)}),define("cobble/util/mouse",["require","exports","module"],function(){"use strict";function e(e){return e.originalEvent.changedTouches[0]}var t=document.createElement("div"),n={support:"ontouchend"in t,click:"touchstart",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",pageX:function(t){return e(t).pageX},pageY:function(t){return e(t).pageY},clientX:function(t){return e(t).clientX},clientY:function(t){return e(t).clientY}},i={support:"onclick"in t,click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",pageX:function(e){return e.pageX},pageY:function(e){return e.pageY},clientX:function(e){return e.clientX},clientY:function(e){return e.clientY}};return t=null,{touch:n,mouse:i}});