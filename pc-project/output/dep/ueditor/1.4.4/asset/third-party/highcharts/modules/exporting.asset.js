!function(e){var t,n,o=e.Chart,i=e.addEvent,r=e.removeEvent,a=e.createElement,s=e.discardElement,l=e.css,p=e.merge,c=e.each,h=e.extend,u=Math,d=u.max,m=document,g=window,x=e.isTouchDevice,f="M",y="L",b="div",v="hidden",w="none",S="highcharts-",k="absolute",E="px",C=e.Renderer.prototype.symbols,F=e.getOptions();h(F.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),F.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:w,color:"#303030",fontSize:x?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},F.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:S+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},e.post=function(e,t){var n,o;o=a("form",{method:"post",action:e,enctype:"multipart/form-data"},{display:w},m.body);for(n in t)a("input",{type:v,name:n,value:t[n]},null,o);o.submit(),s(o)},h(o.prototype,{getSVG:function(n){var o,i,r,l,u,d,g,x,f=this,y=p(f.options,n);if(!m.createElementNS)m.createElementNS=function(e,t){return m.createElement(t)};return i=a(b,null,{position:k,top:"-9999em",width:f.chartWidth+E,height:f.chartHeight+E},m.body),g=f.renderTo.style.width,x=f.renderTo.style.height,u=y.exporting.sourceWidth||y.chart.width||/px$/.test(g)&&parseInt(g,10)||600,d=y.exporting.sourceHeight||y.chart.height||/px$/.test(x)&&parseInt(x,10)||400,h(y.chart,{animation:!1,renderTo:i,forExport:!0,width:u,height:d}),y.exporting.enabled=!1,y.series=[],c(f.series,function(e){if(l=p(e.options,{animation:!1,showCheckbox:!1,visible:e.visible}),!l.isInternal)y.series.push(l)}),o=new e.Chart(y,f.callback),c(["xAxis","yAxis"],function(e){c(f[e],function(n,i){var r=o[e][i],a=n.getExtremes(),s=a.userMin,l=a.userMax;if(r&&(s!==t||l!==t))r.setExtremes(s,l,!0,!1)})}),r=o.container.innerHTML,y=null,o.destroy(),s(i),r=r.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()}),r=r.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(t,n){t=t||{};var o=this,i=o.options.exporting,r=o.getSVG(p({chart:{borderRadius:0}},i.chartOptions,n,{exporting:{sourceWidth:t.sourceWidth||i.sourceWidth,sourceHeight:t.sourceHeight||i.sourceHeight}}));t=p(o.options.exporting,t),e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r})},print:function(){var e=this,t=e.container,n=[],o=t.parentNode,i=m.body,r=i.childNodes;if(!e.isPrinting)e.isPrinting=!0,c(r,function(e,t){if(1===e.nodeType)n[t]=e.style.display,e.style.display=w}),i.appendChild(t),g.focus(),g.print(),setTimeout(function(){o.appendChild(t),c(r,function(e,t){if(1===e.nodeType)e.style.display=n[t]}),e.isPrinting=!1},1e3)},contextMenu:function(e,t,n,o,r,s,p){var u,m,g,x,f=this,y=f.options.navigation,v=y.menuItemStyle,S=f.chartWidth,C=f.chartHeight,F="cache-"+e,G=f[F],M=d(r,s),D="3px 3px 10px #888";if(!G)f[F]=G=a(b,{className:e},{position:k,zIndex:1e3,padding:M+E},f.container),u=a(b,null,h({MozBoxShadow:D,WebkitBoxShadow:D,boxShadow:D},y.menuStyle),G),m=function(){if(l(G,{display:w}),p)p.setState(0);f.openMenu=!1},i(G,"mouseleave",function(){g=setTimeout(m,500)}),i(G,"mouseenter",function(){clearTimeout(g)}),i(document,"mousedown",function(t){if(!f.pointer.inClass(t.target,e))m()}),c(t,function(e){if(e){var t=e.separator?a("hr",null,null,u):a(b,{onmouseover:function(){l(this,y.menuItemHoverStyle)},onmouseout:function(){l(this,v)},onclick:function(){m(),e.onclick.apply(f,arguments)},innerHTML:e.text||f.options.lang[e.textKey]},h({cursor:"pointer"},v),u);f.exportDivElements.push(t)}}),f.exportDivElements.push(u,G),f.exportMenuWidth=G.offsetWidth,f.exportMenuHeight=G.offsetHeight;if(x={display:"block"},n+f.exportMenuWidth>S)x.right=S-n-r-M+E;else x.left=n-M+E;if(o+s+f.exportMenuHeight>C&&"top"!==p.alignOptions.verticalAlign)x.bottom=C-o-M+E;else x.top=o+s-M+E;l(G,x),f.openMenu=!0},addButton:function(t){var o,i,r=this,a=r.renderer,s=p(r.options.navigation.buttonOptions,t),l=s.onclick,c=s.menuItems,u={stroke:s.symbolStroke,fill:s.symbolFill},d=s.symbolSize||12;if(!r.btnCount)r.btnCount=0;if(!r.exportDivElements)r.exportDivElements=[],r.exportSVGElements=[];if(s.enabled!==!1){var m,g=s.theme,x=g.states,f=x&&x.hover,y=x&&x.select;if(delete g.states,l)m=function(){l.apply(r,arguments)};else if(c)m=function(){r.contextMenu(i.menuClassName,c,i.translateX,i.translateY,i.width,i.height,i),i.setState(2)};if(s.text&&s.symbol)g.paddingLeft=e.pick(g.paddingLeft,25);else if(!s.text)h(g,{width:s.width,height:s.height,padding:0});if(i=a.button(s.text,0,0,m,g,f,y).attr({title:r.options.lang[s._titleKey],"stroke-linecap":"round"}),i.menuClassName=t.menuClassName||S+"menu-"+r.btnCount++,s.symbol)o=a.symbol(s.symbol,s.symbolX-d/2,s.symbolY-d/2,d,d).attr(h(u,{"stroke-width":s.symbolStrokeWidth||1,zIndex:1})).add(i);i.add().align(h(s,{width:i.width,x:e.pick(s.x,n)}),!0,"spacingBox"),n+=(i.width+s.buttonSpacing)*("right"===s.align?-1:1),r.exportSVGElements.push(i,o)}},destroyExport:function(e){var t,n,o=e.target;for(t=0;t<o.exportSVGElements.length;t++)if(n=o.exportSVGElements[t])n.onclick=n.ontouchstart=null,o.exportSVGElements[t]=n.destroy();for(t=0;t<o.exportDivElements.length;t++)n=o.exportDivElements[t],r(n,"mouseleave"),o.exportDivElements[t]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,s(n)}}),C.menu=function(e,t,n,o){var i=[f,e,t+2.5,y,e+n,t+2.5,f,e,t+o/2+.5,y,e+n,t+o/2+.5,f,e,t+o-1.5,y,e+n,t+o-1.5];return i},o.prototype.callbacks.push(function(e){var t,o=e.options.exporting,r=o.buttons;if(n=0,o.enabled!==!1){for(t in r)e.addButton(r[t]);i(e,"destroy",e.destroyExport)}})}(Highcharts);