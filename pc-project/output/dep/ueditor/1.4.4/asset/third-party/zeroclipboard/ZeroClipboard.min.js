!function(e){"use strict";var t,n={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},a={},r=null,i=0,o={},l=0,s={},c=function(){var e,t,n,a,r="ZeroClipboard.swf";if(!document.currentScript||!(a=document.currentScript.src)){var i=document.getElementsByTagName("script");if("readyState"in i[0])for(e=i.length;e--&&("interactive"!==i[e].readyState||!(a=i[e].src)););else if("loading"===document.readyState)a=i[i.length-1].src;else{for(e=i.length;e--;){if(n=i[e].src,!n){t=null;break}if(n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1),null==t)t=n;else if(t!==n){t=null;break}}null!==t&&(a=t)}}return a&&(a=a.split("#")[0].split("?")[0],r=a.slice(0,a.lastIndexOf("/")+1)+r),r}(),u=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),d=function(t,n){var a,r,i;return e.getComputedStyle?a=e.getComputedStyle(t,null).getPropertyValue(n):(r=u(n),a=t.currentStyle?t.currentStyle[r]:t.style[r]),"cursor"!==n||a&&"auto"!==a||(i=t.tagName.toLowerCase(),"a"!==i)?a:"pointer"},f=function(t){t||(t=e.event);var n;this!==e?n=this:t.target?n=t.target:t.srcElement&&(n=t.srcElement),B.activate(n)},p=function(e,t,n){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},h=function(e,t,n){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))},v=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var a=" "+e.className+" ",r=e.className,i=0,o=n.length;o>i;i++)a.indexOf(" "+n[i]+" ")<0&&(r+=" "+n[i]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},y=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var a=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=n.length;i>r;r++)a=a.replace(" "+n[r]+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},g=function(){var e,t,n,a=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,a=Math.round(t/n*100)/100),a},m=function(t,n){var a={left:0,top:0,width:0,height:0,zIndex:T(n)-1};if(t.getBoundingClientRect){var r,i,o,l=t.getBoundingClientRect();"pageXOffset"in e&&"pageYOffset"in e?(r=e.pageXOffset,i=e.pageYOffset):(o=g(),r=Math.round(document.documentElement.scrollLeft/o),i=Math.round(document.documentElement.scrollTop/o));var s=document.documentElement.clientLeft||0,c=document.documentElement.clientTop||0;a.left=l.left+r-s,a.top=l.top+i-c,a.width="width"in l?l.width:l.right-l.left,a.height="height"in l?l.height:l.bottom-l.top}return a},b=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},w=function(t){var n,a,r,i,o="",l=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?i=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(i=t.trustedDomains)),i&&i.length)for(n=0,a=i.length;a>n;n++)if(i.hasOwnProperty(n)&&i[n]&&"string"==typeof i[n]){if(r=z(i[n]),!r)continue;if("*"===r){l=[r];break}l.push.apply(l,[r,"//"+r,e.location.protocol+"//"+r])}return l.length&&(o+="trustedOrigins="+encodeURIComponent(l.join(","))),t.forceEnhancedClipboard===!0&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),o},x=function(e,t,n){if("function"==typeof t.indexOf)return t.indexOf(e,n);var a,r=t.length;for("undefined"==typeof n?n=0:0>n&&(n=r+n),a=n;r>a;a++)if(t.hasOwnProperty(a)&&t[a]===e)return a;return-1},C=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return"number"!=typeof e.length?[e]:e},O=function(t,n,a,r){r?e.setTimeout(function(){t.apply(n,a)},0):t.apply(n,a)},T=function(e){var t,n;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(n=parseInt(e,10))&&!isNaN(n)&&n>0&&(t=n)),t||("number"==typeof $.zIndex&&$.zIndex>0?t=$.zIndex:"string"==typeof $.zIndex&&(n=parseInt($.zIndex,10))&&!isNaN(n)&&n>0&&(t=n)),t||0},D=function(){var e,t,n,a,r,i,o=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(n=arguments[e]))for(a in n)if(n.hasOwnProperty(a)){if(r=o[a],i=n[a],o===i)continue;void 0!==i&&(o[a]=i)}return o},z=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},k=function(){var e=function(e,t){var n,a,r;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"number"==typeof e.length))for(n=0,a=e.length;a>n;n++)if(e.hasOwnProperty(n)&&(r=z(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===x(r,t)&&t.push(r)}};return function(t,n){var a=z(n.swfPath);null===a&&(a=t);var r=[];e(n.trustedOrigins,r),e(n.trustedDomains,r);var i=r.length;if(i>0){if(1===i&&"*"===r[0])return"always";if(-1!==x(t,r))return 1===i&&t===a?"sameDomain":"always"}return"never"}}(),N=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},E=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},I=function(){try{return document.activeElement}catch(e){}return null},P=function(e,t){for(var n={},a=0,r=t.length;r>a;a++)t[a]in e&&(n[t[a]]=e[t[a]]);return n},j=function(e,t){var n={};for(var a in e)-1===x(a,t)&&(n[a]=e[a]);return n},L=function(e){var t={},n={};if("object"==typeof e&&e){for(var a in e)if(a&&e.hasOwnProperty(a)&&"string"==typeof e[a]&&e[a])switch(a.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[a],n.text=a;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[a],n.html=a;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[a],n.rtf=a}return{data:t,formatMap:n}}},S=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var a in e)if(e.hasOwnProperty(a)){if("success"!==a&&"data"!==a){n[a]=e[a];continue}n[a]={};var r=e[a];for(var i in r)i&&r.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(n[a][t[i]]=r[i])}return n},A=function(e){return function(t){return e.call(t,0)}}(e.Array.prototype.slice),F=function(){function e(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function t(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function a(n){n&&(l=!0,n.version&&(u=e(n.version)),!u&&n.description&&(u=e(n.description)),n.filename&&(c=t(n.filename)))}var r,i,o,l=!1,s=!1,c=!1,u="";if(navigator.plugins&&navigator.plugins.length)r=navigator.plugins["Shockwave Flash"],a(r),navigator.plugins["Shockwave Flash 2.0"]&&(l=!0,u="2.0.0.11");else if(navigator.mimeTypes&&navigator.mimeTypes.length)o=navigator.mimeTypes["application/x-shockwave-flash"],r=o&&o.enabledPlugin,a(r);else if("undefined"!=typeof ActiveXObject){s=!0;try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),l=!0,u=e(i.GetVariable("$version"))}catch(d){try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),l=!0,u="6.0.21"}catch(f){try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),l=!0,u=e(i.GetVariable("$version"))}catch(p){s=!1}}}}n.disabled=l!==!0,n.outdated=u&&parseFloat(u)<11,n.version=u||"0.0.0",n.pluginType=c?"pepper":s?"activex":l?"netscape":"unknown"};F();var B=function(e){if(!(this instanceof B))return new B(e);if(this.id=""+i++,o[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),"boolean"!=typeof n.ready&&(n.ready=!1),!B.isFlashUnusable()&&null===n.bridge){var t=this,a=$.flashLoadTimeout;"number"==typeof a&&a>=0&&setTimeout(function(){"boolean"!=typeof n.deactivated&&(n.deactivated=!0),n.deactivated===!0&&B.emit({type:"error",name:"flash-deactivated",client:t})},a),n.overdue=!1,R()}};B.prototype.setText=function(e){return B.setData("text/plain",e),this},B.prototype.setHtml=function(e){return B.setData("text/html",e),this},B.prototype.setRichText=function(e){return B.setData("application/rtf",e),this},B.prototype.setData=function(){return B.setData.apply(B,A(arguments)),this},B.prototype.clearData=function(){return B.clearData.apply(B,A(arguments)),this},B.prototype.setSize=function(e,t){return V(e,t),this};var H=function(e){n.ready===!0&&n.bridge&&"function"==typeof n.bridge.setHandCursor?n.bridge.setHandCursor(e):n.ready=!1};B.prototype.destroy=function(){this.unclip(),this.off(),delete o[this.id]};var M=function(){var e,t,n,a=[],r=N(o);for(e=0,t=r.length;t>e;e++)n=o[r[e]].instance,n&&n instanceof B&&a.push(n);return a};B.version="2.0.0-beta.5";var $={swfPath:c,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,forceEnhancedClipboard:!1,zIndex:999999999,debug:!1,title:null,autoActivate:!0,flashLoadTimeout:3e4};B.isFlashUnusable=function(){return!!(n.disabled||n.outdated||n.unavailable||n.deactivated)},B.config=function(e){if("object"==typeof e&&null!==e&&D($,e),"string"!=typeof e||!e){var t={};for(var n in $)$.hasOwnProperty(n)&&(t[n]="object"==typeof $[n]&&null!==$[n]?"length"in $[n]?$[n].slice(0):D({},$[n]):$[n]);return t}if($.hasOwnProperty(e))return $[e];else return void 0},B.destroy=function(){B.deactivate();for(var e in o)if(o.hasOwnProperty(e)&&o[e]){var t=o[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var a=n.bridge;if(a){var r=Z(a);r&&("activex"===n.pluginType&&"readyState"in a?(a.style.display="none",function i(){if(4===a.readyState){for(var e in a)"function"==typeof a[e]&&(a[e]=null);a.parentNode.removeChild(a),r.parentNode&&r.parentNode.removeChild(r)}else setTimeout(i,10)}()):(a.parentNode.removeChild(a),r.parentNode&&r.parentNode.removeChild(r))),n.ready=null,n.bridge=null,n.deactivated=null}B.clearData()},B.activate=function(e){t&&(y(t,$.hoverClass),y(t,$.activeClass)),t=e,v(e,$.hoverClass),U();var a=$.title||e.getAttribute("title");if(a){var r=Z(n.bridge);r&&r.setAttribute("title",a)}var i=$.forceHandCursor===!0||"pointer"===d(e,"cursor");H(i)},B.deactivate=function(){var e=Z(n.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",V(1,1)),t&&(y(t,$.hoverClass),y(t,$.activeClass),t=null)},B.state=function(){return{browser:P(e.navigator,["userAgent","platform","appName"]),flash:j(n,["bridge"]),zeroclipboard:{version:B.version,config:B.config()}}},B.setData=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,B.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var r in n)r&&n.hasOwnProperty(r)&&"string"==typeof n[r]&&n[r]&&(a[r]=n[r])},B.clearData=function(e){"undefined"==typeof e?(E(a),r=null):"string"==typeof e&&a.hasOwnProperty(e)&&delete a[e]};var R=function(){var t,a,r=document.getElementById("global-zeroclipboard-html-bridge");if(!r){var i=k(e.location.host,$),o="never"===i?"none":"all",l=w($),s=$.swfPath+b($.swfPath,$);r=X();var c=document.createElement("div");r.appendChild(c),document.body.appendChild(r);var u=document.createElement("div"),d="activex"===n.pluginType;u.innerHTML='<object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" '+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+s+'"')+">"+(d?'<param name="movie" value="'+s+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+o+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+l+'"/></object>',t=u.firstChild,u=null,t.ZeroClipboard=B,r.replaceChild(t,c)}t||(t=document["global-zeroclipboard-flash-bridge"],t&&(a=t.length)&&(t=t[a-1]),t||(t=r.firstChild)),n.bridge=t||null},X=function(){var e=document.createElement("div");return e.id="global-zeroclipboard-html-bridge",e.className="global-zeroclipboard-container",e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+T($.zIndex),e},Z=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},U=function(){if(t){var e=m(t,$.zIndex),a=Z(n.bridge);a&&(a.style.top=e.top+"px",a.style.left=e.left+"px",a.style.width=e.width+"px",a.style.height=e.height+"px",a.style.zIndex=e.zIndex+1),V(e.width,e.height)}},V=function(e,t){var a=Z(n.bridge);a&&(a.style.width=e+"px",a.style.height=t+"px")};B.emit=function(t){var i,o,l,s,c,u,d,f,p;if("string"==typeof t&&t&&(i=t),"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(i=t.type,o=t),i){if(t=Y(i,o),W(t),"ready"===t.type&&n.overdue===!0)return B.emit({type:"error",name:"flash-overdue"});if(l=!/^(before)?copy$/.test(t.type),t.client)G.call(t.client,t,l);else for(s=t.target&&t.target!==e&&$.autoActivate===!0?_(t.target):M(),c=0,u=s.length;u>c;c++)d=D({},t,{client:s[c]}),G.call(s[c],d,l);return"copy"===t.type&&(p=L(a),f=p.data,r=p.formatMap),f}};var G=function(t,n){var a=o[this.id]&&o[this.id].handlers[t.type];if(a&&a.length){var r,i,l,s,c=this;for(r=0,i=a.length;i>r;r++)l=a[r],s=c,"string"==typeof l&&"function"==typeof e[l]&&(l=e[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(s=l,l=l.handleEvent),"function"==typeof l&&O(l,s,[t],n)}return this},J={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},Y=function(e,a){if(e||a&&a.type){a=a||{},e=(e||a.type).toLowerCase(),D(a,{type:e,target:a.target||t||null,relatedTarget:a.relatedTarget||null,currentTarget:n&&n.bridge||null});var i=J[a.type];return"error"===a.type&&a.name&&i&&(i=i[a.name]),i&&(a.message=i),"ready"===a.type&&D(a,{target:null,version:n.version}),"error"===a.type&&(a.target=null,/^flash-(outdated|unavailable|deactivated|overdue)$/.test(a.name)&&D(a,{version:n.version,minimumVersion:"11.0.0"})),"copy"===a.type&&(a.clipboardData={setData:B.setData,clearData:B.clearData}),"aftercopy"===a.type&&(a=S(a,r)),a.target&&!a.relatedTarget&&(a.relatedTarget=q(a.target)),a}},q=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?document.getElementById(t):null},W=function(e){var r=e.target||t;switch(e.type){case"error":x(e.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"])&&D(n,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var i=n.deactivated===!0;D(n,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:i,ready:!i});break;case"copy":var o,l,s=e.relatedTarget;!a["text/html"]&&!a["text/plain"]&&s&&(l=s.value||s.outerHTML||s.innerHTML)&&(o=s.value||s.textContent||s.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",o),l!==o&&e.clipboardData.setData("text/html",l)):!a["text/plain"]&&e.target&&(o=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",o));break;case"aftercopy":B.clearData(),r&&r!==I()&&r.focus&&r.focus();break;case"mouseover":v(r,$.hoverClass);break;case"mouseout":$.autoActivate===!0&&B.deactivate();break;case"mousedown":v(r,$.activeClass);break;case"mouseup":y(r,$.activeClass)}};B.prototype.on=function(e,t){var a,r,i,l={},s=o[this.id]&&o[this.id].handlers;if("string"==typeof e&&e)i=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)e.hasOwnProperty(a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.on(a,e[a]);if(i&&i.length){for(a=0,r=i.length;r>a;a++)e=i[a].replace(/^on/,""),l[e]=!0,s[e]||(s[e]=[]),s[e].push(t);if(l.ready&&n.ready&&B.emit({type:"ready",client:this}),l.error){var c=["disabled","outdated","unavailable","deactivated","overdue"];for(a=0,r=c.length;r>a;a++)if(n[c[a]]){B.emit({type:"error",name:"flash-"+c[a],client:this});break}}}return this},B.prototype.off=function(e,t){var n,a,r,i,l,s=o[this.id]&&o[this.id].handlers;if(0===arguments.length)i=N(s);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(i&&i.length)for(n=0,a=i.length;a>n;n++)if(e=i[n].toLowerCase().replace(/^on/,""),l=s[e],l&&l.length)if(t)for(r=x(t,l);-1!==r;)l.splice(r,1),r=x(t,l,r);else s[e].length=0;return this},B.prototype.handlers=function(e){var t,n=null,a=o[this.id]&&o[this.id].handlers;if(a){if("string"==typeof e&&e)return a[e]?a[e].slice(0):null;n={};for(t in a)a.hasOwnProperty(t)&&a[t]&&(n[t]=a[t].slice(0))}return n},B.prototype.clip=function(e){e=C(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===x(this.id,s[e[t].zcClippingId])&&s[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+l++,s[e[t].zcClippingId]=[this.id],$.autoActivate===!0&&p(e[t],"mouseover",f));var n=o[this.id].elements;-1===x(e[t],n)&&n.push(e[t])}return this},B.prototype.unclip=function(e){var t=o[this.id];if(!t)return this;var n,a=t.elements;e="undefined"==typeof e?a.slice(0):C(e);for(var r=e.length;r--;)if(e.hasOwnProperty(r)&&e[r]&&1===e[r].nodeType){for(n=0;-1!==(n=x(e[r],a,n));)a.splice(n,1);var i=s[e[r].zcClippingId];if(i){for(n=0;-1!==(n=x(this.id,i,n));)i.splice(n,1);0===i.length&&($.autoActivate===!0&&h(e[r],"mouseover",f),delete e[r].zcClippingId)}}return this},B.prototype.elements=function(){var e=o[this.id];return e&&e.elements?e.elements.slice(0):[]};var _=function(e){var t,n,a,r,i,l=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&s.hasOwnProperty(t)&&(n=s[t],n&&n.length))for(a=0,r=n.length;r>a;a++)i=o[n[a]].instance,i&&i instanceof B&&l.push(i);return l};$.hoverClass="zeroclipboard-is-hover",$.activeClass="zeroclipboard-is-active","function"==typeof define&&define.amd?define(function(){return B}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=B:e.ZeroClipboard=B}(function(){return this}());