!function(e){"use strict";var t,i={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},n={},a=null,r=0,o={},l=0,s={},f=function(){var e,t,i,n,a="ZeroClipboard.swf";if(!document.currentScript||!(n=document.currentScript.src)){var r=document.getElementsByTagName("script");if("readyState"in r[0])for(e=r.length;e--&&("interactive"!==r[e].readyState||!(n=r[e].src)););else if("loading"===document.readyState)n=r[r.length-1].src;else{for(e=r.length;e--;){if(i=r[e].src,!i){t=null;break}if(i=i.split("#")[0].split("?")[0],i=i.slice(0,i.lastIndexOf("/")+1),null==t)t=i;else if(t!==i){t=null;break}}if(null!==t)n=t}}if(n)n=n.split("#")[0].split("?")[0],a=n.slice(0,n.lastIndexOf("/")+1)+a;return a}(),c=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(i){return i.replace(e,t)}}(),u=function(t,i){var n,a,r;if(e.getComputedStyle)n=e.getComputedStyle(t,null).getPropertyValue(i);else if(a=c(i),t.currentStyle)n=t.currentStyle[a];else n=t.style[a];if("cursor"===i)if(!n||"auto"===n)if(r=t.tagName.toLowerCase(),"a"===r)return"pointer";return n},d=function(t){if(!t)t=e.event;var i;if(this!==e)i=this;else if(t.target)i=t.target;else if(t.srcElement)i=t.srcElement;B.activate(i)},p=function(e,t,i){if(e&&1===e.nodeType)if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i)},h=function(e,t,i){if(e&&1===e.nodeType)if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i)},v=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList){if(!e.classList.contains(t))e.classList.add(t);return e}if(t&&"string"==typeof t){var i=(t||"").split(/\s+/);if(1===e.nodeType)if(!e.className)e.className=t;else{for(var n=" "+e.className+" ",a=e.className,r=0,o=i.length;o>r;r++)if(n.indexOf(" "+i[r]+" ")<0)a+=" "+i[r];e.className=a.replace(/^\s+|\s+$/g,"")}}return e},y=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList){if(e.classList.contains(t))e.classList.remove(t);return e}if(t&&"string"==typeof t||void 0===t){var i=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),a=0,r=i.length;r>a;a++)n=n.replace(" "+i[a]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},g=function(){var e,t,i,n=1;if("function"==typeof document.body.getBoundingClientRect)e=document.body.getBoundingClientRect(),t=e.right-e.left,i=document.body.offsetWidth,n=Math.round(t/i*100)/100;return n},m=function(t,i){var n={left:0,top:0,width:0,height:0,zIndex:T(i)-1};if(t.getBoundingClientRect){var a,r,o,l=t.getBoundingClientRect();if("pageXOffset"in e&&"pageYOffset"in e)a=e.pageXOffset,r=e.pageYOffset;else o=g(),a=Math.round(document.documentElement.scrollLeft/o),r=Math.round(document.documentElement.scrollTop/o);var s=document.documentElement.clientLeft||0,f=document.documentElement.clientTop||0;n.left=l.left+a-s,n.top=l.top+r-f,n.width="width"in l?l.width:l.right-l.left,n.height="height"in l?l.height:l.bottom-l.top}return n},b=function(e,t){var i=null==t||t&&t.cacheBust===!0;if(i)return(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime();else return""},w=function(t){var i,n,a,r,o="",l=[];if(t.trustedDomains)if("string"==typeof t.trustedDomains)r=[t.trustedDomains];else if("object"==typeof t.trustedDomains&&"length"in t.trustedDomains)r=t.trustedDomains;if(r&&r.length)for(i=0,n=r.length;n>i;i++)if(r.hasOwnProperty(i)&&r[i]&&"string"==typeof r[i]){if(a=z(r[i]),!a)continue;if("*"===a){l=[a];break}l.push.apply(l,[a,"//"+a,e.location.protocol+"//"+a])}if(l.length)o+="trustedOrigins="+encodeURIComponent(l.join(","));if(t.forceEnhancedClipboard===!0)o+=(o?"&":"")+"forceEnhancedClipboard=true";return o},x=function(e,t,i){if("function"==typeof t.indexOf)return t.indexOf(e,i);var n,a=t.length;if("undefined"==typeof i)i=0;else if(0>i)i=a+i;for(n=i;a>n;n++)if(t.hasOwnProperty(n)&&t[n]===e)return n;return-1},C=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return"number"!=typeof e.length?[e]:e},O=function(t,i,n,a){if(a)e.setTimeout(function(){t.apply(i,n)},0);else t.apply(i,n)},T=function(e){var t,i;if(e)if("number"==typeof e&&e>0)t=e;else if("string"==typeof e&&(i=parseInt(e,10))&&!isNaN(i)&&i>0)t=i;if(!t)if("number"==typeof $.zIndex&&$.zIndex>0)t=$.zIndex;else if("string"==typeof $.zIndex&&(i=parseInt($.zIndex,10))&&!isNaN(i)&&i>0)t=i;return t||0},D=function(){var e,t,i,n,a,r,o=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(i=arguments[e]))for(n in i)if(i.hasOwnProperty(n)){if(a=o[n],r=i[n],o===r)continue;if(void 0!==r)o[n]=r}return o},z=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var i=e.indexOf("/");if(e=-1===i?e:-1===t||0===i?null:e.slice(0,i),e&&".swf"===e.slice(-4).toLowerCase())return null;else return e||null},k=function(){var e=function(e,t){var i,n,a;if(null!=e&&"*"!==t[0]){if("string"==typeof e)e=[e];if("object"==typeof e&&"number"==typeof e.length)for(i=0,n=e.length;n>i;i++)if(e.hasOwnProperty(i)&&(a=z(e[i]))){if("*"===a){t.length=0,t.push("*");break}if(-1===x(a,t))t.push(a)}}};return function(t,i){var n=z(i.swfPath);if(null===n)n=t;var a=[];e(i.trustedOrigins,a),e(i.trustedDomains,a);var r=a.length;if(r>0){if(1===r&&"*"===a[0])return"always";if(-1!==x(t,a))if(1===r&&t===n)return"sameDomain";else return"always"}return"never"}}(),N=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var i in e)if(e.hasOwnProperty(i))t.push(i);return t},E=function(e){if(e)for(var t in e)if(e.hasOwnProperty(t))delete e[t];return e},I=function(){try{return document.activeElement}catch(e){}return null},P=function(e,t){for(var i={},n=0,a=t.length;a>n;n++)if(t[n]in e)i[t[n]]=e[t[n]];return i},j=function(e,t){var i={};for(var n in e)if(-1===x(n,t))i[n]=e[n];return i},L=function(e){var t={},i={};if("object"==typeof e&&e){for(var n in e)if(n&&e.hasOwnProperty(n)&&"string"==typeof e[n]&&e[n])switch(n.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[n],i.text=n;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[n],i.html=n;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[n],i.rtf=n}return{data:t,formatMap:i}}},S=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var i={};for(var n in e)if(e.hasOwnProperty(n)){if("success"!==n&&"data"!==n){i[n]=e[n];continue}i[n]={};var a=e[n];for(var r in a)if(r&&a.hasOwnProperty(r)&&t.hasOwnProperty(r))i[n][t[r]]=a[r]}return i},A=function(e){return function(t){return e.call(t,0)}}(e.Array.prototype.slice),F=function(){function e(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function t(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function n(i){if(i){if(l=!0,i.version)c=e(i.version);if(!c&&i.description)c=e(i.description);if(i.filename)f=t(i.filename)}}var a,r,o,l=!1,s=!1,f=!1,c="";if(navigator.plugins&&navigator.plugins.length){if(a=navigator.plugins["Shockwave Flash"],n(a),navigator.plugins["Shockwave Flash 2.0"])l=!0,c="2.0.0.11"}else if(navigator.mimeTypes&&navigator.mimeTypes.length)o=navigator.mimeTypes["application/x-shockwave-flash"],a=o&&o.enabledPlugin,n(a);else if("undefined"!=typeof ActiveXObject){s=!0;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),l=!0,c=e(r.GetVariable("$version"))}catch(u){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),l=!0,c="6.0.21"}catch(d){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),l=!0,c=e(r.GetVariable("$version"))}catch(p){s=!1}}}}i.disabled=l!==!0,i.outdated=c&&parseFloat(c)<11,i.version=c||"0.0.0",i.pluginType=f?"pepper":s?"activex":l?"netscape":"unknown"};F();var B=function(e){if(!(this instanceof B))return new B(e);if(this.id=""+r++,o[this.id]={instance:this,elements:[],handlers:{}},e)this.clip(e);if("boolean"!=typeof i.ready)i.ready=!1;if(!B.isFlashUnusable()&&null===i.bridge){var t=this,n=$.flashLoadTimeout;if("number"==typeof n&&n>=0)setTimeout(function(){if("boolean"!=typeof i.deactivated)i.deactivated=!0;if(i.deactivated===!0)B.emit({type:"error",name:"flash-deactivated",client:t})},n);i.overdue=!1,R()}};B.prototype.setText=function(e){return B.setData("text/plain",e),this},B.prototype.setHtml=function(e){return B.setData("text/html",e),this},B.prototype.setRichText=function(e){return B.setData("application/rtf",e),this},B.prototype.setData=function(){return B.setData.apply(B,A(arguments)),this},B.prototype.clearData=function(){return B.clearData.apply(B,A(arguments)),this},B.prototype.setSize=function(e,t){return V(e,t),this};var H=function(e){if(i.ready===!0&&i.bridge&&"function"==typeof i.bridge.setHandCursor)i.bridge.setHandCursor(e);else i.ready=!1};B.prototype.destroy=function(){this.unclip(),this.off(),delete o[this.id]};var M=function(){var e,t,i,n=[],a=N(o);for(e=0,t=a.length;t>e;e++)if(i=o[a[e]].instance,i&&i instanceof B)n.push(i);return n};B.version="2.0.0-beta.5";var $={swfPath:f,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,forceEnhancedClipboard:!1,zIndex:999999999,debug:!1,title:null,autoActivate:!0,flashLoadTimeout:3e4};B.isFlashUnusable=function(){return!!(i.disabled||i.outdated||i.unavailable||i.deactivated)},B.config=function(e){if("object"==typeof e&&null!==e)D($,e);if("string"!=typeof e||!e){var t={};for(var i in $)if($.hasOwnProperty(i))if("object"==typeof $[i]&&null!==$[i])if("length"in $[i])t[i]=$[i].slice(0);else t[i]=D({},$[i]);else t[i]=$[i];return t}else if($.hasOwnProperty(e))return $[e]},B.destroy=function(){B.deactivate();for(var e in o)if(o.hasOwnProperty(e)&&o[e]){var t=o[e].instance;if(t&&"function"==typeof t.destroy)t.destroy()}var n=i.bridge;if(n){var a=Z(n);if(a)if("activex"===i.pluginType&&"readyState"in n)n.style.display="none",function r(){if(4===n.readyState){for(var e in n)if("function"==typeof n[e])n[e]=null;if(n.parentNode.removeChild(n),a.parentNode)a.parentNode.removeChild(a)}else setTimeout(r,10)}();else if(n.parentNode.removeChild(n),a.parentNode)a.parentNode.removeChild(a);i.ready=null,i.bridge=null,i.deactivated=null}B.clearData()},B.activate=function(e){if(t)y(t,$.hoverClass),y(t,$.activeClass);t=e,v(e,$.hoverClass),U();var n=$.title||e.getAttribute("title");if(n){var a=Z(i.bridge);if(a)a.setAttribute("title",n)}var r=$.forceHandCursor===!0||"pointer"===u(e,"cursor");H(r)},B.deactivate=function(){var e=Z(i.bridge);if(e)e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",V(1,1);if(t)y(t,$.hoverClass),y(t,$.activeClass),t=null},B.state=function(){return{browser:P(e.navigator,["userAgent","platform","appName"]),flash:j(i,["bridge"]),zeroclipboard:{version:B.version,config:B.config()}}},B.setData=function(e,t){var i;if("object"==typeof e&&e&&"undefined"==typeof t)i=e,B.clearData();else if("string"==typeof e&&e)i={},i[e]=t;else return;for(var a in i)if(a&&i.hasOwnProperty(a)&&"string"==typeof i[a]&&i[a])n[a]=i[a]},B.clearData=function(e){if("undefined"==typeof e)E(n),a=null;else if("string"==typeof e&&n.hasOwnProperty(e))delete n[e]};var R=function(){var t,n,a=document.getElementById("global-zeroclipboard-html-bridge");if(!a){var r=k(e.location.host,$),o="never"===r?"none":"all",l=w($),s=$.swfPath+b($.swfPath,$);a=X();var f=document.createElement("div");a.appendChild(f),document.body.appendChild(a);var c=document.createElement("div"),u="activex"===i.pluginType;c.innerHTML='<object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" '+(u?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+s+'"')+">"+(u?'<param name="movie" value="'+s+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+o+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+l+'"/></object>',t=c.firstChild,c=null,t.ZeroClipboard=B,a.replaceChild(t,f)}if(!t){if(t=document["global-zeroclipboard-flash-bridge"],t&&(n=t.length))t=t[n-1];if(!t)t=a.firstChild}i.bridge=t||null},X=function(){var e=document.createElement("div");return e.id="global-zeroclipboard-html-bridge",e.className="global-zeroclipboard-container",e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+T($.zIndex),e},Z=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},U=function(){if(t){var e=m(t,$.zIndex),n=Z(i.bridge);if(n)n.style.top=e.top+"px",n.style.left=e.left+"px",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.zIndex=e.zIndex+1;V(e.width,e.height)}},V=function(e,t){var n=Z(i.bridge);if(n)n.style.width=e+"px",n.style.height=t+"px"};B.emit=function(t){var r,o,l,s,f,c,u,d,p;if("string"==typeof t&&t)r=t;if("object"==typeof t&&t&&"string"==typeof t.type&&t.type)r=t.type,o=t;if(r){if(t=Y(r,o),W(t),"ready"===t.type&&i.overdue===!0)return B.emit({type:"error",name:"flash-overdue"});if(l=!/^(before)?copy$/.test(t.type),t.client)G.call(t.client,t,l);else for(s=t.target&&t.target!==e&&$.autoActivate===!0?_(t.target):M(),f=0,c=s.length;c>f;f++)u=D({},t,{client:s[f]}),G.call(s[f],u,l);if("copy"===t.type)p=L(n),d=p.data,a=p.formatMap;return d}};var G=function(t,i){var n=o[this.id]&&o[this.id].handlers[t.type];if(n&&n.length){var a,r,l,s,f=this;for(a=0,r=n.length;r>a;a++){if(l=n[a],s=f,"string"==typeof l&&"function"==typeof e[l])l=e[l];if("object"==typeof l&&l&&"function"==typeof l.handleEvent)s=l,l=l.handleEvent;if("function"==typeof l)O(l,s,[t],i)}}return this},J={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},Y=function(e,n){if(e||n&&n.type){n=n||{},e=(e||n.type).toLowerCase(),D(n,{type:e,target:n.target||t||null,relatedTarget:n.relatedTarget||null,currentTarget:i&&i.bridge||null});var r=J[n.type];if("error"===n.type&&n.name&&r)r=r[n.name];if(r)n.message=r;if("ready"===n.type)D(n,{target:null,version:i.version});if("error"===n.type)if(n.target=null,/^flash-(outdated|unavailable|deactivated|overdue)$/.test(n.name))D(n,{version:i.version,minimumVersion:"11.0.0"});if("copy"===n.type)n.clipboardData={setData:B.setData,clearData:B.clearData};if("aftercopy"===n.type)n=S(n,a);if(n.target&&!n.relatedTarget)n.relatedTarget=q(n.target);return n}},q=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?document.getElementById(t):null},W=function(e){var a=e.target||t;switch(e.type){case"error":if(x(e.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"]))D(i,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var r=i.deactivated===!0;D(i,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:r,ready:!r});break;case"copy":var o,l,s=e.relatedTarget;if(!n["text/html"]&&!n["text/plain"]&&s&&(l=s.value||s.outerHTML||s.innerHTML)&&(o=s.value||s.textContent||s.innerText)){if(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",o),l!==o)e.clipboardData.setData("text/html",l)}else if(!n["text/plain"]&&e.target&&(o=e.target.getAttribute("data-clipboard-text")))e.clipboardData.clearData(),e.clipboardData.setData("text/plain",o);break;case"aftercopy":if(B.clearData(),a&&a!==I()&&a.focus)a.focus();break;case"mouseover":v(a,$.hoverClass);break;case"mouseout":if($.autoActivate===!0)B.deactivate();break;case"mousedown":v(a,$.activeClass);break;case"mouseup":y(a,$.activeClass)}};B.prototype.on=function(e,t){var n,a,r,l={},s=o[this.id]&&o[this.id].handlers;if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)if(e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n])this.on(n,e[n]);if(r&&r.length){for(n=0,a=r.length;a>n;n++){if(e=r[n].replace(/^on/,""),l[e]=!0,!s[e])s[e]=[];s[e].push(t)}if(l.ready&&i.ready)B.emit({type:"ready",client:this});if(l.error){var f=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,a=f.length;a>n;n++)if(i[f[n]]){B.emit({type:"error",name:"flash-"+f[n],client:this});break}}}return this},B.prototype.off=function(e,t){var i,n,a,r,l,s=o[this.id]&&o[this.id].handlers;if(0===arguments.length)r=N(s);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(i in e)if(e.hasOwnProperty(i)&&"string"==typeof i&&i&&"function"==typeof e[i])this.off(i,e[i]);if(r&&r.length)for(i=0,n=r.length;n>i;i++)if(e=r[i].toLowerCase().replace(/^on/,""),l=s[e],l&&l.length)if(t)for(a=x(t,l);-1!==a;)l.splice(a,1),a=x(t,l,a);else s[e].length=0;return this},B.prototype.handlers=function(e){var t,i=null,n=o[this.id]&&o[this.id].handlers;if(n){if("string"==typeof e&&e)return n[e]?n[e].slice(0):null;i={};for(t in n)if(n.hasOwnProperty(t)&&n[t])i[t]=n[t].slice(0)}return i},B.prototype.clip=function(e){e=C(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){if(!e[t].zcClippingId){if(e[t].zcClippingId="zcClippingId_"+l++,s[e[t].zcClippingId]=[this.id],$.autoActivate===!0)p(e[t],"mouseover",d)}else if(-1===x(this.id,s[e[t].zcClippingId]))s[e[t].zcClippingId].push(this.id);var i=o[this.id].elements;if(-1===x(e[t],i))i.push(e[t])}return this},B.prototype.unclip=function(e){var t=o[this.id];if(!t)return this;var i,n=t.elements;if("undefined"==typeof e)e=n.slice(0);else e=C(e);for(var a=e.length;a--;)if(e.hasOwnProperty(a)&&e[a]&&1===e[a].nodeType){for(i=0;-1!==(i=x(e[a],n,i));)n.splice(i,1);var r=s[e[a].zcClippingId];if(r){for(i=0;-1!==(i=x(this.id,r,i));)r.splice(i,1);if(0===r.length){if($.autoActivate===!0)h(e[a],"mouseover",d);delete e[a].zcClippingId}}}return this},B.prototype.elements=function(){var e=o[this.id];return e&&e.elements?e.elements.slice(0):[]};var _=function(e){var t,i,n,a,r,l=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&s.hasOwnProperty(t))if(i=s[t],i&&i.length)for(n=0,a=i.length;a>n;n++)if(r=o[i[n]].instance,r&&r instanceof B)l.push(r);return l};if($.hoverClass="zeroclipboard-is-hover",$.activeClass="zeroclipboard-is-active","function"==typeof define&&define.amd)define(function(){return B});else if("object"==typeof module&&module&&"object"==typeof module.exports&&module.exports)module.exports=B;else e.ZeroClipboard=B}(function(){return this}());