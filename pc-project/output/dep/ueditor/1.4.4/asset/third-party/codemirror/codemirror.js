var CodeMirror=function(){function e(o,s){function v(e){return e>=0&&e<$t.size}function k(e){return h($t,e)}function L(e,t){an=!0;for(var n=t-e.height,i=e;i;i=i.parent)i.height+=n}function A(e){var t={line:0,ch:0};le(t,{line:$t.size-1,ch:k($t.size-1).text.length},X(e),t,t),tn=!0}function P(){var e=[];return $t.iter(0,$t.size,function(t){e.push(t.text)}),e.join("\n")}function U(e){function t(e){var n=pt(e,!0);if(n&&!E(n,l)){if(!_t)re();l=n,We(i,n),tn=!1;var r=be();if(n.line>=r.to||n.line<r.from)o=setTimeout(Lt(function(){t(e)}),150)}}Ee(e.shiftKey);for(var n=w(e);n!=Wt;n=n.parentNode)if(n.parentNode==It&&n!=Ot)return;for(var n=w(e);n!=Wt;n=n.parentNode)if(n.parentNode==Pt){if(At.onGutterClick)At.onGutterClick(wn,I(Pt.childNodes,n)+pn,e);return y(e)}var i=pt(e);switch(M(e)){case 3:if(j&&!R)gt(e);return;case 2:if(i)He(i.line,i.ch,!0);return}if(i){if(!_t)re();var r=+new Date;if(Qt&&Qt.time>r-400&&E(Qt.pos,i))return y(e),setTimeout(ke,20),Ke(i.line);else if(Jt&&Jt.time>r-400&&E(Jt.pos,i))return Qt={time:r,pos:i},y(e),Ve(i);else Jt={time:r,pos:i};var o,l=i;if(F&&!E(hn.from,hn.to)&&!W(i,hn.from)&&!W(hn.to,i)){if(Y)Ut.draggable=!0;var f=b(Et,"mouseup",Lt(function(t){if(Y)Ut.draggable=!1;if(en=!1,f(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10)y(t),He(i.line,i.ch,!0),ke()}),!0);return void(en=!0)}y(e),He(i.line,i.ch,!0);var a=b(Et,"mousemove",Lt(function(e){clearTimeout(o),y(e),t(e)}),!0),f=b(Et,"mouseup",Lt(function(e){clearTimeout(o);var t=pt(e);if(t)We(i,t);y(e),ke(),tn=!0,a(),f()}),!0)}else if(w(e)==Ht)y(e)}function _(e){for(var t=w(e);t!=Wt;t=t.parentNode)if(t.parentNode==Pt)return y(e);var n=pt(e);if(n)Qt={time:+new Date,pos:n},y(e),Ve(n)}function J(e){function t(e,t){var i=new FileReader;i.onload=function(){if(o[t]=i.result,++l==r)n=Oe(n),Lt(function(){var e=ce(o.join(""),n,n);We(n,e)})()},i.readAsText(e)}e.preventDefault();var n=pt(e,!0),i=e.dataTransfer.files;if(n&&!At.readOnly)if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),l=0,f=0;r>f;++f)t(i[f],f);else try{var o=e.dataTransfer.getData("Text");if(o){var a=ce(o,n,n),s=hn.from,u=hn.to;if(We(n,a),en)ce("",s,u);ke()}}catch(e){}}function Q(e){var t=pe();D(t),e.dataTransfer.setDragImage(q,0,0),e.dataTransfer.setData("Text",t)}function ee(e){var i,r,o=Z[e.keyCode],l=K[At.keyMap].auto;if(null==o||e.altGraphKey){if(l)At.keyMap=l;return null}if(e.altKey)o="Alt-"+o;if(e.ctrlKey)o="Ctrl-"+o;if(e.metaKey)o="Cmd-"+o;if(e.shiftKey&&(i=t("Shift-"+o,At.extraKeys,At.keyMap)))r=!0;else i=t(o,At.extraKeys,At.keyMap);if("string"==typeof i)if(V.propertyIsEnumerable(i))i=V[i];else i=null;if(l&&(i||!n(e)))At.keyMap=l;if(!i)return!1;if(r){var f=Zt;Zt=null,i(wn),Zt=f}else i(wn);return y(e),!0}function te(e){if(!_t)re();var t=e.keyCode;if(G&&27==t)e.returnValue=!1;if(Ee(16==t||e.shiftKey),!At.onKeyEvent||!At.onKeyEvent(wn,x(e))){var n=ee(e);if(window.opera)if(Mn=n?e.keyCode:null,!n&&(R?e.metaKey:e.ctrlKey)&&88==e.keyCode)he("")}}function ne(e){if(window.opera&&e.keyCode==Mn)return Mn=null,void y(e);if(!At.onKeyEvent||!At.onKeyEvent(wn,x(e)))if(!window.opera||e.which||!ee(e)){if(At.electricChars&&Gt.electricChars){var t=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode);if(Gt.electricChars.indexOf(t)>-1)setTimeout(Lt(function(){je(hn.to.line,"smart")}),75)}ve()}}function ie(e){if(!At.onKeyEvent||!At.onKeyEvent(wn,x(e)))if(16==e.keyCode)Zt=null}function re(){if(!At.readOnly){if(!_t){if(At.onFocus)At.onFocus(wn);if(_t=!0,-1==Wt.className.search(/\bCodeMirror-focused\b/))Wt.className+=" CodeMirror-focused";if(!fn)ye(!0)}ge(),vt()}}function oe(){if(_t){if(At.onBlur)At.onBlur(wn);_t=!1,Wt.className=Wt.className.replace(" CodeMirror-focused","")}clearInterval(jt),setTimeout(function(){if(!_t)Zt=null},150)}function le(e,t,n,i,r){if(kn){var o=[];for($t.iter(e.line,t.line+1,function(e){o.push(e.text)}),kn.addChange(e.line,n.length,o);kn.done.length>At.undoDepth;)kn.done.shift()}ue(e,t,n,i,r)}function fe(e,t){var n=e.pop();if(n){var i=[],r=n.start+n.added;$t.iter(n.start,r,function(e){i.push(e.text)}),t.push({start:n.start,added:n.old.length,old:i});var o=Oe({line:n.start+n.old.length-1,ch:H(i[i.length-1],n.old[n.old.length-1])});ue({line:n.start,ch:0},{line:r-1,ch:k(r-1).text.length},n.old,o,o),tn=!0}}function ae(){fe(kn.done,kn.undone)}function se(){fe(kn.undone,kn.done)}function ue(e,t,n,i,r){function o(e){return e<=Math.min(t.line,t.line+x)?e:e+x}var l=!1,f=xn.length;if(!At.lineWrapping)$t.iter(e.line,t.line,function(e){if(e.text.length==f)return l=!0,!0;else return void 0});if(e.line!=t.line||n.length>1)an=!0;var s=t.line-e.line,u=k(e.line),c=k(t.line);if(0==e.ch&&0==t.ch&&""==n[n.length-1]){var h=[],d=null;if(e.line)d=k(e.line-1),d.fixMarkEnds(c);else c.fixMarkStarts();for(var m=0,p=n.length-1;p>m;++m)h.push(a.inheritMarks(n[m],d));if(s)$t.remove(e.line,s,sn);if(h.length)$t.insert(e.line,h)}else if(u==c)if(1==n.length)u.replace(e.ch,t.ch,n[0]);else{c=u.split(t.ch,n[n.length-1]),u.replace(e.ch,null,n[0]),u.fixMarkEnds(c);for(var h=[],m=1,p=n.length-1;p>m;++m)h.push(a.inheritMarks(n[m],u));h.push(c),$t.insert(e.line+1,h)}else if(1==n.length)u.replace(e.ch,null,n[0]),c.replace(null,t.ch,""),u.append(c),$t.remove(e.line+1,s,sn);else{var h=[];u.replace(e.ch,null,n[0]),c.replace(null,t.ch,n[n.length-1]),u.fixMarkEnds(c);for(var m=1,p=n.length-1;p>m;++m)h.push(a.inheritMarks(n[m],u));if(s>1)$t.remove(e.line+1,s-1,sn);$t.insert(e.line+1,h)}if(At.lineWrapping){var g=Ht.clientWidth/ht()-3;$t.iter(e.line,e.line+n.length,function(e){if(!e.hidden){var t=Math.ceil(e.text.length/g)||1;if(t!=e.height)L(e,t)}})}else if($t.iter(e.line,m+n.length,function(e){var t=e.text;if(t.length>f)xn=t,f=t.length,cn=null,l=!1}),l)f=0,xn="",cn=null,$t.iter(0,$t.size,function(e){var t=e.text;if(t.length>f)f=t.length,xn=t});for(var v=[],x=n.length-s-1,m=0,y=Yt.length;y>m;++m){var C=Yt[m];if(C<e.line)v.push(C);else if(C>t.line)v.push(C+x)}var w=e.line+Math.min(n.length,500);Ct(e.line,w),v.push(w),Yt=v,Mt(100),rn.push({from:e.line,to:t.line+1,diff:x});var M={from:e,to:t,text:n};if(on){for(var b=on;b.next;b=b.next);b.next=M}else on=M;Ne(i,r,o(hn.from.line),o(hn.to.line)),It.style.height=$t.height*ct()+2*dt()+"px"}function ce(e,t,n){function i(i){if(W(i,t))return i;if(!W(n,i))return r;var o=i.line+e.length-(n.line-t.line)-1,l=i.ch;if(i.line==n.line)l+=e[e.length-1].length-(n.ch-(n.line==t.line?t.ch:0));return{line:o,ch:l}}if(t=Oe(t),!n)n=t;else n=Oe(n);e=X(e);var r;return de(e,t,n,function(e){return r=e,{from:i(hn.from),to:i(hn.to)}}),r}function he(e,t){de(X(e),hn.from,hn.to,function(e){if("end"==t)return{from:e,to:e};else if("start"==t)return{from:hn.from,to:hn.from};else return{from:hn.from,to:e}})}function de(e,t,n,i){var r=1==e.length?e[0].length+t.ch:e[e.length-1].length,o=i({line:t.line+e.length-1,ch:r});le(t,n,e,o.from,o.to)}function me(e,t){var n=e.line,i=t.line;if(n==i)return k(n).text.slice(e.ch,t.ch);var r=[k(n).text.slice(e.ch)];return $t.iter(n+1,i,function(e){r.push(e.text)}),r.push(k(i).text.slice(0,t.ch)),r.join("\n")}function pe(){return me(hn.from,hn.to)}function ge(){if(!bn)qt.set(At.pollInterval,function(){if(bt(),xe(),_t)ge();St()})}function ve(){function e(){bt();var n=xe();if(!n&&!t)t=!0,qt.set(60,e);else bn=!1,ge();St()}var t=!1;bn=!0,qt.set(20,e)}function xe(){if(fn||!_t||$(Dt))return!1;var e=Dt.value;if(e==Sn)return!1;Zt=null;for(var t=0,n=Math.min(Sn.length,e.length);n>t&&Sn[t]==e[t];)++t;if(t<Sn.length)hn.from={line:hn.from.line,ch:hn.from.ch-(Sn.length-t)};else if(dn&&E(hn.from,hn.to))hn.to={line:hn.to.line,ch:Math.min(k(hn.to.line).text.length,hn.to.ch+(e.length-t))};return he(e.slice(t),"end"),Sn=e,!0}function ye(e){if(!E(hn.from,hn.to))Sn="",Dt.value=pe(),Dt.select();else if(e)Sn=Dt.value=""}function ke(){if(!At.readOnly)Dt.focus()}function Ce(){if(Vt.getBoundingClientRect){var e=Vt.getBoundingClientRect();if(!G||e.top!=e.bottom){var t=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(e.top<0||e.bottom>t)Vt.scrollIntoView()}}}function we(){var e=at(hn.inverted?hn.from:hn.to),t=At.lineWrapping?Math.min(e.x,Ut.offsetWidth):e.x;return Me(t,e.y,t,e.yBot)}function Me(e,t,n,i){var r=mt(),o=dt(),l=ct();t+=o,i+=o,e+=r,n+=r;var f=Ht.clientHeight,a=Ht.scrollTop,s=!1,u=!0;if(a>t)Ht.scrollTop=Math.max(0,t-2*l),s=!0;else if(i>a+f)Ht.scrollTop=i+l-f,s=!0;var c=Ht.clientWidth,h=Ht.scrollLeft,d=At.fixedGutter?Rt.clientWidth:0;if(h+d>e){if(50>e)e=0;Ht.scrollLeft=Math.max(0,e-10-d),s=!0}else if(n>c+h-3)if(Ht.scrollLeft=n+10-c,s=!0,n>It.clientWidth)u=!1;if(s&&At.onScroll)At.onScroll(wn);return u}function be(){var e=ct(),t=Ht.scrollTop-dt(),n=Math.max(0,Math.floor(t/e)),i=Math.ceil((t+Ht.clientHeight)/e);return{from:m($t,n),to:m($t,i)}}function Se(e,t){if(!Ht.clientWidth)return void(pn=gn=mn=0);var n=be();if(!(e!==!0&&0==e.length&&n.from>=pn&&n.to<=gn)){var i=Math.max(n.from-100,0),r=Math.min($t.size,n.to+100);if(i>pn&&20>i-pn)i=pn;if(gn>r&&20>gn-r)r=Math.min($t.size,gn);for(var o=e===!0?[]:Le([{from:pn,to:gn,domStart:0}],e),l=0,f=0;f<o.length;++f){var a=o[f];if(a.from<i)a.domStart+=i-a.from,a.from=i;if(a.to>r)a.to=r;if(a.from>=a.to)o.splice(f--,1);else l+=a.to-a.from}if(l!=r-i){o.sort(function(e,t){return e.domStart-t.domStart});var s=ct(),u=Rt.style.display;Kt.style.display=Rt.style.display="none",Ae(i,r,o),Kt.style.display="";var c=i!=pn||r!=gn||vn!=Ht.clientHeight+s;if(c)vn=Ht.clientHeight+s;if(pn=i,gn=r,mn=p($t,i),Ot.style.top=mn*s+"px",It.style.height=$t.height*s+2*dt()+"px",Kt.childNodes.length!=gn-pn)throw new Error("BAD PATCH! "+JSON.stringify(o)+" size="+(gn-pn)+" nodes="+Kt.childNodes.length);if(At.lineWrapping){cn=Ht.clientWidth;var h=Kt.firstChild;$t.iter(pn,gn,function(e){if(!e.hidden){var t=Math.round(h.offsetHeight/s)||1;if(e.height!=t)L(e,t),an=!0}h=h.nextSibling})}else{if(null==cn)cn=lt(xn);if(cn>Ht.clientWidth)Ut.style.width=cn+"px",It.style.width="",It.style.width=Ht.scrollWidth+"px";else Ut.style.width=It.style.width=""}if(Rt.style.display=u,c||an)ze();if(Te(),!t&&At.onUpdate)At.onUpdate(wn);return!0}}}function Le(e,t){for(var n=0,i=t.length||0;i>n;++n){for(var r=t[n],o=[],l=r.diff||0,f=0,a=e.length;a>f;++f){var s=e[f];if(r.to<=s.from&&r.diff)o.push({from:s.from+l,to:s.to+l,domStart:s.domStart});else if(r.to<=s.from||r.from>=s.to)o.push(s);else{if(r.from>s.from)o.push({from:s.from,to:r.from,domStart:s.domStart});if(r.to<s.to)o.push({from:r.to+l,to:s.to+l,domStart:s.domStart+(r.to-s.from)})}}e=o}return e}function Ae(e,t,n){function i(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}if(!n.length)Kt.innerHTML="";else{for(var r=0,o=Kt.firstChild,l=0;l<n.length;++l){for(var f=n[l];f.domStart>r;)o=i(o),r++;for(var a=0,s=f.to-f.from;s>a;++a)o=o.nextSibling,r++}for(;o;)o=i(o)}var u=n.shift(),o=Kt.firstChild,a=e,c=hn.from.line,h=hn.to.line,d=e>c&&h>=e,m=Et.createElement("div");$t.iter(e,t,function(e){var t=null,i=null;if(d){if(t=0,h==a)d=!1,i=hn.to.ch}else if(c==a)if(h==a)t=hn.from.ch,i=hn.to.ch;else d=!0,t=hn.from.ch;if(u&&u.to==a)u=n.shift();if(!u||u.from>a){if(e.hidden)m.innerHTML="<pre></pre>";else m.innerHTML=e.getHTML(t,i,!0,yn);Kt.insertBefore(m.firstChild,o)}else o=o.nextSibling;++a})}function ze(){if(At.gutter||At.lineNumbers){var e=Ot.offsetHeight,t=Ht.clientHeight;Rt.style.height=(2>e-t?t:e)+"px";var n=[],i=pn;$t.iter(pn,Math.max(gn,pn+1),function(e){if(e.hidden)n.push("<pre></pre>");else{var t=e.gutterMarker,r=At.lineNumbers?i+At.firstLineNumber:null;if(t&&t.text)r=t.text.replace("%N%",null!=r?r:"");else if(null==r)r=" ";n.push(t&&t.style?'<pre class="'+t.style+'">':"<pre>",r);for(var o=1;o<e.height;++o)n.push("<br/>&#160;");n.push("</pre>")}++i}),Rt.style.display="none",Pt.innerHTML=n.join("");for(var r=String($t.size).length,o=Pt.firstChild,l=T(o),f="";l.length+f.length<r;)f+=" ";if(f)o.insertBefore(Et.createTextNode(f),o.firstChild);Rt.style.display="",Ut.style.marginLeft=Rt.offsetWidth+"px",an=!1}}function Te(){var e=hn.inverted?hn.from:hn.to,t=(ct(),at(e,!0)),n=z(Wt),i=z(Kt);if(Nt.style.top=t.y+i.top-n.top+"px",Nt.style.left=t.x+i.left-n.left+"px",E(hn.from,hn.to))Vt.style.top=t.y+"px",Vt.style.left=(At.lineWrapping?Math.min(t.x,Ut.offsetWidth):t.x)+"px",Vt.style.display="";else Vt.style.display="none"}function Ee(e){if(e)Zt=Zt||(hn.inverted?hn.to:hn.from);else Zt=null}function We(e,t){var n=Zt&&Oe(Zt);if(n)if(W(n,e))e=n;else if(W(t,n))t=n;Ne(e,t),nn=!0}function Ne(e,t,n,i){if(Ln=null,null==n)n=hn.from.line,i=hn.to.line;if(!E(hn.from,e)||!E(hn.to,t)){if(W(t,e)){var r=t;t=e,e=r}if(e.line!=n)e=De(e,n,hn.from.ch);if(t.line!=i)t=De(t,i,hn.to.ch);if(E(e,t))hn.inverted=!1;else if(E(e,hn.to))hn.inverted=!1;else if(E(t,hn.from))hn.inverted=!0;if(E(e,t)){if(!E(hn.from,hn.to))rn.push({from:n,to:i+1})}else if(E(hn.from,hn.to))rn.push({from:e.line,to:t.line+1});else{if(!E(e,hn.from))if(e.line<n)rn.push({from:e.line,to:Math.min(t.line,n)+1});else rn.push({from:n,to:Math.min(i,e.line)+1});if(!E(t,hn.to))if(t.line<i)rn.push({from:Math.max(n,e.line),to:i+1});else rn.push({from:Math.max(e.line,i),to:t.line+1})}hn.from=e,hn.to=t,ln=!0}}function De(e,t,n){function i(t){for(var i=e.line+t,r=1==t?$t.size:-1;i!=r;){var o=k(i);if(!o.hidden){var l=e.ch;if(l>n||l>o.text.length)l=o.text.length;return{line:i,ch:l}}i+=t}}var r=k(e.line);if(!r.hidden)return e;if(e.line>=t)return i(1)||i(-1);else return i(-1)||i(1)}function He(e,t,n){var i=Oe({line:e,ch:t||0});(n?We:Ne)(i,i)}function Ie(e){return Math.max(0,Math.min(e,$t.size-1))}function Oe(e){if(e.line<0)return{line:0,ch:0};if(e.line>=$t.size)return{line:$t.size-1,ch:k($t.size-1).text.length};var t=e.ch,n=k(e.line).text.length;if(null==t||t>n)return{line:e.line,ch:n};else if(0>t)return{line:e.line,ch:0};else return e}function Re(e,t){function n(){for(var t=o+e,n=0>e?-1:$t.size;t!=n;t+=e){var i=k(t);if(!i.hidden)return o=t,f=i,!0}}function i(t){if(l==(0>e?0:f.text.length))if(!t&&n())l=0>e?f.text.length:0;else return!1;else l+=e;return!0}var r=hn.inverted?hn.from:hn.to,o=r.line,l=r.ch,f=k(o);if("char"==t)i();else if("column"==t)i(!0);else if("word"==t)for(var a=!1;;){if(0>e)if(!i())break;if(O(f.text.charAt(l)))a=!0;else if(a){if(0>e)e=1,i();break}if(e>0)if(!i())break}return{line:o,ch:l}}function Pe(e,t){var n=0>e?hn.from:hn.to;if(Zt||E(hn.from,hn.to))n=Re(e,t);He(n.line,n.ch,!0)}function Ue(e,t){if(!E(hn.from,hn.to))ce("",hn.from,hn.to);else if(0>e)ce("",Re(e,t),hn.to);else ce("",hn.from,Re(e,t));nn=!0}function Be(e,t){var n=0,i=at(hn.inverted?hn.from:hn.to,!0);if(null!=Ln)i.x=Ln;if("page"==t)n=Ht.clientHeight;else if("line"==t)n=ct();var r=st(i.x,i.y+n*e+2);He(r.line,r.ch,!0),Ln=i.x}function Ve(e){for(var t=k(e.line).text,n=e.ch,i=e.ch;n>0&&O(t.charAt(n-1));)--n;for(;i<t.length&&O(t.charAt(i));)++i;We({line:e.line,ch:n},{line:e.line,ch:i})}function Ke(e){We({line:e,ch:0},{line:e,ch:k(e).text.length})}function Fe(e){if(E(hn.from,hn.to))return je(hn.from.line,e);for(var t=hn.to.line-(hn.to.ch?0:1),n=hn.from.line;t>=n;++n)je(n,e)}function je(e,t){if(!t)t="add";if("smart"==t)if(!Gt.indent)t="prev";else var n=kt(e);var i,r=k(e),o=r.indentation(At.tabSize),l=r.text.match(/^\s*/)[0];if("prev"==t)if(e)i=k(e-1).indentation(At.tabSize);else i=0;else if("smart"==t)i=Gt.indent(n,r.text.slice(l.length),r.text);else if("add"==t)i=o+At.indentUnit;else if("subtract"==t)i=o-At.indentUnit;i=Math.max(0,i);var f=i-o;if(!f){if(hn.from.line!=e&&hn.to.line!=e)return;var a=l}else{var a="",s=0;if(At.indentWithTabs)for(var u=Math.floor(i/At.tabSize);u;--u)s+=At.tabSize,a+="	";for(;i>s;)++s,a+=" "}ce(a,{line:e,ch:0},{line:e,ch:l.length})}function Ge(){Gt=e.getMode(At,At.mode),$t.iter(0,$t.size,function(e){e.stateAfter=null}),Yt=[0],Mt()}function Ye(){var e=At.gutter||At.lineNumbers;if(Rt.style.display=e?"":"none",e)an=!0;else Kt.parentNode.style.marginLeft=0}function _e(){if(At.lineWrapping){Wt.className+=" CodeMirror-wrap";var e=Ht.clientWidth/ht()-3;$t.iter(0,$t.size,function(t){if(!t.hidden){var n=Math.ceil(t.text.length/e)||1;if(1!=n)L(t,n)}}),Ut.style.width=It.style.width=""}else Wt.className=Wt.className.replace(" CodeMirror-wrap",""),cn=null,xn="",$t.iter(0,$t.size,function(e){if(1!=e.height&&!e.hidden)L(e,1);if(e.text.length>xn.length)xn=e.text});rn.push({from:0,to:$t.size})}function qe(){for(var e='<span class="cm-tab">',t=0;t<At.tabSize;++t)e+=" ";return e+"</span>"}function Xe(){yn=qe(),Se(!0)}function $e(){Ht.className=Ht.className.replace(/\s*cm-s-\w+/g,"")+At.theme.replace(/(^|\s)\s*/g," cm-s-")}function Ze(){this.set=[]}function Je(e,t,n){function i(e,t,n,i){k(e).addMark(new l(t,n,i,r.set))}e=Oe(e),t=Oe(t);var r=new Ze;if(e.line==t.line)i(e.line,e.ch,t.ch,n);else{i(e.line,e.ch,null,n);for(var o=e.line+1,f=t.line;f>o;++o)i(o,null,null,n);i(t.line,null,t.ch,n)}return rn.push({from:e.line,to:t.line+1}),r}function Qe(e){e=Oe(e);var t=new f(e.ch);return k(e.line).addMark(t),t}function et(e,t,n){if("number"==typeof e)e=k(Ie(e));return e.gutterMarker={text:t,style:n},an=!0,e}function tt(e){if("number"==typeof e)e=k(Ie(e));e.gutterMarker=null,an=!0}function nt(e,t){var n=e,i=e;if("number"==typeof e)i=k(Ie(e));else n=d(e);if(null==n)return null;if(t(i,n))rn.push({from:n,to:n+1});else return null;return i}function it(e,t){return nt(e,function(e){if(e.className!=t)return e.className=t,!0;else return void 0})}function rt(e,t){return nt(e,function(e,n){if(e.hidden!=t){if(e.hidden=t,L(e,t?0:1),t&&(hn.from.line==n||hn.to.line==n))Ne(De(hn.from,hn.from.line,hn.from.ch),De(hn.to,hn.to.line,hn.to.ch));return an=!0}})}function ot(e){if("number"==typeof e){if(!v(e))return null;var t=e;if(e=k(e),!e)return null}else{var t=d(e);if(null==t)return null}var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className}}function lt(e){return Bt.innerHTML="<pre><span>x</span></pre>",Bt.firstChild.firstChild.firstChild.nodeValue=e,Bt.firstChild.firstChild.offsetWidth||10}function ft(e,t){var n="";if(At.lineWrapping){var i=e.text.indexOf(" ",t+2);n=D(e.text.slice(t+1,0>i?e.text.length:i+(G?5:0)))}Bt.innerHTML="<pre>"+e.getHTML(null,null,!1,yn,t)+'<span id="CodeMirror-temp-'+Wn+'">'+D(e.text.charAt(t)||" ")+"</span>"+n+"</pre>";var r=document.getElementById("CodeMirror-temp-"+Wn),o=r.offsetTop,l=r.offsetLeft;if(G&&t&&0==o&&0==l){var f=document.createElement("span");f.innerHTML="x",r.parentNode.insertBefore(f,r.nextSibling),o=f.offsetTop}return{top:o,left:l}}function at(e,t){var n,i=ct(),r=i*(p($t,e.line)-(t?mn:0));if(0==e.ch)n=0;else{var o=ft(k(e.line),e.ch);if(n=o.left,At.lineWrapping)r+=Math.max(0,o.top)}return{x:n,y:r,yBot:r+i}}function st(e,t){function n(e){var t=ft(f,e);if(s){var n=Math.round(t.top/i);return Math.max(0,t.left+(n-u)*Ht.clientWidth)}return t.left}if(0>t)t=0;var i=ct(),r=ht(),o=mn+Math.floor(t/i),l=m($t,o);if(l>=$t.size)return{line:$t.size-1,ch:k($t.size-1).text.length};var f=k(l),a=f.text,s=At.lineWrapping,u=s?o-p($t,l):0;if(0>=e&&0==u)return{line:l,ch:0};for(var c,h=0,d=0,g=a.length,v=Math.min(g,Math.ceil((e+u*Ht.clientWidth*.9)/r));;){var x=n(v);if(e>=x&&g>v)v=Math.min(g,Math.ceil(1.2*v));else{c=x,g=v;break}}if(e>c)return{line:l,ch:g};if(v=Math.floor(.8*g),x=n(v),e>x)h=v,d=x;for(;;){if(1>=g-h)return{line:l,ch:c-e>e-d?h:g};var y=Math.ceil((h+g)/2),C=n(y);if(C>e)g=y,c=C;else h=y,d=C}}function ut(e){var t=at(e,!0),n=z(Ut);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function ct(){if(null==Tn){Tn="<pre>";for(var e=0;49>e;++e)Tn+="x<br/>";Tn+="x</pre>"}var t=Kt.clientHeight;if(t==zn)return An;else return zn=t,Bt.innerHTML=Tn,An=Bt.firstChild.offsetHeight/50||1,Bt.innerHTML="",An}function ht(){if(Ht.clientWidth==Nn)return En;else return Nn=Ht.clientWidth,En=lt("x")}function dt(){return Ut.offsetTop}function mt(){return Ut.offsetLeft}function pt(e,t){var n,i,r=z(Ht,!0);try{n=e.clientX,i=e.clientY}catch(e){return null}if(!t&&(n-r.left>Ht.clientWidth||i-r.top>Ht.clientHeight))return null;var o=z(Ut,!0);return st(n-o.left,i-o.top)}function gt(e){function t(){var e=X(Dt.value).join("\n");if(e!=r)Lt(he)(e,"end");Nt.style.position="relative",Dt.style.cssText=i,fn=!1,ye(!0),ge()}var n=pt(e);if(n&&!window.opera){if(E(hn.from,hn.to)||W(n,hn.from)||!W(n,hn.to))Lt(He)(n.line,n.ch);var i=Dt.style.cssText;Nt.style.position="absolute",Dt.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",fn=!0;var r=Dt.value=pe();if(ke(),Dt.select(),j){C(e);var o=b(window,"mouseup",function(){o(),setTimeout(t,20)},!0)}else setTimeout(t,50)}}function vt(){clearInterval(jt);var e=!0;Vt.style.visibility="",jt=setInterval(function(){Vt.style.visibility=(e=!e)?"":"hidden"},650)}function xt(e){function t(e,t,n){if(e.text)for(var i,r=e.styles,o=l?0:e.text.length-1,a=l?0:r.length-2,s=l?r.length:-2;a!=s;a+=2*f){var u=r[a];if(null==r[a+1]||r[a+1]==h){for(var c=l?0:u.length-1,p=l?u.length:-1;c!=p;c+=f,o+=f)if(o>=t&&n>o&&m.test(i=u.charAt(c))){var g=Dn[i];if(">"==g.charAt(1)==l)d.push(i);else if(d.pop()!=g.charAt(0))return{pos:o,match:!1};else if(!d.length)return{pos:o,match:!0}}}else o+=f*u.length}}var n=hn.inverted?hn.from:hn.to,i=k(n.line),r=n.ch-1,o=r>=0&&Dn[i.text.charAt(r)]||Dn[i.text.charAt(++r)];if(o){for(var l=(o.charAt(0),">"==o.charAt(1)),f=l?1:-1,a=i.styles,s=r+1,u=0,c=a.length;c>u;u+=2)if((s-=a[u].length)<=0){var h=a[u+1];break}for(var d=[i.text.charAt(r)],m=/[(){}[\]]/,u=n.line,c=l?Math.min(u+100,$t.size):Math.max(-1,u-100);u!=c;u+=f){var i=k(u),p=u==n.line,g=t(i,p&&l?r+1:0,p&&!l?r:i.text.length);if(g)break}if(!g)g={pos:null,match:!1};var h=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",v=Je({line:n.line,ch:r},{line:n.line,ch:r+1},h),x=null!=g.pos&&Je({line:u,ch:g.pos},{line:u,ch:g.pos+1},h),y=Lt(function(){v.clear(),x&&x.clear()});if(e)setTimeout(y,800);else un=y}}function yt(e){for(var t,n,i=e,r=e-40;i>r;--i){if(0==i)return 0;var o=k(i-1);if(o.stateAfter)return i;var l=o.indentation(At.tabSize);if(null==n||t>l)n=i-1,t=l}return n}function kt(e){var t=yt(e),n=t&&k(t-1).stateAfter;if(!n)n=r(Gt);else n=i(Gt,n);if($t.iter(t,e,function(e){e.highlight(Gt,n,At.tabSize),e.stateAfter=i(Gt,n)}),e>t)rn.push({from:t,to:e});if(e<$t.size&&!k(e).stateAfter)Yt.push(e);return n}function Ct(e,t){var n=kt(e);$t.iter(e,t,function(e){e.highlight(Gt,n,At.tabSize),e.stateAfter=i(Gt,n)})}function wt(){for(var e=+new Date+At.workTime,t=Yt.length;Yt.length;){if(!k(pn).stateAfter)var n=pn;else var n=Yt.pop();if(!(n>=$t.size)){var o=yt(n),l=o&&k(o-1).stateAfter;if(l)l=i(Gt,l);else l=r(Gt);var f=0,a=Gt.compareStates,s=!1,u=o,c=!1;if($t.iter(u,$t.size,function(t){var r=t.stateAfter;if(+new Date>e){if(Yt.push(u),Mt(At.workDelay),s)rn.push({from:n,to:u+1});return c=!0}var o=t.highlight(Gt,l,At.tabSize);if(o)s=!0;if(t.stateAfter=i(Gt,l),a){if(r&&a(r,l))return!0}else if(o!==!1||!r)f=0;else if(++f>3&&(!Gt.indent||Gt.indent(r,"")==Gt.indent(l,"")))return!0;++u}),c)return;if(s)rn.push({from:n,to:u+1})}else;}if(t&&At.onHighlightComplete)At.onHighlightComplete(wn)}function Mt(e){if(Yt.length)Xt.set(e,Lt(wt))}function bt(){tn=nn=on=null,rn=[],ln=!1,sn=[]}function St(){var e,t=!1;if(ln)t=!we();if(rn.length)e=Se(rn,!0);else{if(ln)Te();if(an)ze()}if(t)we();if(ln)Ce(),vt();if(_t&&!fn&&(tn===!0||tn!==!1&&ln))ye(nn);if(ln&&At.matchBrackets)setTimeout(Lt(function(){if(un)un(),un=null;if(E(hn.from,hn.to))xt(!1)}),20);var n=on,i=sn;if(ln&&At.onCursorActivity)At.onCursorActivity(wn);if(n&&At.onChange&&wn)At.onChange(wn,n);for(var r=0;r<i.length;++r)i[r](wn);if(e&&At.onUpdate)At.onUpdate(wn)}function Lt(e){return function(){if(!Hn++)bt();try{var t=e.apply(this,arguments)}finally{if(!--Hn)St()}return t}}var At={},zt=e.defaults;for(var Tt in zt)if(zt.hasOwnProperty(Tt))At[Tt]=(s&&s.hasOwnProperty(Tt)?s:zt)[Tt];var Et=At.document,Wt=Et.createElement("div");if(Wt.className="CodeMirror"+(At.lineWrapping?" CodeMirror-wrap":""),Wt.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',o.appendChild)o.appendChild(Wt);else o(Wt);var Nt=Wt.firstChild,Dt=Nt.firstChild,Ht=Wt.lastChild,It=Ht.firstChild,Ot=It.firstChild,Rt=Ot.firstChild,Pt=Rt.firstChild,Ut=Rt.nextSibling.firstChild,Bt=Ut.firstChild,Vt=Bt.nextSibling,Kt=Vt.nextSibling;if($e(),/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent))Dt.style.width="0px";if(!Y)Ut.draggable=!0;if(null!=At.tabindex)Dt.tabIndex=At.tabindex;if(!At.gutter&&!At.lineNumbers)Rt.style.display="none";try{lt("x")}catch(Ft){if(Ft.message.match(/runtime/i))Ft=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)");throw Ft}var jt,Gt,Yt,_t,qt=new S,Xt=new S,$t=new c([new u([new a("")])]);Ge();var Zt,Jt,Qt,en,tn,nn,rn,on,ln,fn,an,sn,un,cn,hn={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},dn=!1,mn=0,pn=0,gn=0,vn=0,xn="",yn=qe();Lt(function(){A(At.value||""),tn=!1})();var kn=new g;if(b(Ht,"mousedown",Lt(U)),b(Ht,"dblclick",Lt(_)),b(Ut,"dragstart",Q),b(Ut,"selectstart",y),!j)b(Ht,"contextmenu",gt);b(Ht,"scroll",function(){if(Se([]),At.fixedGutter)Rt.style.left=Ht.scrollLeft+"px";if(At.onScroll)At.onScroll(wn)}),b(window,"resize",function(){Se(!0)}),b(Dt,"keyup",Lt(ie)),b(Dt,"input",ve),b(Dt,"keydown",Lt(te)),b(Dt,"keypress",Lt(ne)),b(Dt,"focus",re),b(Dt,"blur",oe),b(Ht,"dragenter",C),b(Ht,"dragover",C),b(Ht,"drop",Lt(J)),b(Ht,"paste",function(){ke(),ve()}),b(Dt,"paste",ve),b(Dt,"cut",Lt(function(){he("")}));var Cn;try{Cn=Et.activeElement==Dt}catch(Ft){}if(Cn)setTimeout(re,20);else oe();var wn=Wt.CodeMirror={getValue:P,setValue:Lt(A),getSelection:pe,replaceSelection:Lt(he),focus:function(){ke(),re(),ve()},setOption:function(e,t){var n=At[e];if(At[e]=t,"mode"==e||"indentUnit"==e)Ge();else if("readOnly"==e&&t)oe(),Dt.blur();else if("theme"==e)$e();else if("lineWrapping"==e&&n!=t)Lt(_e)();else if("tabSize"==e)Lt(Xe)();if("lineNumbers"==e||"gutter"==e||"firstLineNumber"==e||"theme"==e)Lt(Ye)()},getOption:function(e){return At[e]},undo:Lt(ae),redo:Lt(se),indentLine:Lt(function(e,t){if(v(e))je(e,null==t?"smart":t?"add":"subtract")}),indentSelection:Lt(Fe),historySize:function(){return{undo:kn.done.length,redo:kn.undone.length}},clearHistory:function(){kn=new g},matchBrackets:Lt(function(){xt(!0)}),getTokenAt:Lt(function(e){return e=Oe(e),k(e.line).getTokenAt(Gt,kt(e.line),e.ch)}),getStateAfter:function(e){return e=Ie(null==e?$t.size-1:e),kt(e+1)},cursorCoords:function(e){if(null==e)e=hn.inverted;return ut(e?hn.from:hn.to)},charCoords:function(e){return ut(Oe(e))},coordsChar:function(e){var t=z(Ut);return st(e.x-t.left,e.y-t.top)},markText:Lt(Je),setBookmark:Qe,setMarker:Lt(et),clearMarker:Lt(tt),setLineClass:Lt(it),hideLine:Lt(function(e){return rt(e,!0)}),showLine:Lt(function(e){return rt(e,!1)}),onDeleteLine:function(e,t){if("number"==typeof e){if(!v(e))return null;e=k(e)}return(e.handlers||(e.handlers=[])).push(t),e},lineInfo:ot,addWidget:function(e,t,n,i,r){e=at(Oe(e));var o=e.yBot,l=e.x;if(t.style.position="absolute",It.appendChild(t),"over"==i)o=e.y;else if("near"==i){var f=Math.max(Ht.offsetHeight,$t.height*ct()),a=Math.max(It.clientWidth,Ut.clientWidth)-mt();if(e.yBot+t.offsetHeight>f&&e.y>t.offsetHeight)o=e.y-t.offsetHeight;if(l+t.offsetWidth>a)l=a-t.offsetWidth}if(t.style.top=o+dt()+"px",t.style.left=t.style.right="","right"==r)l=It.clientWidth-t.offsetWidth,t.style.right="0px";else{if("left"==r)l=0;else if("middle"==r)l=(It.clientWidth-t.offsetWidth)/2;t.style.left=l+mt()+"px"}if(n)Me(l,o,l+t.offsetWidth,o+t.offsetHeight)},lineCount:function(){return $t.size},clipPos:Oe,getCursor:function(e){if(null==e)e=hn.inverted;return N(e?hn.from:hn.to)},somethingSelected:function(){return!E(hn.from,hn.to)},setCursor:Lt(function(e,t,n){if(null==t&&"number"==typeof e.line)He(e.line,e.ch,n);else He(e,t,n)}),setSelection:Lt(function(e,t,n){(n?We:Ne)(Oe(e),Oe(t||e))}),getLine:function(e){if(v(e))return k(e).text;else return void 0},getLineHandle:function(e){if(v(e))return k(e);else return void 0},setLine:Lt(function(e,t){if(v(e))ce(t,{line:e,ch:0},{line:e,ch:k(e).text.length})}),removeLine:Lt(function(e){if(v(e))ce("",{line:e,ch:0},Oe({line:e+1,ch:0}))}),replaceRange:Lt(ce),getRange:function(e,t){return me(Oe(e),Oe(t))},execCommand:function(e){return V[e](wn)},moveH:Lt(Pe),deleteH:Lt(Ue),moveV:Lt(Be),toggleOverwrite:function(){dn=!dn},posFromIndex:function(e){var t,n=0;return $t.iter(0,$t.size,function(i){var r=i.text.length+1;if(r>e)return t=e,!0;else return e-=r,void++n}),Oe({line:n,ch:t})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;return $t.iter(0,e.line,function(e){t+=e.text.length+1}),t},operation:function(e){return Lt(e)()},refresh:function(){Se(!0)},getInputField:function(){return Dt},getWrapperElement:function(){return Wt},getScrollerElement:function(){return Ht},getGutterElement:function(){return Rt}},Mn=null,bn=!1,Sn="",Ln=null;Ze.prototype.clear=Lt(function(){for(var e=1/0,t=-(1/0),n=0,i=this.set.length;i>n;++n){var r=this.set[n],o=r.marked;if(o&&r.parent){var l=d(r);e=Math.min(e,l),t=Math.max(t,l);for(var f=0;f<o.length;++f)if(o[f].set==this.set)o.splice(f--,1)}else;}if(e!=1/0)rn.push({from:e,to:t+1})}),Ze.prototype.find=function(){for(var e,t,n=0,i=this.set.length;i>n;++n)for(var r=this.set[n],o=r.marked,l=0;l<o.length;++l){var f=o[l];if(f.set==this.set)if(null!=f.from||null!=f.to){var a=d(r);if(null!=a){if(null!=f.from)e={line:a,ch:f.from};if(null!=f.to)t={line:a,ch:f.to}}}}return{from:e,to:t}};var An,zn,Tn,En,Wn=Math.floor(16777215*Math.random()).toString(16),Nn=0,Dn={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Hn=0;for(var In in B)if(B.propertyIsEnumerable(In)&&!wn.propertyIsEnumerable(In))wn[In]=B[In];return wn}function t(e,t,n){function i(e,t,n){var r=t[e];if(null!=r)return r;if(null==n)n=t.fallthrough;if(null==n)return t.catchall;if("string"==typeof n)return i(e,K[n]);for(var o=0,l=n.length;l>o;++o)if(r=i(e,K[n[o]]),null!=r)return r;return null}return t?i(e,t,n):i(e,K[n])}function n(e){var t=Z[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function i(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];if(r instanceof Array)r=r.concat([]);n[i]=r}return n}function r(e,t,n){return e.startState?e.startState(t,n):!0}function o(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function l(e,t,n,i){this.from=e,this.to=t,this.style=n,this.set=i}function f(e){this.from=e,this.to=e,this.line=null}function a(e,t){this.styles=t||[e,null],this.text=e,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function s(e,t,n,i){for(var r=0,o=0,l=0;t>o;r+=2){var f=n[r],a=o+f.length;if(0==l){if(a>e)i.push(f.slice(e-o,Math.min(f.length,t-o)),n[r+1]);if(a>=e)l=1}else if(1==l)if(a>t)i.push(f.slice(0,t-o),n[r+1]);else i.push(f,n[r+1]);o=a}}function u(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,i=0;n>t;++t)e[t].parent=this,i+=e[t].height;this.height=i}function c(e){this.children=e;for(var t=0,n=0,i=0,r=e.length;r>i;++i){var o=e[i];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function h(e,t){for(;!e.lines;)for(var n=0;;++n){var i=e.children[n],r=i.chunkSize();if(r>t){e=i;break}t-=r}return e.lines[t]}function d(e){if(null==e.parent)return null;for(var t=e.parent,n=I(t.lines,e),i=t.parent;i;t=i,i=i.parent){var r=0;for(i.children.length;i.children[r]!=t;++r)n+=i.children[r].chunkSize()}return n}function m(e,t){var n=0;e:do{for(var i=0,r=e.children.length;r>i;++i){var o=e.children[i],l=o.height;

if(l>t){e=o;continue e}t-=l,n+=o.chunkSize()}return n}while(!e.lines);for(var i=0,r=e.lines.length;r>i;++i){var f=e.lines[i],a=f.height;if(a>t)break;t-=a}return n+i}function p(e,t){var n=0;e:do{for(var i=0,r=e.children.length;r>i;++i){var o=e.children[i],l=o.chunkSize();if(l>t){e=o;continue e}t-=l,n+=o.height}return n}while(!e.lines);for(var i=0;t>i;++i)n+=e.lines[i].height;return n}function g(){this.time=0,this.done=[],this.undone=[]}function v(){C(this)}function x(e){if(!e.stop)e.stop=v;return e}function y(e){if(e.preventDefault)e.preventDefault();else e.returnValue=!1}function k(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0}function C(e){y(e),k(e)}function w(e){return e.target||e.srcElement}function M(e){if(e.which)return e.which;else if(1&e.button)return 1;else if(2&e.button)return 3;else if(4&e.button)return 2}function b(e,t,n,i){if("function"==typeof e.addEventListener){if(e.addEventListener(t,n,!1),i)return function(){e.removeEventListener(t,n,!1)}}else{var r=function(e){n(e||window.event)};if(e.attachEvent("on"+t,r),i)return function(){e.detachEvent("on"+t,r)}}}function S(){this.id=null}function L(e,t,n){if(null==t)if(t=e.search(/[^\s\u00a0]/),-1==t)t=e.length;for(var i=0,r=0;t>i;++i)if("	"==e.charAt(i))r+=n-r%n;else++r;return r}function A(e){if(e.currentStyle)return e.currentStyle;else return window.getComputedStyle(e,null)}function z(e,t){for(var n=e.ownerDocument.body,i=0,r=0,o=!1,l=e;l;l=l.offsetParent){var f=l.offsetLeft,a=l.offsetTop;if(l==n)i+=Math.abs(f),r+=Math.abs(a);else i+=f,r+=a;if(t&&"fixed"==A(l).position)o=!0}for(var s=t&&!o?null:n,l=e.parentNode;l!=s;l=l.parentNode)if(null!=l.scrollLeft)i-=l.scrollLeft,r-=l.scrollTop;return{left:i,top:r}}function T(e){return e.textContent||e.innerText||e.nodeValue||""}function E(e,t){return e.line==t.line&&e.ch==t.ch}function W(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function N(e){return{line:e.line,ch:e.ch}}function D(e){return q.textContent=e,q.innerHTML}function H(e,t){if(!t)return e?e.length:0;if(!e)return t.length;for(var n=e.length,i=t.length;n>=0&&i>=0&&e.charAt(n)==t.charAt(i);--n,--i);return i+1}function I(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;++n)if(e[n]==t)return n;return-1}function O(e){return/\w/.test(e)||e.toUpperCase()!=e.toLowerCase()}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var R=/Mac/.test(navigator.platform),P=(/Win/.test(navigator.platform),{}),U={};e.defineMode=function(t,n){if(!e.defaults.mode&&"null"!=t)e.defaults.mode=t;P[t]=n},e.defineMIME=function(e,t){U[e]=t},e.getMode=function(t,n){if("string"==typeof n&&U.hasOwnProperty(n))n=U[n];if("string"==typeof n)var i=n,r={};else if(null!=n)var i=n.name,r=n;var o=P[i];if(!o){if(window.console)console.warn("No mode "+i+" found, falling back to plain text.");return e.getMode(t,"text/plain")}return o(t,r||{})},e.listModes=function(){var e=[];for(var t in P)if(P.propertyIsEnumerable(t))e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in U)if(U.propertyIsEnumerable(t))e.push({mime:t,mode:U[t]});return e};var B=e.extensions={};e.defineExtension=function(e,t){B[e]=t};var V=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),i=!E(t,n);if(!i&&e.getLine(t.line).length==t.ch)e.replaceRange("",t,{line:t.line+1,ch:0});else e.replaceRange("",t,i?n:{line:t.line})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,!0)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,!0)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,!0)},goLineStartSmart:function(e){var t=e.getCursor(),n=e.getLine(t.line),i=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=i&&t.ch?0:i,!0)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,!0)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);if(t.ch>0&&t.ch<n.length-1)e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end"),e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}},K=e.keyMap={};K.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},K.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},K.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},K["default"]=R?K.macDefault:K.pcDefault,K.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.fromTextArea=function(t,n){function i(){t.value=f.getValue()}function r(){i(),t.form.submit=l,t.form.submit(),t.form.submit=r}if(!n)n={};if(n.value=t.value,!n.tabindex&&t.tabindex)n.tabindex=t.tabindex;if(t.form){var o=b(t.form,"submit",i,!0);if("function"==typeof t.form.submit){var l=t.form.submit;t.form.submit=r}}t.style.display="none";var f=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return f.save=i,f.getTextArea=function(){return t},f.toTextArea=function(){if(i(),t.parentNode.removeChild(f.getWrapperElement()),t.style.display="",t.form)if(o(),"function"==typeof t.form.submit)t.form.submit=l},f},e.copyState=i,e.startState=r,o.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++);else return void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t;else return void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0;else return void 0},backUp:function(e){this.pos-=e},column:function(){return L(this.string,this.start,this.tabSize)},indentation:function(){return L(this.string,null,this.tabSize)},match:function(e,t,n){function i(e){return n?e.toLowerCase():e}if("string"==typeof e){if(i(this.string).indexOf(i(e),this.pos)==this.pos){if(t!==!1)this.pos+=e.length;return!0}}else{var r=this.string.slice(this.pos).match(e);if(r&&t!==!1)this.pos+=r[0].length;return r}},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=o,l.prototype={attach:function(e){this.set.push(e)},detach:function(e){var t=I(this.set,e);if(t>-1)this.set.splice(t,1)},split:function(e,t){if(this.to<=e&&null!=this.to)return null;var n=this.from<e||null==this.from?null:this.from-e+t,i=null==this.to?null:this.to-e+t;return new l(n,i,this.style,this.set)},dup:function(){return new l(null,null,this.style,this.set)},clipTo:function(e,t,n,i,r){if(null!=this.from&&this.from>=t)this.from=Math.max(i,this.from)+r;if(null!=this.to&&this.to>t)this.to=i<this.to?this.to+r:t;if(e&&i>this.from&&(i<this.to||null==this.to))this.from=null;if(n&&(t<this.to||null==this.to)&&(t>this.from||null==this.from))this.to=null},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(e){return this.set==e.set}},f.prototype={attach:function(e){this.line=e},detach:function(e){if(this.line==e)this.line=null},split:function(e,t){if(e<this.from)return this.from=this.to=this.from-e+t,this;else return void 0},isDead:function(){return this.from>this.to},clipTo:function(e,t,n,i,r){if((e||t<this.from)&&(n||i>this.to))this.from=0,this.to=-1;else if(this.from>t)this.from=this.to=Math.max(i,this.from)+r},sameSet:function(){return!1},find:function(){if(!this.line||!this.line.parent)return null;else return{line:d(this.line),ch:this.from}},clear:function(){if(this.line){var e=I(this.line.marked,this);if(-1!=e)this.line.marked.splice(e,1);this.line=null}}},a.inheritMarks=function(e,t){var n=new a(e),i=t&&t.marked;if(i)for(var r=0;r<i.length;++r)if(null==i[r].to&&i[r].style){var o=n.marked||(n.marked=[]),l=i[r],f=l.dup();o.push(f),f.attach(n)}return n},a.prototype={replace:function(e,t,n){var i=[],r=this.marked,o=null==t?this.text.length:t;if(s(0,e,this.styles,i),n)i.push(n,null);if(s(o,this.text.length,this.styles,i),this.styles=i,this.text=this.text.slice(0,e)+n+this.text.slice(o),this.stateAfter=null,r)for(var l=n.length-(o-e),f=0,a=r[f];f<r.length;++f)if(a.clipTo(null==e,e||0,null==t,o,l),a.isDead())a.detach(this),r.splice(f--,1)},split:function(e,t){var n=[t,null],i=this.marked;s(e,this.text.length,this.styles,n);var r=new a(t+this.text.slice(e),n);if(i)for(var o=0;o<i.length;++o){var l=i[o],f=l.split(e,t.length);if(f){if(!r.marked)r.marked=[];r.marked.push(f),f.attach(r)}}return r},append:function(e){var t=this.text.length,n=e.marked,i=this.marked;if(this.text+=e.text,s(0,e.text.length,e.styles,this.styles),i)for(var r=0;r<i.length;++r)if(null==i[r].to)i[r].to=t;if(n&&n.length){if(!i)this.marked=i=[];e:for(var r=0;r<n.length;++r){var o=n[r];if(!o.from)for(var l=0;l<i.length;++l){var f=i[l];if(f.to==t&&f.sameSet(o)){if(f.to=null==o.to?null:o.to+t,f.isDead())f.detach(this),n.splice(r--,1);continue e}}if(i.push(o),o.attach(this),o.from+=t,null!=o.to)o.to+=t}}},fixMarkEnds:function(e){var t=this.marked,n=e.marked;if(t)for(var i=0;i<t.length;++i){var r=t[i],o=null==r.to;if(o&&n)for(var l=0;l<n.length;++l)if(n[l].sameSet(r)){o=!1;break}if(o)r.to=this.text.length}},fixMarkStarts:function(){var e=this.marked;if(e)for(var t=0;t<e.length;++t)if(null==e[t].from)e[t].from=0},addMark:function(e){if(e.attach(this),null==this.marked)this.marked=[];this.marked.push(e),this.marked.sort(function(e,t){return(e.from||0)-(t.from||0)})},highlight:function(e,t,n){var i,r=new o(this.text,n),l=this.styles,f=0,a=!1,s=l[0];if(""==this.text&&e.blankLine)e.blankLine(t);for(;!r.eol();){var u=e.token(r,t),c=this.text.slice(r.start,r.pos);if(r.start=r.pos,f&&l[f-1]==u)l[f-2]+=c;else if(c){if(!a&&(l[f+1]!=u||f&&l[f-2]!=i))a=!0;l[f++]=c,l[f++]=u,i=s,s=l[f]}if(r.pos>5e3){l[f++]=this.text.slice(r.pos),l[f++]=null;break}}if(l.length!=f)l.length=f,a=!0;if(f&&l[f-2]!=i)a=!0;return a||(l.length<5&&this.text.length<10?null:!1)},getTokenAt:function(e,t,n){for(var i=this.text,r=new o(i);r.pos<n&&!r.eol();){r.start=r.pos;var l=e.token(r,t)}return{start:r.start,end:r.pos,string:r.current(),className:l||null,state:t}},indentation:function(e){return L(this.text,null,e)},getHTML:function(e,t,n,i,r){function o(e,t){if(e){if(a&&G&&" "==e.charAt(0))e=" "+e.slice(1);if(a=!1,t)f.push('<span class="',t,'">',D(e).replace(/\t/g,i),"</span>");else f.push(D(e).replace(/\t/g,i))}}function l(){if(c)k+=1,C=k<c.length?c[k]:null}var f=[],a=!0;if(n)f.push(this.className?'<pre class="'+this.className+'">':"<pre>");var s=this.styles,u=this.text,c=this.marked;if(e==t)e=null;var h=u.length;if(null!=r)h=Math.min(r,h);if(!u&&null==r)o(" ",null!=e&&null==t?"CodeMirror-selected":null);else if(!c&&null==e)for(var d=0,m=0;h>m;d+=2){var p=s[d],g=s[d+1],v=p.length;if(m+v>h)p=p.slice(0,h-m);m+=v,o(p,g&&"cm-"+g)}else{var g,x=0,d=0,y="",k=-1,C=null;for(l();h>x;){var w=h,M="";if(null!=e)if(e>x)w=e;else if(null==t||t>x)if(M=" CodeMirror-selected",null!=t)w=Math.min(w,t);for(;C&&null!=C.to&&C.to<=x;)l();if(C)if(C.from>x)w=Math.min(w,C.from);else if(M+=" "+C.style,null!=C.to)w=Math.min(w,C.to);for(;;){var b=x+y.length,S=g;if(M)S=g?g+M:M;if(o(b>w?y.slice(0,w-x):y,S),b>=w){y=y.slice(w-x),x=w;break}x=b,y=s[d++],g="cm-"+s[d++]}}if(null!=e&&null==t)o(" ","CodeMirror-selected")}if(n)f.push("</pre>");return f.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var e=0,t=this.marked.length;t>e;++e)this.marked[e].detach(this)}},u.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var i=e,r=e+t;r>i;++i){var o=this.lines[i];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var l=0;l<o.handlers.length;++l)n.push(o.handlers[l])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines.splice.apply(this.lines,[e,0].concat(t));for(var i=0,r=t.length;r>i;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},c.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var l=Math.min(t,o-e),f=r.height;if(r.remove(e,l,n),this.height-=f-r.height,o==l)this.children.splice(i--,1),r.parent=null;if(0==(t-=l))break;e=0}else e-=o}if(this.size-t<25){var a=[];this.collapse(a),this.children=[new u(a)]}},collapse:function(e){for(var t=0,n=this.children.length;n>t;++t)this.children[t].collapse(e)},insert:function(e,t){for(var n=0,i=0,r=t.length;r>i;++i)n+=t[i].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],l=o.chunkSize();if(l>=e){if(o.insertHeight(e,t,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var f=o.lines.splice(o.lines.length-25,25),a=new u(f);o.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new c(t);if(!e.parent){var i=new c(e.children);i.parent=e,e.children=[i,n],e=i}else{e.size-=n.size,e.height-=n.height;var r=I(e.parent.children,e);e.parent.children.splice(r+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var i=0,r=this.children.length;r>i;++i){var o=this.children[i],l=o.chunkSize();if(l>e){var f=Math.min(t,l-e);if(o.iterN(e,f,n))return!0;if(0==(t-=f))break;e=0}else e-=l}}},g.prototype={addChange:function(e,t,n){this.undone.length=0;var i=+new Date,r=this.done[this.done.length-1];if(i-this.time>400||!r||r.start>e+t||r.start+r.added<e-r.added+r.old.length)this.done.push({start:e,added:t,old:n});else{var o=0;if(e<r.start){for(var l=r.start-e-1;l>=0;--l)r.old.unshift(n[l]);r.added+=r.start-e,r.start=e}else if(r.start<e)o=e-r.start,t+=o;for(var l=r.added-o,f=n.length;f>l;++l)r.old.push(n[l]);if(r.added<t)r.added=t}this.time=i}},e.e_stop=C,e.e_preventDefault=y,e.e_stopPropagation=k,e.connect=b,S.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var F=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var e=document.createElement("div");return"draggable"in e}(),j=/gecko\/\d{7}/i.test(navigator.userAgent),G=/MSIE \d/.test(navigator.userAgent),Y=/WebKit\//.test(navigator.userAgent),_="\n";if(function(){var e=document.createElement("textarea");if(e.value="foo\nbar",e.value.indexOf("\r")>-1)_="\r\n"}(),null!=document.documentElement.getBoundingClientRect)z=function(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(i){n={top:0,left:0}}if(!t)if(null==window.pageYOffset){var r=document.documentElement||document.body.parentNode;if(null==r.scrollTop)r=document.body;n.top+=r.scrollTop,n.left+=r.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n};var q=document.createElement("pre");if("\na"==D("a"))D=function(e){return q.textContent=e,q.innerHTML.slice(1)};else if("	"!=D("	"))D=function(e){return q.innerHTML="",q.appendChild(document.createTextNode(e)),q.innerHTML};e.htmlEscape=D;var X=3!="\n\nb".split(/\n/).length?function(e){for(var t,n=0,i=[];(t=e.indexOf("\n",n))>-1;)i.push(e.slice(n,"\r"==e.charAt(t-1)?t-1:t)),n=t+1;return i.push(e.slice(n)),i}:function(e){return e.split(/\r?\n/)};e.splitLines=X;var $=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}if(!t||t.parentElement()!=e)return!1;else return 0!=t.compareEndPoints("StartToEnd",t)};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Z={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return e.keyNames=Z,function(){for(var e=0;10>e;e++)Z[e+48]=String(e);for(var e=65;90>=e;e++)Z[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Z[e+111]=Z[e+63235]="F"+e}(),e}();CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)if(e.eat("!"))if(e.eat("["))if(e.match("CDATA["))return n(o("atom","]]>"));else return null;else if(e.match("--"))return n(o("comment","-->"));else if(e.match("DOCTYPE",!0,!0))return e.eatWhile(/[\w\._\-]/),n(l(1));else return null;else if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta";else{x=e.eat("/")?"closeTag":"openTag",e.eatSpace(),v="";for(var f;f=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)v+=f;return t.tokenize=i,"tag"}else if("&"==r)return e.eatWhile(/[^;]/),e.eat(";"),"atom";else return e.eatWhile(/[^&<]/),null}function i(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=n,x=">"==i?"endTag":"selfcloseTag","tag";else if("="==i)return x="equals",null;else if(/[\'\"]/.test(i))return t.tokenize=r(i),t.tokenize(e,t);else return e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word"}function r(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"}}function o(e,t){return function(i,r){for(;!i.eol();){if(i.match(t)){r.tokenize=n;break}i.next()}return e}}function l(e){return function(t,i){for(var r;null!=(r=t.next());)if("<"==r)return i.tokenize=l(e+1),i.tokenize(t,i);else if(">"==r)if(1==e){i.tokenize=n;break}else return i.tokenize=l(e-1),i.tokenize(t,i);return"meta"}}function f(){for(var e=arguments.length-1;e>=0;e--)y.cc.push(arguments[e])}function a(){return f.apply(null,arguments),!0}function s(e,t){var n=w.doNotIndent.hasOwnProperty(e)||y.context&&y.context.noIndent;y.context={prev:y.context,tagName:e,indent:y.indented,startOfLine:t,noIndent:n}}function u(){if(y.context)y.context=y.context.prev}function c(e){if("openTag"==e)return y.tagName=v,a(m,h(y.startOfLine));else if("closeTag"==e){var t=!1;if(y.context)t=y.context.tagName!=v;else t=!0;if(t)k="error";return a(d(t))}return a()}function h(e){return function(t){if("selfcloseTag"==t||"endTag"==t&&w.autoSelfClosers.hasOwnProperty(y.tagName.toLowerCase()))return a();if("endTag"==t)return s(y.tagName,e),a();else return a()}}function d(e){return function(t){if(e)k="error";if("endTag"==t)return u(),a();else return k="error",a(arguments.callee)}}function m(e){if("word"==e)return k="attribute",a(m);if("equals"==e)return a(p,m);if("string"==e)return k="error",a(m);else return f()}function p(e){if("word"==e&&w.allowUnquoted)return k="string",a();if("string"==e)return a(g);else return f()}function g(e){if("string"==e)return a(g);else return f()}var v,x,y,k,C=e.indentUnit,w=t.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},M=t.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){if(e.sol())t.startOfLine=!0,t.indented=e.indentation();if(e.eatSpace())return null;k=x=v=null;var n=t.tokenize(e,t);if(t.type=x,(n||x)&&"comment"!=n)for(y=t;;){var i=t.cc.pop()||c;if(i(x||n))break}return t.startOfLine=!1,k||n},indent:function(e,t,r){var o=e.context;if(e.tokenize!=i&&e.tokenize!=n||o&&o.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(M&&/<!\[CDATA\[/.test(t))return 0;if(o&&/^<\//.test(t))o=o.prev;for(;o&&!o.startOfLine;)o=o.prev;if(o)return o.indent+C;else return 0},compareStates:function(e,t){if(e.indented!=t.indented||e.tokenize!=t.tokenize)return!1;for(var n=e.context,i=t.context;;n=n.prev,i=i.prev){if(!n||!i)return n==i;if(n.tagName!=i.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function i(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==t&&!i)return!1;i=!i&&"\\"==n}return i}function r(e,t,n){return O=e,R=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return n(e,t,l(o));else if(/[\[\]{}\(\),;\:\.]/.test(o))return r(o);else if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");else if(/\d/.test(o))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");else if("/"==o)if(e.eat("*"))return n(e,t,f);else if(e.eat("/"))return e.skipToEnd(),r("comment","comment");else if(t.reAllowed)return i(e,"/"),e.eatWhile(/[gimy]/),r("regexp","string");else return e.eatWhile(V),r("operator",null,e.current());else if("#"==o)return e.skipToEnd(),r("error","error");else if(V.test(o))return e.eatWhile(V),r("operator",null,e.current());else{e.eatWhile(/[\w\$_]/);var a=e.current(),s=B.propertyIsEnumerable(a)&&B[a];return s&&t.kwAllowed?r(s.type,s.style,a):r("variable","variable",a)}}function l(e){return function(t,n){if(!i(t,e))n.tokenize=o;return r("string","string")}}function f(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function a(e,t,n,i,r,o){if(this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i)this.align=i}function s(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function u(e,t,n,i,r){var o=e.cc;if(F.state=e,F.stream=r,F.marked=null,F.cc=o,!e.lexical.hasOwnProperty("align"))e.lexical.align=!0;for(;;){var l=o.length?o.pop():U?k:y;if(l(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();if(F.marked)return F.marked;if("variable"==n&&s(e,i))return"variable-2";else return t}}}function c(){for(var e=arguments.length-1;e>=0;e--)F.cc.push(arguments[e])}function h(){return c.apply(null,arguments),!0}function d(e){var t=F.state;if(t.context){F.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function m(){if(!F.state.context)F.state.localVars=j;F.state.context={prev:F.state.context,vars:F.state.localVars}}function p(){F.state.localVars=F.state.context.vars,F.state.context=F.state.context.prev}function g(e,t){var n=function(){var n=F.state;n.lexical=new a(n.indented,F.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function v(){var e=F.state;if(e.lexical.prev){if(")"==e.lexical.type)e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}function x(e){return function(t){if(t==e)return h();else if(";"==e)return c();else return h(arguments.callee)}}function y(e){if("var"==e)return h(g("vardef"),z,x(";"),v);if("keyword a"==e)return h(g("form"),k,y,v);if("keyword b"==e)return h(g("form"),y,v);if("{"==e)return h(g("}"),A,v);if(";"==e)return h();if("function"==e)return h(H);if("for"==e)return h(g("form"),x("("),g(")"),E,x(")"),v,y,v);if("variable"==e)return h(g("stat"),M);if("switch"==e)return h(g("form"),k,g("}","switch"),x("{"),A,v,v);if("case"==e)return h(k,x(":"));if("default"==e)return h(x(":"));if("catch"==e)return h(g("form"),m,x("("),I,x(")"),y,v,p);else return c(g("stat"),k,x(";"),v)}function k(e){if(K.hasOwnProperty(e))return h(w);if("function"==e)return h(H);if("keyword c"==e)return h(C);if("("==e)return h(g(")"),k,x(")"),v,w);if("operator"==e)return h(k);if("["==e)return h(g("]"),L(k,"]"),v,w);if("{"==e)return h(g("}"),L(S,"}"),v,w);else return h()}function C(e){if(e.match(/[;\}\)\],]/))return c();else return c(k)}function w(e,t){if("operator"==e&&/\+\+|--/.test(t))return h(w);if("operator"==e)return h(k);if(";"!=e){if("("==e)return h(g(")"),L(k,")"),v,w);if("."==e)return h(b,w);if("["==e)return h(g("]"),k,x("]"),v,w);else return void 0}}function M(e){if(":"==e)return h(v,y);else return c(w,x(";"),v)}function b(e){if("variable"==e)return F.marked="property",h();else return void 0}function S(e){if("variable"==e)F.marked="property";if(K.hasOwnProperty(e))return h(x(":"),k);else return void 0}function L(e,t){function n(i){if(","==i)return h(e,n);if(i==t)return h();else return h(x(t))}return function(i){if(i==t)return h();else return c(e,n)}}function A(e){if("}"==e)return h();else return c(y,A)}function z(e,t){if("variable"==e)return d(t),h(T);else return h()}function T(e,t){if("="==t)return h(k,T);if(","==e)return h(z);else return void 0}function E(e){if("var"==e)return h(z,N);if(";"==e)return c(N);if("variable"==e)return h(W);else return c(N)}function W(e,t){if("in"==t)return h(k);else return h(w,N)}function N(e,t){if(";"==e)return h(D);if("in"==t)return h(k);else return h(k,x(";"),D)}function D(e){if(")"!=e)h(k)}function H(e,t){if("variable"==e)return d(t),h(H);if("("==e)return h(g(")"),m,L(I,")"),v,y,p);else return void 0}function I(e,t){if("variable"==e)return d(t),h();else return void 0}var O,R,P=e.indentUnit,U=t.json,B=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"};return{"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o}}(),V=/[+\-*&%=<>!?|]/,K={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},F={state:null,column:null,marked:null,cc:null},j={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(e){return{tokenize:o,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new a((e||0)-P,0,"block",!1),localVars:null,context:null,indented:0}},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=!1;t.indented=e.indentation()}if(e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==O)return n;else return t.reAllowed="operator"==O||"keyword c"==O||O.match(/^[\[{}\(,;:]$/),t.kwAllowed="."!=O,u(t,n,O,R,e)},indent:function(e,t){if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),i=e.lexical,r=i.type,l=n==r;if("vardef"==r)return i.indented+4;else if("form"==r&&"{"==n)return i.indented;else if("stat"==r||"form"==r)return i.indented+P;else if("switch"==i.info&&!l)return i.indented+(/^(?:case|default)\b/.test(t)?P:2*P);else if(i.align)return i.column+(l?0:1);else return i.indented+(l?0:P)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("css",function(e){function t(e,t){return l=t,e}function n(e,n){var l=e.next();if("@"==l)return e.eatWhile(/[\w\\\-]/),t("meta",e.current());else if("/"==l&&e.eat("*"))return n.tokenize=i,i(e,n);else if("<"==l&&e.eat("!"))return n.tokenize=r,r(e,n);else if("="==l)t(null,"compare");else if(("~"==l||"|"==l)&&e.eat("="))return t(null,"compare");else if('"'==l||"'"==l)return n.tokenize=o(l),n.tokenize(e,n);else if("#"==l)return e.eatWhile(/[\w\\\-]/),t("atom","hash");else if("!"==l)return e.match(/^\s*\w*/),t("keyword","important");else if(/\d/.test(l))return e.eatWhile(/[\w.%]/),t("number","unit");else if(/[,.+>*\/]/.test(l))return t(null,"select-op");else if(/[;{}:\[\]]/.test(l))return t(null,l);else return e.eatWhile(/[\w\\\-]/),t("variable","variable")}function i(e,i){for(var r,o=!1;null!=(r=e.next());){if(o&&"/"==r){i.tokenize=n;break}o="*"==r}return t("comment","comment")}function r(e,i){for(var r,o=0;null!=(r=e.next());){if(o>=2&&">"==r){i.tokenize=n;break}o="-"==r?o+1:0}return t("comment","comment")}function o(e){return function(i,r){for(var o,l=!1;null!=(o=i.next())&&(o!=e||l);)l=!l&&"\\"==o;if(!l)r.tokenize=n;return t("string","string")}}var l,f=e.indentUnit;return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t),i=t.stack[t.stack.length-1];if("hash"==l&&"rule"==i)n="atom";else if("variable"==n)if("rule"==i)n="number";else if(!i||"@media{"==i)n="tag";if("rule"==i&&/^[\{\};]$/.test(l))t.stack.pop();if("{"==l)if("@media"==i)t.stack[t.stack.length-1]="@media{";else t.stack.push("{");else if("}"==l)t.stack.pop();else if("@media"==l)t.stack.push("@media");else if("{"==i&&"comment"!=l)t.stack.push("rule");return n},indent:function(e,t){var n=e.stack.length;if(/^\}/.test(t))n-="rule"==e.stack[e.stack.length-1]?2:1;return e.baseIndent+n*f},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",function(e){function t(e,t){var n=o.token(e,t.htmlState);if("tag"==n&&">"==e.current()&&t.htmlState.context)if(/^script$/i.test(t.htmlState.context.tagName))t.token=i,t.localState=l.startState(o.indent(t.htmlState,"")),t.mode="javascript";else if(/^style$/i.test(t.htmlState.context.tagName))t.token=r,t.localState=f.startState(o.indent(t.htmlState,"")),
t.mode="css";return n}function n(e,t,n){var i=e.current(),r=i.search(t);if(r>-1)e.backUp(i.length-r);return n}function i(e,i){if(e.match(/^<\/\s*script\s*>/i,!1))return i.token=t,i.curState=null,i.mode="html",t(e,i);else return n(e,/<\/\s*script\s*>/,l.token(e,i.localState))}function r(e,i){if(e.match(/^<\/\s*style\s*>/i,!1))return i.token=t,i.localState=null,i.mode="html",t(e,i);else return n(e,/<\/\s*style\s*>/,f.token(e,i.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),l=CodeMirror.getMode(e,"javascript"),f=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:t,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==r?f:l,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,n){if(e.token==t||/^\s*<\//.test(n))return o.indent(e.htmlState,n);else if(e.token==i)return l.indent(e.localState,n);else return f.indent(e.localState,n)},compareStates:function(e,t){return o.compareStates(e.htmlState,t.htmlState)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed");