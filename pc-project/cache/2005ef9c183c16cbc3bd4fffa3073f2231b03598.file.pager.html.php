<?php /* Smarty version Smarty-3.1.19, created on 2017-06-26 11:24:40 compiled from "/Users/bjhl/workspace/web-fe/view/common/component/pager.html" */ ?>
<?php /*%%SmartyHeaderCode:37204571057733b9b008f18-60186631%%*/if(!defined('SMARTY_DIR')) exit('no direct access allowed');
$_valid = $_smarty_tpl->decodeProperties(array ( 'file_dependency' => array ( '2005ef9c183c16cbc3bd4fffa3073f2231b03598' => array ( 0 => '/Users/bjhl/workspace/web-fe/view/common/component/pager.html', 1 => 1498182788, 2 => 'file', ), ), 'nocache_hash' => '37204571057733b9b008f18-60186631', 'function' => array ( ), 'version' => 'Smarty-3.1.19', 'unifunc' => 'content_57733b9b0f5999_27808356', 'variables' => array ( 'url' => 0, 'url_parts' => 0, 'search' => 0, 'params' => 0, 'item' => 0, 'search_safe' => 0, 'tokens' => 0, 'key' => 0, 'value' => 0, 'page' => 0, 'page_size' => 0, 'count' => 0, 'show_count' => 0, 'page_count' => 0, 'path' => 0, 'nofollow' => 0, 'start' => 0, 'end' => 0, 'hide_jump' => 0, 'text' => 0, ), 'has_nocache_code' => false,
),false); /*/%%SmartyHeaderCode%%*/?>
<?php if ($_valid && !is_callable('content_57733b9b0f5999_27808356')) {function content_57733b9b0f5999_27808356($_smarty_tpl) {?>
<?php if (!isset($_smarty_tpl->tpl_vars['url']->value)) {?><?php $_smarty_tpl->tpl_vars['url'] = new Smarty_variable($_SERVER['REQUEST_URI'], null, 0);?><?php }?><?php $_smarty_tpl->tpl_vars['url_parts'] = new Smarty_variable(explode('?',$_smarty_tpl->tpl_vars['url']->value), null, 0);?><?php $_smarty_tpl->tpl_vars['path'] = new Smarty_variable($_smarty_tpl->tpl_vars['url_parts']->value[0], null, 0);?><?php $_smarty_tpl->tpl_vars['search'] = new Smarty_variable('?', null, 0);?><?php if (isset($_smarty_tpl->tpl_vars['url_parts']->value[1])) {?><?php $_smarty_tpl->tpl_vars['search'] = new Smarty_variable(($_smarty_tpl->tpl_vars['search']->value).($_smarty_tpl->tpl_vars['url_parts']->value[1]), null, 0);?><?php $_smarty_tpl->tpl_vars['search_safe'] = new Smarty_variable('', null, 0);?><?php $_smarty_tpl->tpl_vars['params'] = new Smarty_variable(explode('&',$_smarty_tpl->tpl_vars['search']->value), null, 0);?><?php $_smarty_tpl->tpl_vars['item'] = new Smarty_Variable; $_smarty_tpl->tpl_vars['item']->_loop = false; $_from = $_smarty_tpl->tpl_vars['params']->value; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array');} $_smarty_tpl->tpl_vars['item']->index=-1;
foreach ($_from as $_smarty_tpl->tpl_vars['item']->key => $_smarty_tpl->tpl_vars['item']->value) {
$_smarty_tpl->tpl_vars['item']->_loop = true; $_smarty_tpl->tpl_vars['item']->index++;
?><?php if ($_smarty_tpl->tpl_vars['item']->index==0&&$_smarty_tpl->tpl_vars['item']->value=='?') {?><?php $_smarty_tpl->tpl_vars['search_safe'] = new Smarty_variable(($_smarty_tpl->tpl_vars['search_safe']->value).('?'), null, 0);?><?php }?><?php $_smarty_tpl->tpl_vars['tokens'] = new Smarty_variable(explode('=',$_smarty_tpl->tpl_vars['item']->value), null, 0);?><?php if ($_smarty_tpl->tpl_vars['tokens']->value[0]!='page'&&$_smarty_tpl->tpl_vars['tokens']->value[0]!='?page'&&isset($_smarty_tpl->tpl_vars['tokens']->value[1])) {?><?php $_smarty_tpl->tpl_vars['key'] = new Smarty_variable(htmlspecialchars($_smarty_tpl->tpl_vars['tokens']->value[0], ENT_QUOTES, 'UTF-8', true), null, 0);?><?php $_smarty_tpl->tpl_vars['value'] = new Smarty_variable(htmlspecialchars($_smarty_tpl->tpl_vars['tokens']->value[1], ENT_QUOTES, 'UTF-8', true), null, 0);?><?php if ($_smarty_tpl->tpl_vars['item']->index==0) {?><?php $_smarty_tpl->tpl_vars['search_safe'] = new Smarty_variable(((($_smarty_tpl->tpl_vars['search_safe']->value).($_smarty_tpl->tpl_vars['key']->value)).('=')).($_smarty_tpl->tpl_vars['value']->value), null, 0);?><?php } else { ?><?php $_smarty_tpl->tpl_vars['search_safe'] = new Smarty_variable((((($_smarty_tpl->tpl_vars['search_safe']->value).('&')).($_smarty_tpl->tpl_vars['key']->value)).('=')).($_smarty_tpl->tpl_vars['value']->value), null, 0);?><?php }?><?php }?><?php } ?><?php $_smarty_tpl->tpl_vars['search'] = new Smarty_variable($_smarty_tpl->tpl_vars['search_safe']->value, null, 0);?><?php if ($_smarty_tpl->tpl_vars['search']->value=='') {?><?php $_smarty_tpl->tpl_vars['search'] = new Smarty_variable('?', null, 0);?><?php } elseif ($_smarty_tpl->tpl_vars['search']->value!=='?') {?><?php $_smarty_tpl->tpl_vars['search'] = new Smarty_variable(($_smarty_tpl->tpl_vars['search']->value).('&'), null, 0);?><?php }?><?php }?><?php if (!isset($_smarty_tpl->tpl_vars['page']->value)) {?><?php $_smarty_tpl->tpl_vars['page'] = new Smarty_variable(1, null, 0);?><?php }?><?php if (!isset($_smarty_tpl->tpl_vars['page_size']->value)||$_smarty_tpl->tpl_vars['page_size']->value==0) {?><?php $_smarty_tpl->tpl_vars['page_size'] = new Smarty_variable(10, null, 0);?><?php }?><?php if (!isset($_smarty_tpl->tpl_vars['count']->value)) {?><?php $_smarty_tpl->tpl_vars['count'] = new Smarty_variable(1, null, 0);?><?php }?><?php $_smarty_tpl->tpl_vars['page_count'] = new Smarty_variable(ceil(($_smarty_tpl->tpl_vars['count']->value/$_smarty_tpl->tpl_vars['page_size']->value)), null, 0);?><?php if (!isset($_smarty_tpl->tpl_vars['show_count']->value)) {?><?php $_smarty_tpl->tpl_vars['show_count'] = new Smarty_variable(4, null, 0);?><?php }?><?php $_smarty_tpl->tpl_vars['replace_src'] = new Smarty_variable(("page=").($_smarty_tpl->tpl_vars['page']->value), null, 0);?><?php if ($_smarty_tpl->tpl_vars['show_count']->value%2==1) {?><?php $_smarty_tpl->tpl_vars['show_count'] = new Smarty_variable($_smarty_tpl->tpl_vars['show_count']->value-1, null, 0);?><?php }?><?php if ($_smarty_tpl->tpl_vars['page_count']->value>1) {?><div class="pager-block"><div class="pager"><?php if ($_smarty_tpl->tpl_vars['page']->value>1) {?><a href="<?php echo $_smarty_tpl->tpl_vars['path']->value;?>
<?php echo $_smarty_tpl->tpl_vars['search']->value;?>
page=<?php echo $_smarty_tpl->tpl_vars['page']->value-1;?>
" data-page="<?php echo $_smarty_tpl->tpl_vars['page']->value-1;?>
" <?php if (isset($_smarty_tpl->tpl_vars['nofollow']->value)) {?>rel="nofollow"<?php }?>><i class="icon icon-chevron-left"></i> 上一页</a><?php }?><?php if ($_smarty_tpl->tpl_vars['page_count']->value<=$_smarty_tpl->tpl_vars['show_count']->value+1) {?><?php $_smarty_tpl->tpl_vars['start'] = new Smarty_variable(1, null, 0);?><?php $_smarty_tpl->tpl_vars['end'] = new Smarty_variable($_smarty_tpl->tpl_vars['page_count']->value, null, 0);?><?php } elseif ($_smarty_tpl->tpl_vars['page_count']->value<=$_smarty_tpl->tpl_vars['page']->value+$_smarty_tpl->tpl_vars['show_count']->value) {?><?php $_smarty_tpl->tpl_vars['end'] = new Smarty_variable($_smarty_tpl->tpl_vars['page_count']->value, null, 0);?><?php $_smarty_tpl->tpl_vars['start'] = new Smarty_variable($_smarty_tpl->tpl_vars['page_count']->value-$_smarty_tpl->tpl_vars['show_count']->value, null, 0);?><?php } elseif ($_smarty_tpl->tpl_vars['page']->value<=($_smarty_tpl->tpl_vars['show_count']->value/2)) {?><?php $_smarty_tpl->tpl_vars['start'] = new Smarty_variable(1, null, 0);?><?php $_smarty_tpl->tpl_vars['end'] = new Smarty_variable(1+$_smarty_tpl->tpl_vars['show_count']->value, null, 0);?><?php } else { ?><?php $_smarty_tpl->tpl_vars['start'] = new Smarty_variable($_smarty_tpl->tpl_vars['page']->value-$_smarty_tpl->tpl_vars['show_count']->value/2, null, 0);?><?php $_smarty_tpl->tpl_vars['end'] = new Smarty_variable($_smarty_tpl->tpl_vars['page']->value+$_smarty_tpl->tpl_vars['show_count']->value/2, null, 0);?><?php }?><?php if ($_smarty_tpl->tpl_vars['start']->value>2) {?><a href="<?php echo $_smarty_tpl->tpl_vars['path']->value;?>
<?php echo $_smarty_tpl->tpl_vars['search']->value;?>
page=1" data-page="1" <?php if (isset($_smarty_tpl->tpl_vars['nofollow']->value)) {?>rel="nofollow"<?php }?>>1</a><b class="ellipsis">...</b><?php }?><?php $_smarty_tpl->tpl_vars['item'] = new Smarty_Variable;$_smarty_tpl->tpl_vars['item']->step = 1;$_smarty_tpl->tpl_vars['item']->total = (int) ceil(($_smarty_tpl->tpl_vars['item']->step > 0 ? $_smarty_tpl->tpl_vars['end']->value+1 - ($_smarty_tpl->tpl_vars['start']->value) : $_smarty_tpl->tpl_vars['start']->value-($_smarty_tpl->tpl_vars['end']->value)+1)/abs($_smarty_tpl->tpl_vars['item']->step));
if ($_smarty_tpl->tpl_vars['item']->total > 0) {
for ($_smarty_tpl->tpl_vars['item']->value = $_smarty_tpl->tpl_vars['start']->value, $_smarty_tpl->tpl_vars['item']->iteration = 1;$_smarty_tpl->tpl_vars['item']->iteration <= $_smarty_tpl->tpl_vars['item']->total;$_smarty_tpl->tpl_vars['item']->value += $_smarty_tpl->tpl_vars['item']->step, $_smarty_tpl->tpl_vars['item']->iteration++) {
$_smarty_tpl->tpl_vars['item']->first = $_smarty_tpl->tpl_vars['item']->iteration == 1;$_smarty_tpl->tpl_vars['item']->last = $_smarty_tpl->tpl_vars['item']->iteration == $_smarty_tpl->tpl_vars['item']->total;?><?php $_smarty_tpl->tpl_vars['replace_to'] = new Smarty_variable(("page=").($_smarty_tpl->tpl_vars['item']->value), null, 0);?><?php if ($_smarty_tpl->tpl_vars['item']->value!=$_smarty_tpl->tpl_vars['page']->value) {?><a href="<?php echo $_smarty_tpl->tpl_vars['path']->value;?>
<?php echo $_smarty_tpl->tpl_vars['search']->value;?>
page=<?php echo $_smarty_tpl->tpl_vars['item']->value;?>
" data-page="<?php echo $_smarty_tpl->tpl_vars['item']->value;?>
" <?php if (isset($_smarty_tpl->tpl_vars['nofollow']->value)) {?>rel="nofollow"<?php }?>><?php echo $_smarty_tpl->tpl_vars['item']->value;?>
</a><?php } else { ?><a class="active" <?php if (isset($_smarty_tpl->tpl_vars['nofollow']->value)) {?>rel="nofollow"<?php }?>><?php echo $_smarty_tpl->tpl_vars['item']->value;?>
</a><?php }?><?php }} ?><?php if ($_smarty_tpl->tpl_vars['end']->value<$_smarty_tpl->tpl_vars['page_count']->value) {?><b class="ellipsis">...</b><a href="<?php echo $_smarty_tpl->tpl_vars['path']->value;?>
<?php echo $_smarty_tpl->tpl_vars['search']->value;?>
page=<?php echo $_smarty_tpl->tpl_vars['page_count']->value;?>
" data-page="<?php echo $_smarty_tpl->tpl_vars['page_count']->value;?>
" <?php if (isset($_smarty_tpl->tpl_vars['nofollow']->value)) {?>rel="nofollow"<?php }?>><?php echo $_smarty_tpl->tpl_vars['page_count']->value;?>
</a><?php }?><?php if ($_smarty_tpl->tpl_vars['page']->value<$_smarty_tpl->tpl_vars['page_count']->value) {?><a href="<?php echo $_smarty_tpl->tpl_vars['path']->value;?>
<?php echo $_smarty_tpl->tpl_vars['search']->value;?>
page=<?php echo $_smarty_tpl->tpl_vars['page']->value+1;?>
" data-page="<?php echo $_smarty_tpl->tpl_vars['page']->value+1;?>
" <?php if (isset($_smarty_tpl->tpl_vars['nofollow']->value)) {?>rel="nofollow"<?php }?>>下一页 <i class="icon icon-chevron-right"></i></a><?php }?></div><?php if (!isset($_smarty_tpl->tpl_vars['hide_jump']->value)||!$_smarty_tpl->tpl_vars['hide_jump']->value) {?><div class="pager-form"><?php if (isset($_smarty_tpl->tpl_vars['text']->value)) {?><b><?php echo $_smarty_tpl->tpl_vars['text']->value;?>
</b><?php } else { ?><b>共 <?php echo $_smarty_tpl->tpl_vars['page_count']->value;?> 页，去第</b><?php }?><input class="form-text small" type="text" onchange="var button = this.nextSibling.nextSibling;var page = this.value;button.href = 'javascript:void(0);';button.removeAttribute('data-page');if (/^\d+$/.test(page) && parseInt(page, 10) >= 1 && parseInt(page, 10) <= <?php echo $_smarty_tpl->tpl_vars['page_count']->value;?>
) {button.href = '<?php echo $_smarty_tpl->tpl_vars['path']->value;?>
<?php echo $_smarty_tpl->tpl_vars['search']->value;?>
page=' + page;button.setAttribute('data-page', page);}else {this.select();}"/><b>页</b><a class="btn-default small">确定</a></div><?php }?></div><?php }?><?php }} ?>