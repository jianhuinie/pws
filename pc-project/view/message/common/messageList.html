{{ *

@file 消息中心 - 1系统消息，2系统通知
@author zhangjiayi

* }}
{{ strip }}
<div class="message-list">
    {{ if count($tpl_data.sys_messages.list) > 0 }}
        <table class="table">
            <thead>
                <tr>
                    <th class="content">内容</th>
                    <th class="time">时间</th>
                    <th class="type">类型</th>
                </tr>
            </thead>
            <tbody>
            {{ foreach $tpl_data.sys_messages.list as $item }}
            <tr>
                <td class="content">
                    {{ if isset($item.ext_info) && $item.ext_info }}
                        <span class="chat-label" data-user-number="{{ $item.ext_info.c_id }}"
                        {{ if $item.ext_info.c_role == 0 }}
                            data-user-type="teacher"
                        {{ else if $item.ext_info.c_role == 6 }}
                            data-user-type="institution"
                        {{ else if $item.ext_info.c_role == 2 }}
                            data-user-type="student"
                        {{ /if }}
                        >
                            {{ $item.msg }}
                        </span>
                    {{ else }}
                        {{ $item.msg }}
                    {{ /if }}
                </td>
                <td class="time">
                    {{ $item.ext_date }}
                </td>
                <td class="type">
                    {{ $item.ext_type }}
                </td>
            </tr>
            {{ /foreach }}
            </tbody>
        </table>
        {{ if !empty($tpl_data.pager) }}
        {{ include file="common/component/pager.html" page=$tpl_data.pager.page page_size=10 count=$tpl_data.pager.count hide_jump=true }}
        {{ /if }}
    {{ else }}
        <div class="no-data">
            <div class="wrapper">
                <i class="icon icon-info-circle"></i>
                暂时没有提醒
            </div>
        </div>
    {{ /if }}
</div>
{{ /strip }}