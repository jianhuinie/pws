{{ extends file="common/pc/base.html" }}

{{ block name="data" }}

    {{ $smarty.block.parent }}
    {{ $flotage_config.hideChatToKF = true }}

    {{ $script_path = "static/register" }}

    {{ *
        一个临时的活动需要复用注册页并增加几个字段
        考虑到以后会下线，就不提取公共组件继承了
        下线后会删除相关代码
        query 参数activity为"art"
     * }}
    {{ if !empty($smarty.get.activity) }}
        {{ $is_art_activity = ($smarty.get.activity == "art") }}
    {{ else }}
        {{ $is_art_activity = false }}
    {{ /if }}
    {{ $script_data = [] }}
    {{ $script_data.isArtActivity = $is_art_activity }}

    {{ if !empty($smarty.get.activity_voice) }}
        {{ $is_force_voice = true }}
    {{ else }}
        {{ $is_force_voice = false }}
    {{ /if }}

    {{ $script_data.isForceVoice = $is_force_voice }}
    {{ $script_data.show_findTeacher = true }}

{{ /block }}

{{ block name="title" }}
注册
{{ /block }}

{{ block name="style" }}
<link rel="stylesheet" href="{{ $static_origin }}/src/css/static/register.less">
{{ /block }}

{{ block name="body" }}

    {{ $smarty.block.parent }}


    {{ if $is_art_activity }}
        {{ $search = '?activity=art&next=/jiangzuo' }}
    {{ else }}
        {{ $search = '' }}
    {{ /if }}

    {{ include file="static/common/header.html" search=$search }}

{{ strip }}

{{ $hide_main_box = 'style="display:none;"' }}
{{ $identity = '' }}

{{ if !isset($tpl_data.user_type) }}
<div id="entrance">
    <div id="entrance-box">
        <a href="/static/register?user_type=2">
            <div class="student-box">
                <span class="btn-default" id="student-entrance">学生注册</span>
                <span>找最适合你的老师</span>
            </div>
        </a>
        <div class="line"></div>
        <a href="/static/register?user_type=0">
            <div class="teacher-box">
                <span class="btn-default" id="teacher-entrance">老师注册</span>
                <span>开始你的教学生涯</span>
            </div>
        </a>
    </div>
</div>
{{ else }}

    {{ $hide_main_box = '' }}

    {{ if $tpl_data.user_type == 0 }}
        {{ $header_title = '老师注册' }}
        {{ $identity = 'teacher' }}
    {{ else if $tpl_data.user_type == 2 }}
        {{ $header_title = '学生注册' }}
        {{ $identity = 'student' }}
    {{ /if }}

{{ /if }}

{{ if $is_art_activity }}
    {{ $header_title = '注册后观看' }}
    {{ $identity = 'student' }}
{{ /if }}

<div id="main" {{ $hide_main_box }}>
    <div id="register-box" data-identity="{{ $identity }}">
        <div id="box-header">
            <h1>{{ $header_title }}</h1>
        </div>
        <div id="box-body">
            <div class="form" id="register-form">
                {{ if $is_art_activity }}
                <div class="form-group city-select">
                    <label class="form-label">
                        <i class="form-required"></i>
                        所属省份城市：
                    </label>
                    <div class="form-controls">
                        {{ include file="common/component/citySelect.html" }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <i class="form-required"></i>
                        学校名称：
                    </label>
                    <div class="form-controls">
                        <input type="text" class="form-text" name="school" required>
                        <span class="error"></span>
                    </div>
                </div>
                {{ /if }}

                <div id="mobile">
                    {{ include file="common/component/mobileInput.html" is_international=!$is_force_voice show_label=true }}
                </div>

                <div id="captcha">
                   {{ include file="common/component/captcha.html" captcha_name="register" }}
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <i class="form-required"></i>
                        短信验证码：
                    </label>
                    <div class="form-controls">
                        <input id="verify-code" class="form-text{{ if $is_force_voice }} voice-code-text{{ else }} sms-code-text{{ /if }}" type="text" name="verifycode" autocomplete="off" pattern="^\d*$">
                        {{ if $is_force_voice }}
                            <button class="btn btn-info btn-verify voice-code-btn" disabled="true">
                                获取语音验证码
                            </button>
                        {{ else }}
                            <button class="btn btn-info btn-verify" id="verifycodebutton" disabled="true">
                                获取验证码
                            </button>
                        {{ /if }}
                        <span class="error" id="verify-code-error"></span>
                    </div>
                </div>
                {{ if !$is_force_voice }}
                <div class="voice-code-link hidden">
                    <span class="btn-link text-info">没有收到验证码？</span>
                </div>
                {{ /if }}
                {{ if !$is_art_activity }}
                <div class="form-group">
                    <label class="form-label">
                        邮箱：
                    </label>
                    <div class="form-controls">
                        <input class="form-text" type="email" name="email" autocomplete="off" />
                        <span class="error"></span>
                    </div>
                </div>
                {{ /if }}
                <div class="form-group">
                    <label class="form-label">
                        <i class="form-required"></i>
                        设置密码：
                    </label>
                    <div class="form-controls">
                        <input class="form-text" type="password" name="password" autocomplete="off" >
                        <div class="form-block">
                            <small class="text-muted">
                                密码长度8~16位，数字、字母、字符至少包含两种
                            </small>
                        </div>
                        <span class="error"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="form-required"></i>
                        确认密码：
                    </label>
                    <div class="form-controls">
                        <input class="form-text" type="password" name="password_confirm" required equals="password" minlength="6" maxlength="20">
                        <span class="error"></span>
                    </div>
                </div>


                <div class="form-group" id="hasinvitecode">

                    {{ if !$is_art_activity }}
                        {{ include file="common/component/checkBox.html" name="" value="" text="邀请码（选填）" }}
                    {{ else }}
                            <button class="btn btn-primary">提交注册</button>
                    {{ /if }}

                    <div class="login">
                        已有账户 , 请
                        {{ if $is_art_activity }}
                        <a class="login-in" href="{{ $origin_https }}/static/login?activity=art&next=/jiangzuo">登录</a>
                        {{ else }}
                        <a class="login-in" href="{{ $origin_https }}/static/login">登录</a>
                        {{ /if }}
                    </div>
                </div>
                <div class="form-group" style="display:none;" id="enterinvitecode">
                    <label class="form-label">
                        输入邀请码：
                    </label>
                    <div class="form-controls">
                        <input class="form-text" type="text" name="invitecode" >
                        <span class="error invite-code-error"></span>
                    </div>
                </div>

                <input type="hidden" name="next" value="" >
                {{ if !$is_art_activity }}
                <div id="box-footer">

                    点击“提交注册”，即表示您已阅读并同意遵守跟谁学

                    <a href="{{ $root_http }}/guide/clause?a=clause" target="_blank">
                        网站条款
                    </a>

                </div>
                <div class="form-action">
                    <button class="btn btn-primary btn-register">提交注册</button>
                </div>
                {{ /if }}
            </div>

            <div class="sns-login">

                <h5>微信扫描二维码快速注册：</h5>

                <ol>
                    <li>扫描</li>
                    <li>关注</li>
                    <li>确认</li>
                    <li>安全注册成功</li>
                </ol>

                <div class="wechat">
                    <div id="wechat-login"></div>
                    <div class="wechat-help"></div>
                    <span class="help">使用帮助</span>
                </div>

                <div class="other-login">

                    <h5>其他合作网站账户注册</h5>

                    <div>
                        <i class="icon icon-qq-circle" data-way="qq"></i>
                        <!--i class="icon icon-alipay-circle" data-way="alipay"></i-->
                        <i class="icon icon-weibo-circle" data-way="sina"></i>
                        <!--i class="icon icon-renren-circle" data-way="renren"></i-->
                        <i class="icon icon-baidu-circle" data-way="baidu"></i>
                    </div>
                </div>
            </div>
        </div>

        </div>
    </div>
</div>


    {{ include file="static/common/footer.html" }}

    {{ include file="common/script.html" }}


{{ /strip }}
{{ /block }}