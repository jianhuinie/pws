<div class="module-content-header">
    班课时间设置
</div>
<div class="module-content-form">
    <div class="teacher-tip-container">
        <span class="icon icon-check-circle"></span>
        <div class="icon icon-info-circle schedule-required-error"></div>
    </div>
    <div class="plan-list-container">

        {{ $schedules = $scheduleInfo.schedules|default:[] }}
        {{ foreach $schedules as $item }}
        <div class="plan-item" data-validate-name="schedule" data-start-time="{{ $item.begin_time }}" data-end-time="{{ $item.end_time }}" data-id="{{ $item.id }}">
            <div class="form-group class-line">
                <label class="form-label"></label>
                <div class="form-controls">
                    <div class="class-plan-index-container">
                        <div><span class="class-plan-index">第{{ $item@index+1 }}节</span></div>
                    </div>
                </div>
            </div>
            <div class="form-group plan-container">
                <label class="form-label">课程时间</label>

                <div class="form-controls">
                    {{ if $item.begin_time != null && $item.end_time != null }}
                    <div class="course-date">
                        {{ $item.begin_time|date_format:"%Y-%m-%d" }}
                    </div>
                    <div class="start-time">
                        {{ $item.begin_time|date_format:"%H:%M" }}
                    </div>
                        至
                    <div class="course-end-date">
                        {{ $item.end_time|date_format:"%Y-%m-%d" }}
                    </div>   
                    <div class="end-time">
                        {{ $item.end_time|date_format:"%H:%M" }}
                    </div>
                    {{ /if }}
                    {{ if $tpl_data.total_pay == 0 || ($tpl_data.total_pay > 0 && $item.begin_time > time()) }}
                        <div class="action delete-class-plan icon icon-delete">删除课节</div>
                        <div class="action edit-class-plan icon icon-edit-o">编辑课节</div>
                    {{ /if }}
                </div>

            </div>
            {{ if isset($item.content) && $item.content != '' }}
            <div class="form-group">
                <label class="form-label">课程内容</label>
                <div class="form-controls">
                    <div class="added-content">{{ $item.content|default:'' }}</div>
                </div>
            </div>
            {{ /if }}
            {{ if $tpl_data.is_organization }}
            <div class="form-group">
                <label class="form-label">授课老师</label>
                <div class="form-controls">
                    <div class="selected-teacher" data-teacher-id="{{ $item.teacher.number }}">{{ $item.teacher.display_name }}</div>
                </div>
            </div>
            {{ /if }}
            {{ if $tpl_data.total_pay != 0 && $item.begin_time < time() }}
            <div class="form-group">
                <div class="input-desc">已过开课时间的课程，暂不支持修改哦</div>
            </div>
            {{ /if }}
        </div>
        {{ /foreach }}

    </div>
    <div class="timelegnth-tip-container">
        <span class="icon icon-check-circle"></span>
        <div class="icon icon-info-circle schedule-required-error"></div>
    </div>
    <div class="form-group">
        <label class="form-label"></label>
        <div class="form-controls margin-top">
            <div class="add-class-course more-class-course">
                <div class="more-class-border">
                    <div class="more-class-border-mask"></div>
                </div>
                <div class="icon icon-list-o"></div>
                <div class="quick-plan">批量添加课节</div>
            </div>
            <div class="add-class-course single-class-course">
                <div class="icon icon-list-o"></div>
                <div class="single-plan">添加单一课节</div>
            </div>
            <div class="input-tip-container">
                <span class="icon icon-check-circle"></span>
                <div class="icon icon-info-circle schedule-required-error"></div>
            </div>
            <div class="plan-tip-container">
                <span class="icon icon-check-circle"></span>
                <div class="icon icon-info-circle schedule-required-error"></div>
            </div>
            <div class="input-desc">线下班课请尽量设置在8:00-22:00，线上班课请尽量设置在8:00-23:00，否则可能会导致审核不通过</div>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">时间安排</label>
        <div class="form-controls">
            <input type="text" class="form-text plan-description" value="{{ $scheduleInfo.arrangement|default:'' }}" data-validate-name="description" data-validate-trigger="blur" maxlength="50">
            <div class="input-tip-container">
                <span class="input-tip">还可以输入<span>50</span>个字</span>
                <span class="icon icon-check-circle"></span>
                <div class="icon icon-info-circle description-error"></div>
            </div>
            <div class="input-desc">请用一句话描述下班课时间安排，该描述将会首先展示给学生。示例：<span>2月1日开始，每周日8:00-10:00上课，共三次</span></div>
        </div>
    </div>

    <input type="hidden" name="specialReason" value="{{ $scheduleInfo.special_time_reason|default:'' }}"/>

    <div class="form-error" style="display:none">
        机构老师创建班课必须包含自己
    </div>
</div>