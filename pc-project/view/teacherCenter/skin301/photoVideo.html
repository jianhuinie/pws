{{ *

@file 新版老师模板页 - 首页 2016.1.8
@author wuhongjie

* }}

{{ extends file="common/pc/base.html" }}
{{ block name="data" }}

{{ strip }}
    {{ $smarty.block.parent }}
    {{ $script_path = "teacherIndex/mediaPlay" }}
    {{ $script_data.teacherId = $tpl_data.profile.user_id }}
    {{ $script_data.teacherNum = $tpl_data.profile.user_number }}
    {{ $script_data.vipLevel = $tpl_data.profile.vip_level }}
    {{ $script_data.templateLevel = $tpl_data.profile.template_level }}
    {{ $script_data.domain = $tpl_data.profile.domain }}
    {{ $script_data.trial = $tpl_data.trial_course }}
    {{ $script_data.teacherName = $tpl_data.profile.name }}
    {{ $script_data.initHeader = true }}
    {{ $script_data.ispreview = $tpl_data.is_preview }}
    {{ $script_data.isFavored = $tpl_data.is_favored }}
    {{ $script_data.crumb = $tpl_data.crumb.list[3].remark_name }}

    {{ $script_data.is_one_on_one_teacher = $tpl_data.profile.is_one_on_one_teacher }}
    {{ $script_data.one_on_one_teacher_mobile = $tpl_data.one_on_one_teacher_mobile }}

    {{ if !empty($tpl_data.profile.organization) }}
        {{ $script_data.org_id = $tpl_data.profile.organization.id }}
    {{ else }}
        {{ $script_data.org_id = 0 }}
    {{ /if }}
    {{ $script_data.trialCourseStatus = $tpl_data.trial_course.status }}

    {{ $nav_config.hidden = 1 }}
    {{ $nav_config.active = '' }}

    {{ **顶部搜索去掉placeholder支持空query** }}
    {{ $current_page = 'detail' }}
    {{ $need_mobile_seo = true }}

{{ /strip }}
{{ /block }}

{{ * SKU统计上报 * }}
{{ block name='sku_id' }}
{{ $sku_id=$tpl_data.profile.user_number }}
{{ /block }}

{{ block name="title" prepend }}
{{ $tpl_data.title }}
{{ /block }}

{{ block name="keywords" }}
{{ $tpl_data.keywords }}
{{ /block }}

{{ block name="description" }}
{{ $tpl_data.description }}
{{ /block }}

{{ block name="style" }}
<link rel="stylesheet" href="{{ $static_origin }}/src/css/teacherIndex/model3/photoVideo.less" />
{{ /block }}

{{ block name="body" }}

{{ $smarty.block.parent }}
{{ include file="common/siteNav.html" }}
{{ strip }}

{{ include file="teacherCenter/common/wrapper.html" }}
<div id="content">
    {{ $profile = $tpl_data.profile }}
    {{ $teach = $tpl_data.teach }}
    {{ include file="teacherCenter/common/scroll.html" profile = $profile active='photo' }}
    {{ include file="teacherCenter/common/header3.html" active='photo' tpl_data=$tpl_data }}
    <div class="body">
        <div id="teacher-photos">
            <div class="teacher-videos ">
                <div class="teacher-content-header"><strong>视频</strong><span>({{ count($tpl_data.video_list) }})</span></div>
                <div class="content-items">

                    {{ if !empty($tpl_data.video_list) }}
                        {{ foreach $tpl_data.video_list as $val }}
                        {{ if strpos($val.preface_url_prefix,"letvimg.com") !== false }}
                            {{ if strpos($val.preface_url, "noimg_h.jpg") === false }}
                            {{ $videoImgUrl = $val.preface_url_prefix|cat:"_682_418.jpg" }}
                            {{ $videoImgUrl_mini = $val.preface_url_prefix|cat:"_170_170.jpg" }}
                            {{ else }}
                            {{ $videoImgUrl = $val.preface_url }}
                            {{ $videoImgUrl_mini = $val.preface_url }}
                            {{ /if }}
                        {{ else }}
                            {{ include file="common/variable/photo.html" url=$val.preface_url width=682 height=418 raw_width=1 raw_height=1 }}
                            {{ $videoImgUrl = $photo }}
                            {{ include file="common/variable/photo.html" url=$val.preface_url width=159 height=159 raw_width=1 raw_height=1 }}
                            {{ $videoImgUrl_mini = $photo }}
                        {{ /if }}
                        {{ if !empty($val.name) }}
                        {{ $name = $val.name|cn_truncate:10 }}
                        {{ else }}
                        {{ $name = $profile.name|cn_truncate:10 }}
                        {{ /if }}
                        <div class="teacher-photo-item" data-type="video" data-image="{{ $videoImgUrl }}" data-video="{{ $val.video }}" data-name="{{ $name }}" >
                            <img data-src="{{ $videoImgUrl_mini }}" alt="{{ $name }}">
                            <div class="photo-intro">{{ $name }}</div>
                            <div class="video-player-icon"></div>
                        </div>
                        {{ /foreach }}
                    {{ else }}
                    <div class="no-video">
                        {{ if $profile.user_id == $user_data.user_id }}
                        <div class="no-content">
                            您还未上传任何视频，<a href="/teacher_center/video">去上传</a>
                        </div>
                        {{ else }}
                        <div class="no-content">
                            暂无视频
                        </div>
                        {{ /if }}
                    </div>
                    {{ /if }}
                </div>
            </div>

            <div class="teacher-photos ">
                <div class="teacher-content-header"><strong>照片</strong><span>({{ count($tpl_data.photo_list) }})</span></div>
                <div class="content-items">

                    {{ if !empty($tpl_data.photo_list) }}
                        {{ foreach $tpl_data.photo_list as $val }}
                        {{ if isset($val.height) && isset($val.width) }}
                            {{ include file="common/variable/photo.html" url=$val.img raw_width=$val.width raw_height=$val.height width=682 height=418 }}
                        {{ /if }}
                        {{ if !empty($val.name) }}
                        {{ $name = $val.name|cn_truncate:10 }}
                        {{ else }}
                        {{ $name = $profile.name|cn_truncate:10 }}
                        {{ /if }}
                        <div class="teacher-photo-item" data-index="{{ $val@index }}" data-type="photo" data-image="{{ $val.img }}" data-fitimage="{{ $photo }}" data-fitheight="{{ $fit_height }}" data-name="{{ $name }}" >
                        {{ if isset($val.height) && isset($val.width) }}
                            {{ include file="common/variable/photo.html" url=$val.img raw_width=$val.width raw_height=$val.height width=159 height=159 }}
                        {{ /if }}
                        <img data-src="{{ $photo }}" alt="{{ $name }}">
                        <div class="photo-intro">{{ $name }}</div>
                        </div>
                        {{ /foreach }}
                    {{ else }}
                    <div class="no-video">
                        {{ if $profile.user_id == $user_data.user_id }}
                        <div class="no-content">
                            您还未上传任何照片，<a href="/teacher_center/photos">去上传</a>
                        </div>
                        {{ else }}
                        <div class="no-content">
                            暂无照片
                        </div>
                        {{ /if }}
                    </div>
                    {{ /if }}
                </div>
            </div>

        </div>
    </div>
</div>
{{ /strip }}

{{ include file="common/script.html" }}

{{ block name="script" }}
{{ strip }}
{{ include file="common/component/loginDialog.html" onlyShowStudent=1 }}
{{ /strip }}
{{ /block }}

{{ include file="common/footer.html" }}
{{ include file="common/innerlink/searchList.html" data=$tpl_data.pageInnerLinks mod="老师" inner_type="teacher" }}
{{ /block }}